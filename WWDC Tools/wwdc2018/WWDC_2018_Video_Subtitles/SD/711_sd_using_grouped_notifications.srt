1
00:00:06,516 --> 00:00:15,516
[ Music ]


2
00:00:16,516 --> 00:00:23,076
[ Applause ]


3
00:00:23,576 --> 00:00:23,986
>> Thank you.


4
00:00:24,226 --> 00:00:24,976
Good afternoon.


5
00:00:25,166 --> 00:00:25,786
And welcome.


6
00:00:26,356 --> 00:00:27,106
My name is Michele.


7
00:00:27,426 --> 00:00:29,146
And I work in the iOS User


8
00:00:29,146 --> 00:00:30,096
Notifications team.


9
00:00:30,446 --> 00:00:32,695
Just a few minutes ago, my


10
00:00:32,695 --> 00:00:34,426
coworkers Kritarth and Teja


11
00:00:34,646 --> 00:00:35,346
[phonetic names] introduced you


12
00:00:35,346 --> 00:00:36,706
to group notifications.


13
00:00:36,926 --> 00:00:38,306
And in this session, we're going


14
00:00:38,306 --> 00:00:39,826
to explore a little bit more


15
00:00:39,826 --> 00:00:42,046
detail in-- this feature in a


16
00:00:42,046 --> 00:00:42,936
little bit more detail.


17
00:00:43,016 --> 00:00:44,596
And we'll learn how to use it


18
00:00:44,876 --> 00:00:47,246
and how to improve the


19
00:00:47,246 --> 00:00:48,706
efficiency of your notification


20
00:00:48,706 --> 00:00:49,746
and how to make them better


21
00:00:49,746 --> 00:00:50,206
organized.


22
00:00:51,816 --> 00:00:54,926
We will start by a brief


23
00:00:54,926 --> 00:00:56,236
overview of how the feature


24
00:00:56,236 --> 00:00:57,866
works and how the different


25
00:00:57,866 --> 00:00:58,996
parts of the UI work.


26
00:00:59,716 --> 00:01:01,466
Then we'll look at the default


27
00:01:01,466 --> 00:01:02,896
grouping, app grouping.


28
00:01:03,396 --> 00:01:05,476
We will see how to create custom


29
00:01:05,476 --> 00:01:07,416
groups for your notifications so


30
00:01:07,416 --> 00:01:09,606
that you can adapt the groups to


31
00:01:09,606 --> 00:01:11,736
the content of your apps.


32
00:01:12,316 --> 00:01:13,896
And finally, we will learn how


33
00:01:13,896 --> 00:01:15,616
to create custom summaries for


34
00:01:15,616 --> 00:01:17,256
your new notification groups.


35
00:01:21,796 --> 00:01:22,636
Let's start with a brief


36
00:01:22,636 --> 00:01:24,186
overview of the UI of the


37
00:01:24,186 --> 00:01:24,596
feature.


38
00:01:26,636 --> 00:01:29,346
Notification groups collect sets


39
00:01:29,346 --> 00:01:30,846
of different notifications


40
00:01:30,846 --> 00:01:32,326
together and in a group, and


41
00:01:32,326 --> 00:01:33,926
group them in a small stack.


42
00:01:34,326 --> 00:01:36,276
This helps making Notification


43
00:01:36,276 --> 00:01:38,126
Center better organized and more


44
00:01:38,126 --> 00:01:39,966
efficient for the user so that


45
00:01:39,966 --> 00:01:41,886
he can see more notifications at


46
00:01:41,886 --> 00:01:42,726
the same time.


47
00:01:42,726 --> 00:01:44,436
Without any app taking over the


48
00:01:44,436 --> 00:01:46,716
entire screen and preventing


49
00:01:46,716 --> 00:01:47,946
them from seeing some of the


50
00:01:47,946 --> 00:01:48,576
content.


51
00:01:50,656 --> 00:01:52,666
Each notification group shows


52
00:01:52,766 --> 00:01:54,166
the most recent notification


53
00:01:54,166 --> 00:01:55,646
that was delivered to that group


54
00:01:55,676 --> 00:01:56,536
at the top.


55
00:01:56,536 --> 00:01:58,016
And we call these the leading


56
00:01:58,106 --> 00:01:58,876
notification.


57
00:02:00,286 --> 00:02:02,186
Right underneath each group


58
00:02:02,186 --> 00:02:04,676
shows a brief summary that gives


59
00:02:04,676 --> 00:02:06,436
a little bit more details about


60
00:02:06,436 --> 00:02:07,686
what are the notifications


61
00:02:07,686 --> 00:02:08,666
included in the group.


62
00:02:08,666 --> 00:02:11,346
Gives you a number for, so you


63
00:02:11,346 --> 00:02:12,866
have a measure of how many


64
00:02:12,866 --> 00:02:14,186
notifications are inside.


65
00:02:14,586 --> 00:02:16,586
And in some cases, also some


66
00:02:16,586 --> 00:02:18,016
details about the content of


67
00:02:18,016 --> 00:02:18,976
those notifications.


68
00:02:22,366 --> 00:02:24,846
Notification groups also help in


69
00:02:24,846 --> 00:02:26,096
triaging notification.


70
00:02:26,096 --> 00:02:27,226
Because for example you can


71
00:02:27,256 --> 00:02:29,066
clear them, all the notification


72
00:02:29,066 --> 00:02:30,736
in that group with just one


73
00:02:30,736 --> 00:02:31,226
slide.


74
00:02:31,686 --> 00:02:32,546
And clear them all.


75
00:02:34,016 --> 00:02:36,386
But it's just as easy to expand


76
00:02:36,386 --> 00:02:37,706
the group and see all the


77
00:02:37,706 --> 00:02:39,126
notifications that are inside.


78
00:02:39,596 --> 00:02:41,096
And read one of them at a time


79
00:02:41,096 --> 00:02:42,296
and maybe clear one.


80
00:02:42,766 --> 00:02:44,266
And then when you're done, you


81
00:02:44,266 --> 00:02:46,046
can clear all of them, all of


82
00:02:46,046 --> 00:02:47,236
the group using the group


83
00:02:47,266 --> 00:02:48,806
buttons at the top.


84
00:02:52,206 --> 00:02:54,136
This was a very brief overview


85
00:02:54,456 --> 00:02:55,946
of the feature just to get more


86
00:02:57,576 --> 00:02:59,286
accustomed to the different


87
00:02:59,286 --> 00:03:00,666
parts of the UI and the


88
00:03:00,666 --> 00:03:01,306
terminology.


89
00:03:02,096 --> 00:03:04,206
So now allow, now let's see how


90
00:03:04,206 --> 00:03:05,426
the groups work and how they are


91
00:03:05,426 --> 00:03:06,466
created.


92
00:03:07,336 --> 00:03:09,236
The default behavior is app


93
00:03:09,236 --> 00:03:09,676
grouping.


94
00:03:10,656 --> 00:03:13,676
Each app gets its own group.


95
00:03:14,126 --> 00:03:15,376
And all the notifications from


96
00:03:15,376 --> 00:03:16,526
that app go to that group.


97
00:03:17,236 --> 00:03:18,226
This is the behavior that you


98
00:03:18,226 --> 00:03:19,726
get if you don't do anything.


99
00:03:19,726 --> 00:03:20,796
And you just keep sending


100
00:03:20,796 --> 00:03:24,396
notifications without adopting


101
00:03:24,396 --> 00:03:25,086
any new APIs.


102
00:03:27,296 --> 00:03:29,926
In many situations, app groups


103
00:03:29,926 --> 00:03:31,476
are sufficient, and they work


104
00:03:31,476 --> 00:03:32,066
very well.


105
00:03:32,426 --> 00:03:33,956
For example, as you see here in


106
00:03:33,956 --> 00:03:35,446
the Podcasts app, all the


107
00:03:35,446 --> 00:03:36,746
notifications are in the same


108
00:03:36,746 --> 00:03:39,266
group because Podcasts sends


109
00:03:39,266 --> 00:03:41,376
notifications that are very


110
00:03:41,376 --> 00:03:41,786
similar.


111
00:03:42,006 --> 00:03:43,596
They're notifications for new


112
00:03:43,746 --> 00:03:45,006
episodes of [inaudible] the


113
00:03:45,006 --> 00:03:45,426
shows.


114
00:03:46,076 --> 00:03:47,716
So there's no specific


115
00:03:47,716 --> 00:03:49,046
notification that is more


116
00:03:49,046 --> 00:03:50,556
interesting or something that is


117
00:03:50,556 --> 00:03:52,176
more important to show


118
00:03:52,176 --> 00:03:52,706
differently.


119
00:03:54,736 --> 00:03:56,856
As I said, as we said, it's very


120
00:03:56,856 --> 00:03:58,896
easy to tap on the group, expand


121
00:03:58,896 --> 00:04:00,666
it, and see the details inside


122
00:04:00,666 --> 00:04:00,976
the group.


123
00:04:06,516 --> 00:04:08,606
So app grouping is good.


124
00:04:09,086 --> 00:04:10,416
It keeps notifications more


125
00:04:10,416 --> 00:04:11,626
organized and Notification


126
00:04:11,626 --> 00:04:13,286
Center more compact and easier


127
00:04:13,286 --> 00:04:13,776
to use.


128
00:04:14,466 --> 00:04:17,726
But many apps have more specific


129
00:04:17,726 --> 00:04:18,245
content.


130
00:04:18,536 --> 00:04:20,136
They may need different


131
00:04:20,136 --> 00:04:21,716
organization to make


132
00:04:21,716 --> 00:04:23,546
notifications more efficient.


133
00:04:24,646 --> 00:04:26,866
And so we can create custom


134
00:04:26,866 --> 00:04:27,206
grouping.


135
00:04:28,036 --> 00:04:29,436
So in this session we will see


136
00:04:29,746 --> 00:04:32,876
first the API to create custom


137
00:04:32,876 --> 00:04:34,226
groups for your notifications.


138
00:04:34,906 --> 00:04:36,296
And then we'll look at a few


139
00:04:36,296 --> 00:04:41,546
examples of apps in iOS 12 to


140
00:04:41,606 --> 00:04:42,966
explore some of the patterns


141
00:04:42,966 --> 00:04:45,346
that they applied, and how they


142
00:04:45,736 --> 00:04:47,846
tried to balance the amount of


143
00:04:47,906 --> 00:04:49,226
content that was visible to the


144
00:04:49,226 --> 00:04:49,696
user.


145
00:04:49,696 --> 00:04:50,796
And the amount of content that


146
00:04:50,796 --> 00:04:53,476
was grouped together to help


147
00:04:53,476 --> 00:04:54,416
with the organization of


148
00:04:54,416 --> 00:04:55,976
Notification Center.


149
00:04:57,456 --> 00:04:59,646
So this is how you create a


150
00:04:59,646 --> 00:05:01,826
group for your app.


151
00:05:02,416 --> 00:05:04,166
You just set a custom thread


152
00:05:04,166 --> 00:05:05,746
identifier in the notification


153
00:05:05,746 --> 00:05:06,246
content.


154
00:05:08,386 --> 00:05:10,236
After you've done this, all the


155
00:05:10,236 --> 00:05:11,766
notifications that you send with


156
00:05:11,766 --> 00:05:14,036
the same thread identifier will


157
00:05:14,036 --> 00:05:15,926
be grouped together in


158
00:05:15,926 --> 00:05:16,806
Notification Center.


159
00:05:18,636 --> 00:05:20,426
The thread identifier can be any


160
00:05:20,426 --> 00:05:20,846
string.


161
00:05:21,986 --> 00:05:22,966
Doesn't matter what you said


162
00:05:22,966 --> 00:05:23,296
there.


163
00:05:23,946 --> 00:05:25,436
But all of the notification will


164
00:05:25,436 --> 00:05:26,096
be grouped together.


165
00:05:26,536 --> 00:05:28,606
You just need to be unique.


166
00:05:28,936 --> 00:05:30,236
You just need a unique string


167
00:05:30,236 --> 00:05:31,756
that is identifier's group.


168
00:05:32,596 --> 00:05:33,646
And that is it.


169
00:05:34,216 --> 00:05:35,646
You created a groups for your


170
00:05:35,646 --> 00:05:36,386
notifications.


171
00:05:37,606 --> 00:05:40,836
But given that it is so simple,


172
00:05:41,686 --> 00:05:43,306
we need to pay attention at how


173
00:05:43,306 --> 00:05:44,626
we create these groups.


174
00:05:45,866 --> 00:05:47,656
And also, if you're familiar


175
00:05:47,656 --> 00:05:49,796
with notifications API, you


176
00:05:49,796 --> 00:05:51,156
notice that this is not a new


177
00:05:51,156 --> 00:05:51,386
API.


178
00:05:51,476 --> 00:05:52,936
This is an API that we


179
00:05:52,936 --> 00:05:54,906
introduced in previous iOS


180
00:05:54,906 --> 00:05:55,316
releases.


181
00:05:55,316 --> 00:05:57,256
So it's a really existing and


182
00:05:57,256 --> 00:05:58,426
current iOS.


183
00:05:58,936 --> 00:06:00,726
We introduced it to, for


184
00:06:00,966 --> 00:06:02,386
[inaudible] notifications and


185
00:06:02,386 --> 00:06:03,876
for private notifications.


186
00:06:04,336 --> 00:06:05,786
So if you already adopted this


187
00:06:05,786 --> 00:06:08,096
API to support these two other


188
00:06:08,096 --> 00:06:09,666
features in previous iOS


189
00:06:09,666 --> 00:06:10,176
releases.


190
00:06:10,466 --> 00:06:11,996
Your notifications are already


191
00:06:11,996 --> 00:06:14,566
grouping today in iOS 12.


192
00:06:15,426 --> 00:06:17,346
You may want to review how the


193
00:06:17,346 --> 00:06:18,796
groups are created since now the


194
00:06:18,796 --> 00:06:19,926
context is a little bit


195
00:06:19,926 --> 00:06:20,356
different.


196
00:06:20,836 --> 00:06:23,316
So it may be useful to adjust


197
00:06:23,316 --> 00:06:24,526
them a little bit.


198
00:06:25,816 --> 00:06:28,136
So in this example, you see how


199
00:06:28,136 --> 00:06:29,456
to create a thread, set a thread


200
00:06:29,456 --> 00:06:30,616
identifier on a local


201
00:06:30,616 --> 00:06:31,356
notification.


202
00:06:32,766 --> 00:06:34,196
And of course you can set it on


203
00:06:34,196 --> 00:06:35,726
a push payload for push


204
00:06:35,726 --> 00:06:36,536
notifications.


205
00:06:42,376 --> 00:06:44,726
Okay. No, now let's go over a


206
00:06:44,726 --> 00:06:46,996
few examples from iOS 12.


207
00:06:48,136 --> 00:06:49,816
The most important thing to keep


208
00:06:49,816 --> 00:06:51,326
in mind as we go through these


209
00:06:51,326 --> 00:06:53,276
examples is the goal on


210
00:06:53,276 --> 00:06:54,266
notification grouping.


211
00:06:55,076 --> 00:06:56,226
When grouping-- by grouping


212
00:06:56,226 --> 00:06:59,276
notifications we want to make


213
00:06:59,586 --> 00:07:01,186
notifications more efficient for


214
00:07:01,186 --> 00:07:01,696
the user.


215
00:07:01,886 --> 00:07:03,956
And improve the organization in


216
00:07:03,956 --> 00:07:04,936
Notification Center.


217
00:07:05,376 --> 00:07:06,496
I'm sure you're familiar with


218
00:07:06,496 --> 00:07:09,386
the situation where one app has


219
00:07:09,386 --> 00:07:10,716
sent many notifications.


220
00:07:10,716 --> 00:07:12,286
Maybe you're in a chatty,


221
00:07:12,926 --> 00:07:14,176
messages conversations and


222
00:07:14,176 --> 00:07:15,456
someone is sending a lot of


223
00:07:15,456 --> 00:07:16,066
messages.


224
00:07:16,756 --> 00:07:17,926
We want to improve that


225
00:07:17,926 --> 00:07:19,966
situation by organizing


226
00:07:19,966 --> 00:07:21,136
notifications a little bit


227
00:07:21,136 --> 00:07:23,076
better so that the user can use


228
00:07:23,076 --> 00:07:23,976
them more effectively.


229
00:07:28,466 --> 00:07:30,246
Our first example is Calendar.


230
00:07:32,936 --> 00:07:35,456
Depending on how you organize


231
00:07:35,456 --> 00:07:37,006
your life or where you work,


232
00:07:37,656 --> 00:07:39,016
Calendar may send you a lot of


233
00:07:39,016 --> 00:07:41,886
notifications for event changes,


234
00:07:41,886 --> 00:07:42,796
event invites.


235
00:07:44,036 --> 00:07:45,816
But not all of them have the


236
00:07:45,816 --> 00:07:46,806
same importance.


237
00:07:47,076 --> 00:07:48,356
There are some notifications


238
00:07:48,356 --> 00:07:49,676
that are sent by Calendar that


239
00:07:49,676 --> 00:07:52,576
are more important than others.


240
00:07:53,086 --> 00:07:56,436
And they are event alerts that


241
00:07:56,436 --> 00:07:57,596
you set up when you create an


242
00:07:57,596 --> 00:07:57,916
event.


243
00:07:58,576 --> 00:08:00,316
Or time to leave notifications.


244
00:08:00,656 --> 00:08:02,346
These are more important because


245
00:08:02,666 --> 00:08:04,546
are notifications that I need to


246
00:08:04,546 --> 00:08:05,546
act on right now.


247
00:08:05,886 --> 00:08:07,116
If I receive a notification that


248
00:08:07,116 --> 00:08:08,736
I have a meeting in 15 minutes,


249
00:08:09,086 --> 00:08:10,536
I need to start walking, because


250
00:08:10,536 --> 00:08:11,446
I have to go to the meeting.


251
00:08:12,526 --> 00:08:13,896
But many of the other


252
00:08:13,896 --> 00:08:15,436
notifications are not something


253
00:08:15,436 --> 00:08:18,006
that need to be responded to


254
00:08:18,006 --> 00:08:18,526
immediately.


255
00:08:18,886 --> 00:08:20,986
There may be updates to share


256
00:08:20,986 --> 00:08:21,696
Calendars.


257
00:08:22,176 --> 00:08:23,986
There may be time changes in


258
00:08:23,986 --> 00:08:25,576
other events that are later in


259
00:08:25,576 --> 00:08:27,096
the day or some other day.


260
00:08:27,996 --> 00:08:29,956
And so it's useful to separate


261
00:08:29,956 --> 00:08:30,246
them.


262
00:08:31,796 --> 00:08:33,466
So what Calendar is doing is


263
00:08:33,976 --> 00:08:35,996
using the default group, the app


264
00:08:36,076 --> 00:08:38,566
group, for the bulk of the


265
00:08:38,566 --> 00:08:39,716
notification that it sends.


266
00:08:39,905 --> 00:08:41,905
And it does that by not setting


267
00:08:41,905 --> 00:08:43,686
any thread identifier on a


268
00:08:43,686 --> 00:08:45,396
majority of its notifications.


269
00:08:46,066 --> 00:08:47,556
Mail is a default value.


270
00:08:47,696 --> 00:08:49,486
So if you don't set it, that's a


271
00:08:49,486 --> 00:08:51,426
default group.


272
00:08:51,576 --> 00:08:54,076
And then Calendar sets a


273
00:08:54,076 --> 00:08:56,026
specific thread identifier just


274
00:08:56,026 --> 00:08:57,936
for these notifications that are


275
00:08:57,936 --> 00:08:59,396
more important and that it wants


276
00:08:59,396 --> 00:09:00,546
to call out.


277
00:09:02,476 --> 00:09:06,776
So the result is that most of


278
00:09:06,776 --> 00:09:08,866
the notifications from Calendar


279
00:09:08,866 --> 00:09:11,516
that are information updates


280
00:09:12,036 --> 00:09:14,186
that are not something that I


281
00:09:14,186 --> 00:09:15,406
need to react to immediately.


282
00:09:15,716 --> 00:09:17,506
Or that I don't need to have in


283
00:09:17,506 --> 00:09:18,936
reference later.


284
00:09:19,046 --> 00:09:20,126
For example, to know where the


285
00:09:20,126 --> 00:09:20,666
event is.


286
00:09:21,086 --> 00:09:22,276
They're grouped together in one


287
00:09:22,496 --> 00:09:22,796
group.


288
00:09:23,876 --> 00:09:25,476
And the other notifications that


289
00:09:25,536 --> 00:09:26,626
are the more important ones,


290
00:09:26,626 --> 00:09:28,316
more urgent or the ones that I


291
00:09:28,316 --> 00:09:29,856
need to reference maybe later to


292
00:09:29,856 --> 00:09:32,066
find the meeting room, they're


293
00:09:32,066 --> 00:09:36,866
separate than this other one.


294
00:09:37,056 --> 00:09:40,436
So this is-- just expand and I


295
00:09:40,436 --> 00:09:42,596
see what else is in my group.


296
00:09:43,286 --> 00:09:47,606
And this is the pattern that we


297
00:09:47,606 --> 00:09:48,606
learned from Calendar.


298
00:09:49,156 --> 00:09:51,066
Separate important actional


299
00:09:51,066 --> 00:09:52,796
notification from informative


300
00:09:52,796 --> 00:09:53,346
updates.


301
00:09:58,496 --> 00:10:01,256
Our next example is Messages.


302
00:10:02,796 --> 00:10:04,776
Messages is maybe the most


303
00:10:04,776 --> 00:10:06,676
straightforward notification


304
00:10:06,676 --> 00:10:07,706
group's implementation.


305
00:10:08,486 --> 00:10:09,936
It's pretty obvious.


306
00:10:09,936 --> 00:10:11,566
Messages has conversations.


307
00:10:12,256 --> 00:10:13,866
And each conversation has its


308
00:10:13,866 --> 00:10:14,846
own group.


309
00:10:16,146 --> 00:10:17,886
But we still, we can still learn


310
00:10:17,886 --> 00:10:18,716
something important.


311
00:10:18,716 --> 00:10:20,446
We can still learn a good lesson


312
00:10:20,446 --> 00:10:21,276
from Messages.


313
00:10:21,906 --> 00:10:24,866
Why is it that Messages separate


314
00:10:25,016 --> 00:10:26,706
all these groups in different


315
00:10:26,706 --> 00:10:27,936
conv-- different conversation in


316
00:10:27,936 --> 00:10:28,626
different groups?


317
00:10:28,996 --> 00:10:31,116
Well notifications that Messages


318
00:10:31,116 --> 00:10:34,386
sends are generally from people.


319
00:10:34,436 --> 00:10:35,496
From your friends, from your


320
00:10:35,496 --> 00:10:35,926
family.


321
00:10:36,216 --> 00:10:37,406
They're notifications that we


322
00:10:37,406 --> 00:10:39,526
care about, that are important.


323
00:10:40,006 --> 00:10:42,476
And second they're notifications


324
00:10:42,476 --> 00:10:44,006
that usually are short-lived.


325
00:10:44,346 --> 00:10:45,636
Because usually you respond


326
00:10:45,636 --> 00:10:46,786
pretty quickly at a Message.


327
00:10:47,126 --> 00:10:48,596
And it will go away from


328
00:10:48,596 --> 00:10:50,116
Notifications Center.


329
00:10:51,596 --> 00:10:53,746
So what Messages does is it


330
00:10:53,746 --> 00:10:56,036
creates a thread for these


331
00:10:56,576 --> 00:10:57,946
one-to-one conversation.


332
00:10:57,946 --> 00:10:59,546
And it creates a separate


333
00:10:59,886 --> 00:11:02,106
notification group for these


334
00:11:02,106 --> 00:11:02,956
group conversation.


335
00:11:03,756 --> 00:11:06,636
Just generates any group


336
00:11:06,636 --> 00:11:08,606
identifier for that thread and


337
00:11:08,606 --> 00:11:09,566
they get grouped together.


338
00:11:13,606 --> 00:11:16,076
It can expand and see, still see


339
00:11:16,076 --> 00:11:17,036
all my messages.


340
00:11:18,396 --> 00:11:20,316
So what does-- what is the


341
00:11:20,316 --> 00:11:21,386
lesson that we learned from


342
00:11:21,386 --> 00:11:22,016
Messages?


343
00:11:22,676 --> 00:11:24,456
Create groups for meaningful,


344
00:11:24,586 --> 00:11:25,816
personal communications.


345
00:11:26,626 --> 00:11:27,576
These notifications from


346
00:11:27,576 --> 00:11:30,226
Messages are usually important.


347
00:11:30,616 --> 00:11:33,856
And they live very shortly in


348
00:11:33,856 --> 00:11:34,766
Notification Center.


349
00:11:34,766 --> 00:11:37,146
So we can create many separate


350
00:11:37,146 --> 00:11:38,716
groups for all of them.


351
00:11:42,896 --> 00:11:44,756
Our final example is Mail.


352
00:11:47,046 --> 00:11:49,376
And Mail shares some of the same


353
00:11:49,376 --> 00:11:51,056
characteristics that Messages


354
00:11:51,056 --> 00:11:51,476
has.


355
00:11:52,236 --> 00:11:54,586
So they're often direct


356
00:11:54,586 --> 00:11:55,896
communications with people.


357
00:11:56,626 --> 00:12:01,376
They have a same, a similar


358
00:12:01,376 --> 00:12:03,626
concept of threads.


359
00:12:03,626 --> 00:12:04,486
Conversations.


360
00:12:05,856 --> 00:12:07,476
But there is some major


361
00:12:07,476 --> 00:12:09,326
differences between Mail and


362
00:12:09,326 --> 00:12:09,736
Messages.


363
00:12:10,626 --> 00:12:12,706
Mail can have an even higher


364
00:12:12,706 --> 00:12:14,406
volume of notifications than


365
00:12:14,406 --> 00:12:15,056
messages.


366
00:12:15,746 --> 00:12:18,556
And on the other hand, they can


367
00:12:18,556 --> 00:12:20,076
also be more long-lived.


368
00:12:20,896 --> 00:12:24,816
Mail, email is usually used for


369
00:12:25,116 --> 00:12:26,326
slower communications.


370
00:12:26,326 --> 00:12:27,836
Something that I don't expect to


371
00:12:27,836 --> 00:12:29,336
respond to immediately.


372
00:12:30,166 --> 00:12:33,236
And so organizing Mail threads,


373
00:12:33,816 --> 00:12:36,296
organizing Mail notifications by


374
00:12:36,296 --> 00:12:38,136
thread will not be ideal.


375
00:12:38,216 --> 00:12:40,506
It will create a lot of threads


376
00:12:40,646 --> 00:12:41,846
in Notification Center.


377
00:12:42,266 --> 00:12:44,486
And the UI to see in those


378
00:12:44,486 --> 00:12:46,306
thread is not very efficient.


379
00:12:46,306 --> 00:12:47,936
Mail provides a specific


380
00:12:48,476 --> 00:12:50,916
dedicated UI to displaying mail


381
00:12:50,916 --> 00:12:51,136
threads.


382
00:12:52,646 --> 00:12:54,836
So how is Mail organizing its


383
00:12:54,836 --> 00:12:55,676
notifications?


384
00:12:56,526 --> 00:12:58,566
Well, first of all, Mail


385
00:12:58,726 --> 00:13:01,186
provides some features to


386
00:13:01,186 --> 00:13:03,186
already organize and prioritize


387
00:13:03,286 --> 00:13:04,876
the emails that arrive in your


388
00:13:04,876 --> 00:13:05,336
inbox.


389
00:13:05,886 --> 00:13:09,226
Mail provides separate accounts.


390
00:13:09,226 --> 00:13:10,296
You can have many different


391
00:13:10,296 --> 00:13:12,116
accounts set up in your device.


392
00:13:13,116 --> 00:13:15,046
Provides VIP.


393
00:13:15,046 --> 00:13:17,556
You can set any contact as VIP.


394
00:13:17,556 --> 00:13:20,596
You can create-- you can have


395
00:13:20,696 --> 00:13:21,666
favorite folders.


396
00:13:22,066 --> 00:13:23,326
And you can turn on


397
00:13:23,326 --> 00:13:24,696
notifications for specific


398
00:13:24,766 --> 00:13:27,746
threads inside your mail client.


399
00:13:28,596 --> 00:13:31,116
And so it seems like the user is


400
00:13:31,116 --> 00:13:33,156
already telling us which


401
00:13:33,156 --> 00:13:34,026
notifications are more


402
00:13:34,026 --> 00:13:34,566
important.


403
00:13:34,566 --> 00:13:35,746
Which email messages are more


404
00:13:35,746 --> 00:13:37,036
important and which are less


405
00:13:37,036 --> 00:13:37,616
important.


406
00:13:37,926 --> 00:13:39,156
And that is what Mail does.


407
00:13:39,836 --> 00:13:43,116
Mail organizes notifications


408
00:13:43,276 --> 00:13:44,766
first by starting with the


409
00:13:44,966 --> 00:13:45,896
account group.


410
00:13:46,436 --> 00:13:48,186
It creates one big account for


411
00:13:48,236 --> 00:13:49,926
all the emails that arrive in a


412
00:13:49,926 --> 00:13:50,776
specific account.


413
00:13:51,786 --> 00:13:53,546
If I had multiple accounts, each


414
00:13:53,546 --> 00:13:55,566
one would get its own group.


415
00:13:56,316 --> 00:14:00,016
But then if a contact that is in


416
00:14:00,016 --> 00:14:02,296
my VIP contact sends an email to


417
00:14:02,296 --> 00:14:03,016
that account.


418
00:14:03,796 --> 00:14:06,286
That email is separated out to a


419
00:14:06,346 --> 00:14:08,536
different group because I said


420
00:14:08,536 --> 00:14:09,706
that's a VIP person.


421
00:14:09,706 --> 00:14:11,016
That's a contract that I want to


422
00:14:11,016 --> 00:14:13,836
be informed about immediately


423
00:14:13,916 --> 00:14:16,616
when it sends an email.


424
00:14:16,616 --> 00:14:18,226
And if I turn on thread


425
00:14:18,226 --> 00:14:19,826
notifications for some specific


426
00:14:19,876 --> 00:14:22,256
threads inside of Mail, also,


427
00:14:22,256 --> 00:14:24,256
those also get separated out in


428
00:14:24,346 --> 00:14:24,976
their own group.


429
00:14:29,266 --> 00:14:32,166
So you see that while Mail


430
00:14:32,466 --> 00:14:34,636
shares some of the same


431
00:14:34,636 --> 00:14:37,356
characteristics as Messages, the


432
00:14:37,356 --> 00:14:38,266
approach of grouping


433
00:14:38,266 --> 00:14:39,416
notification is a little


434
00:14:39,416 --> 00:14:39,876
different.


435
00:14:39,936 --> 00:14:41,656
Because the use of the


436
00:14:41,656 --> 00:14:43,336
notification and of the app and


437
00:14:43,336 --> 00:14:45,266
the content is different.


438
00:14:46,216 --> 00:14:49,036
So what is Mail telling us here?


439
00:14:49,776 --> 00:14:51,726
Respect the user's priorities


440
00:14:51,776 --> 00:14:52,746
and organization.


441
00:14:53,116 --> 00:14:54,796
Mail provides feature to


442
00:14:54,796 --> 00:14:57,306
organize email and to prioritize


443
00:14:57,306 --> 00:14:57,966
the content.


444
00:14:58,356 --> 00:15:00,926
So we can use that to organize


445
00:15:00,926 --> 00:15:01,976
notifications that Mail sends.


446
00:15:10,246 --> 00:15:12,196
So now that we've seen how to


447
00:15:12,196 --> 00:15:14,566
create as many groups as we


448
00:15:14,566 --> 00:15:18,776
want, we'll see how to make


449
00:15:18,776 --> 00:15:20,146
these groups a little bit more


450
00:15:20,146 --> 00:15:20,656
clear.


451
00:15:20,656 --> 00:15:22,106
By providing some bits of


452
00:15:22,106 --> 00:15:23,926
information in the group.


453
00:15:25,186 --> 00:15:27,576
That describes the content that


454
00:15:27,576 --> 00:15:28,136
they contain.


455
00:15:30,596 --> 00:15:33,216
As we see in these example of my


456
00:15:33,216 --> 00:15:34,576
Notification Center from last


457
00:15:34,576 --> 00:15:34,726
week.


458
00:15:35,686 --> 00:15:37,446
Each group has a little short


459
00:15:37,446 --> 00:15:38,486
summary at the bottom.


460
00:15:38,666 --> 00:15:39,936
And it explains a little bit of


461
00:15:39,936 --> 00:15:41,076
what that group is about.


462
00:15:41,566 --> 00:15:43,136
For example, you see Mail says


463
00:15:43,136 --> 00:15:45,136
that I have a few emails from in


464
00:15:45,136 --> 00:15:46,076
my work account.


465
00:15:47,466 --> 00:15:49,116
Podcasts is telling me that I


466
00:15:49,116 --> 00:15:50,456
have a bunch of new episodes


467
00:15:50,496 --> 00:15:52,186
that were delivered to my


468
00:15:52,576 --> 00:15:56,496
Podcasts app to listen.


469
00:15:56,556 --> 00:15:59,166
And News tells me I have nine


470
00:15:59,166 --> 00:16:00,726
more notifications from National


471
00:16:00,726 --> 00:16:01,746
Geographic.


472
00:16:05,186 --> 00:16:07,356
Let's explore this one a little


473
00:16:07,356 --> 00:16:07,616
bit.


474
00:16:07,656 --> 00:16:10,426
If your nine notifications said


475
00:16:10,426 --> 00:16:12,096
default message that we set in


476
00:16:12,096 --> 00:16:13,796
groups if you don't customize


477
00:16:13,796 --> 00:16:14,326
your summary.


478
00:16:15,166 --> 00:16:18,856
But you can better describe your


479
00:16:18,856 --> 00:16:19,366
content.


480
00:16:19,416 --> 00:16:20,916
For example, if you have an app


481
00:16:20,976 --> 00:16:22,176
that sends messages.


482
00:16:22,966 --> 00:16:24,856
You may want to see, you may


483
00:16:24,856 --> 00:16:26,056
want to say there that you're


484
00:16:26,056 --> 00:16:27,306
sending nine more messages.


485
00:16:28,156 --> 00:16:30,006
So how you do that?


486
00:16:30,776 --> 00:16:32,206
The first thing you have to do


487
00:16:32,236 --> 00:16:34,186
is to pick a summary format.


488
00:16:34,446 --> 00:16:36,316
And this is a format string that


489
00:16:36,316 --> 00:16:37,906
just describes your content with


490
00:16:37,906 --> 00:16:39,356
a numerical placeholder.


491
00:16:39,636 --> 00:16:41,926
As we see here, number, more


492
00:16:41,926 --> 00:16:42,646
messages.


493
00:16:42,956 --> 00:16:45,876
And then you set this format


494
00:16:45,876 --> 00:16:47,566
string in the notification


495
00:16:47,566 --> 00:16:49,776
category that you're going to


496
00:16:49,776 --> 00:16:50,926
use to send a notification.


497
00:16:54,276 --> 00:16:55,586
If you notice, the summary


498
00:16:55,586 --> 00:16:57,386
format is set on the category.


499
00:16:57,806 --> 00:16:59,356
Whereas the thread was set on


500
00:16:59,356 --> 00:17:00,546
the notification content.


501
00:17:01,076 --> 00:17:02,796
This is because categories as


502
00:17:02,796 --> 00:17:06,266
you know are types, groups, of


503
00:17:06,366 --> 00:17:08,626
notifications that you send that


504
00:17:08,626 --> 00:17:09,326
are similar.


505
00:17:09,955 --> 00:17:11,596
For example, messages has


506
00:17:11,656 --> 00:17:12,935
different categories for


507
00:17:13,336 --> 00:17:14,945
one-to-one conversations.


508
00:17:15,026 --> 00:17:16,675
And group conversations.


509
00:17:17,046 --> 00:17:18,266
And this means that they can set


510
00:17:18,266 --> 00:17:19,806
different summaries for those


511
00:17:19,806 --> 00:17:20,616
two categories.


512
00:17:21,106 --> 00:17:22,326
That is why the summary format


513
00:17:22,326 --> 00:17:23,766
is set in the category here.


514
00:17:27,435 --> 00:17:29,546
And while you're here updating


515
00:17:29,546 --> 00:17:31,166
your notification category for


516
00:17:31,526 --> 00:17:33,306
notification groups, you can


517
00:17:33,306 --> 00:17:35,536
also set this hidden previous


518
00:17:35,536 --> 00:17:38,216
placeholder property which is


519
00:17:38,216 --> 00:17:40,346
very similar to the summary that


520
00:17:40,346 --> 00:17:41,816
we used for notification groups.


521
00:17:42,656 --> 00:17:43,936
The major difference between


522
00:17:43,936 --> 00:17:45,916
these two is the context in


523
00:17:45,916 --> 00:17:46,656
which they're used.


524
00:17:47,586 --> 00:17:48,906
The hidden previous placeholder


525
00:17:48,906 --> 00:17:49,866
is not a new feature.


526
00:17:49,866 --> 00:17:50,726
It's a feature that we


527
00:17:50,726 --> 00:17:52,906
introduced last year in iOS 11.


528
00:17:53,696 --> 00:17:56,486
And this customizes the text


529
00:17:56,816 --> 00:17:58,736
that is displayed instead of the


530
00:17:58,736 --> 00:18:00,566
notification when the user sets


531
00:18:00,566 --> 00:18:02,066
the notification to be private.


532
00:18:02,876 --> 00:18:03,916
If I set a notification to be


533
00:18:03,916 --> 00:18:07,066
private, I say nine more


534
00:18:07,066 --> 00:18:07,776
messages.


535
00:18:08,286 --> 00:18:09,926
But then when I authenticate and


536
00:18:09,926 --> 00:18:12,156
I unlock my device, I can see


537
00:18:12,306 --> 00:18:13,696
the expanding notification and


538
00:18:13,696 --> 00:18:15,536
the summary underneath that says


539
00:18:16,006 --> 00:18:17,066
eight more messages.


540
00:18:17,476 --> 00:18:19,486
And that is why the summary


541
00:18:19,486 --> 00:18:21,646
format has more messages.


542
00:18:22,066 --> 00:18:23,726
And the preview placeholder has


543
00:18:23,726 --> 00:18:25,806
only the number of messages.


544
00:18:31,196 --> 00:18:34,436
So that was the setup for a


545
00:18:34,436 --> 00:18:36,166
basic summary.


546
00:18:36,826 --> 00:18:38,486
But Messages for group


547
00:18:38,486 --> 00:18:39,776
conversation has a more


548
00:18:39,776 --> 00:18:41,816
interesting summary, where it


549
00:18:41,816 --> 00:18:43,416
says the number of messages.


550
00:18:43,696 --> 00:18:46,096
But also the people that sent


551
00:18:46,096 --> 00:18:48,926
those messages in that thread in


552
00:18:48,926 --> 00:18:49,736
that conversation.


553
00:18:49,736 --> 00:18:52,676
And we cannot do that with the


554
00:18:52,676 --> 00:18:54,056
formula that we just specified


555
00:18:54,056 --> 00:18:55,916
because it only has a numerical


556
00:18:55,916 --> 00:18:56,586
placeholder.


557
00:18:57,656 --> 00:19:00,476
So what we do is we create a


558
00:19:00,476 --> 00:19:02,736
different summary format that


559
00:19:02,736 --> 00:19:06,206
contains a numerical string-- a


560
00:19:06,206 --> 00:19:07,986
numerical placeholder and a


561
00:19:07,986 --> 00:19:08,966
string placeholder.


562
00:19:09,286 --> 00:19:11,196
As you see here, number, more


563
00:19:11,196 --> 00:19:13,176
messages from a string.


564
00:19:13,786 --> 00:19:15,926
And we will replace the second


565
00:19:15,926 --> 00:19:17,486
placeholder with a list of names


566
00:19:17,876 --> 00:19:19,246
that are in the notifications.


567
00:19:20,856 --> 00:19:22,736
Still set the summary format in


568
00:19:22,736 --> 00:19:23,376
the category.


569
00:19:24,126 --> 00:19:25,936
And then we have to collect


570
00:19:25,936 --> 00:19:26,636
these names.


571
00:19:28,376 --> 00:19:30,306
To send these names, you set


572
00:19:30,366 --> 00:19:33,076
them in the notification content


573
00:19:33,136 --> 00:19:33,566
again.


574
00:19:33,706 --> 00:19:35,216
Because each notification can be


575
00:19:35,216 --> 00:19:36,716
sent by a different person.


576
00:19:36,716 --> 00:19:40,396
And they can be different names.


577
00:19:40,576 --> 00:19:42,466
So we will collect all of those


578
00:19:42,466 --> 00:19:44,976
names, build them up in a string


579
00:19:44,976 --> 00:19:48,726
and replace them in the summary.


580
00:19:49,046 --> 00:19:50,956
Oh, this is the push payload of


581
00:19:51,006 --> 00:19:52,786
course also supports summary


582
00:19:52,786 --> 00:19:53,356
arguments.


583
00:19:53,866 --> 00:19:56,226
And this is how the summary


584
00:19:56,396 --> 00:19:58,496
looks after we collected all the


585
00:19:58,496 --> 00:20:00,306
names and formatted them in the


586
00:20:00,306 --> 00:20:00,966
summary argument.


587
00:20:06,096 --> 00:20:07,546
The names don't need to be


588
00:20:07,546 --> 00:20:07,996
unique.


589
00:20:08,186 --> 00:20:11,166
You can send many notifications


590
00:20:11,166 --> 00:20:12,006
with the same name.


591
00:20:12,526 --> 00:20:15,506
And in this, in the Mail case,


592
00:20:15,506 --> 00:20:16,896
for example, all the


593
00:20:16,896 --> 00:20:18,396
notifications have the same name


594
00:20:18,396 --> 00:20:19,386
because they're all in the same


595
00:20:19,386 --> 00:20:19,856
account.


596
00:20:20,176 --> 00:20:22,256
We will handle de-duplicating


597
00:20:22,256 --> 00:20:23,716
them and will display only one


598
00:20:23,866 --> 00:20:25,796
instance for each single name


599
00:20:25,796 --> 00:20:26,566
that is visible.


600
00:20:32,016 --> 00:20:34,766
Next example is Podcasts.


601
00:20:35,396 --> 00:20:37,566
Podcasts shows us another small


602
00:20:37,566 --> 00:20:40,226
detail about this API.


603
00:20:40,346 --> 00:20:41,396
What is special about this


604
00:20:41,396 --> 00:20:42,116
notification?


605
00:20:42,956 --> 00:20:44,426
In this notification, Podcasts


606
00:20:44,426 --> 00:20:46,426
is saying that there are two new


607
00:20:46,426 --> 00:20:49,506
episodes available in my leading


608
00:20:49,506 --> 00:20:51,816
notification Podcasts.


609
00:20:53,276 --> 00:20:54,776
And the summary says that there


610
00:20:54,776 --> 00:20:56,966
are seven more episodes from a


611
00:20:56,966 --> 00:20:57,746
number of shows.


612
00:20:58,656 --> 00:21:00,326
And what happens when I expand


613
00:21:00,326 --> 00:21:01,126
this group?


614
00:21:03,276 --> 00:21:04,906
What happens is that there are


615
00:21:04,906 --> 00:21:05,976
only three external


616
00:21:05,976 --> 00:21:07,366
notifications in the group.


617
00:21:07,826 --> 00:21:10,106
Not seven like the summary said.


618
00:21:10,366 --> 00:21:11,796
And in previous examples, the


619
00:21:11,796 --> 00:21:13,816
number in the summary matched


620
00:21:14,076 --> 00:21:15,886
the number of notifications that


621
00:21:15,886 --> 00:21:18,206
were contained in the group.


622
00:21:18,396 --> 00:21:19,556
So what is happening here?


623
00:21:20,936 --> 00:21:23,386
Well, since Podcasts does these


624
00:21:23,386 --> 00:21:25,176
bundling on notification and


625
00:21:25,176 --> 00:21:26,886
they try to limit the number of


626
00:21:26,886 --> 00:21:28,196
notifications they send.


627
00:21:28,716 --> 00:21:30,706
When a show releases multiple


628
00:21:30,706 --> 00:21:32,106
episodes at the same time.


629
00:21:32,576 --> 00:21:33,716
They have these notifications


630
00:21:33,716 --> 00:21:35,566
that say, "Two new episodes are


631
00:21:35,566 --> 00:21:36,796
available, three new episodes


632
00:21:36,796 --> 00:21:37,246
are available."


633
00:21:38,286 --> 00:21:41,426
And if you sum the number, the


634
00:21:41,426 --> 00:21:42,866
number of episodes in the bottom


635
00:21:42,866 --> 00:21:44,146
three notifications, there were


636
00:21:44,466 --> 00:21:45,696
the ones that accounted for the


637
00:21:45,696 --> 00:21:47,006
summary, you can see that the


638
00:21:47,006 --> 00:21:47,846
total is seven.


639
00:21:48,966 --> 00:21:51,106
So let's see how the API for


640
00:21:51,106 --> 00:21:51,786
this works.


641
00:21:52,376 --> 00:21:55,146
It's just another property on


642
00:21:55,146 --> 00:21:56,796
the notification content and


643
00:21:56,796 --> 00:21:58,246
it's called summary argument


644
00:21:58,296 --> 00:21:58,656
count.


645
00:22:00,066 --> 00:22:01,856
And this count expresses the


646
00:22:01,856 --> 00:22:03,986
number of items that summary


647
00:22:03,986 --> 00:22:05,666
argument account, accounts for.


648
00:22:05,986 --> 00:22:06,706
In the summary.


649
00:22:07,256 --> 00:22:10,516
We will collect again as before


650
00:22:10,516 --> 00:22:11,236
all the names.


651
00:22:11,806 --> 00:22:13,786
We will sum up all the counts.


652
00:22:14,006 --> 00:22:16,036
And we will create the summary.


653
00:22:16,996 --> 00:22:19,466
And again as we can see, these


654
00:22:19,466 --> 00:22:21,556
notification would have summary


655
00:22:21,556 --> 00:22:23,386
argument count three, one,


656
00:22:23,496 --> 00:22:25,056
three, total is seven.


657
00:22:25,776 --> 00:22:27,516
And that's the summary that we


658
00:22:27,516 --> 00:22:27,946
displayed.


659
00:22:28,386 --> 00:22:31,916
And as everything else, of


660
00:22:31,916 --> 00:22:33,356
course you can also set it in


661
00:22:33,356 --> 00:22:34,136
the push payload.


662
00:22:37,916 --> 00:22:39,636
The summary argument count is


663
00:22:39,636 --> 00:22:40,096
optional.


664
00:22:40,646 --> 00:22:42,776
Defaults to one so you can only


665
00:22:42,776 --> 00:22:44,866
need to set it if you're doing


666
00:22:44,866 --> 00:22:45,996
this type of bundling on


667
00:22:45,996 --> 00:22:46,686
notifications.


668
00:22:46,686 --> 00:22:47,706
You don't need to set it always.


669
00:22:54,086 --> 00:22:57,236
Now, we are playing with words


670
00:22:57,506 --> 00:22:59,346
and we are building sentences.


671
00:22:59,346 --> 00:23:01,936
And when you do that, you always


672
00:23:01,936 --> 00:23:04,606
need to account for different


673
00:23:04,606 --> 00:23:06,256
languages and you need to


674
00:23:06,256 --> 00:23:07,646
account for plurals in this


675
00:23:07,646 --> 00:23:07,966
case.


676
00:23:07,966 --> 00:23:09,036
Because we have numbers.


677
00:23:11,816 --> 00:23:13,756
Again, another Podcast


678
00:23:13,756 --> 00:23:14,376
notification.


679
00:23:14,376 --> 00:23:15,536
For example, in this case.


680
00:23:15,846 --> 00:23:17,206
It says, "Four more episodes."


681
00:23:17,906 --> 00:23:19,576
But if I only had one more


682
00:23:19,576 --> 00:23:21,796
episode, that string would need


683
00:23:21,796 --> 00:23:22,496
to be different.


684
00:23:23,266 --> 00:23:24,996
But the API only allows us to


685
00:23:24,996 --> 00:23:25,816
set one string.


686
00:23:27,156 --> 00:23:29,536
And now we need two.


687
00:23:29,786 --> 00:23:30,986
You need two in English.


688
00:23:31,766 --> 00:23:33,826
But if you want to start to


689
00:23:33,826 --> 00:23:36,826
localize your app or if your


690
00:23:36,826 --> 00:23:38,316
main language is not English,


691
00:23:38,316 --> 00:23:39,496
you're writing up for a


692
00:23:39,496 --> 00:23:40,386
different language.


693
00:23:41,136 --> 00:23:43,156
Some languages have different


694
00:23:43,156 --> 00:23:44,226
rules for plurals.


695
00:23:44,556 --> 00:23:46,126
They may not have two cases.


696
00:23:46,156 --> 00:23:47,006
They may have three.


697
00:23:47,416 --> 00:23:49,156
And they may have cases that


698
00:23:49,156 --> 00:23:50,116
apply with different rules.


699
00:23:51,666 --> 00:23:54,766
So iOS in the foundation


700
00:23:54,766 --> 00:23:56,926
frameworks provides support for


701
00:23:56,926 --> 00:23:57,986
localizing these kind of


702
00:23:57,986 --> 00:23:58,446
strings.


703
00:23:58,906 --> 00:24:00,546
So you don't need to learn all


704
00:24:00,546 --> 00:24:01,196
the rules.


705
00:24:01,196 --> 00:24:02,576
And you don't need to know all


706
00:24:02,576 --> 00:24:03,596
the languages that you're going


707
00:24:03,596 --> 00:24:04,696
to translate your app to.


708
00:24:05,886 --> 00:24:08,576
And it's very simple to adopt


709
00:24:08,576 --> 00:24:11,296
and translate each string to


710
00:24:11,296 --> 00:24:12,696
have the correct plural form.


711
00:24:18,376 --> 00:24:20,116
The first thing that we need to


712
00:24:20,506 --> 00:24:24,776
do to adopt this 'fix our


713
00:24:24,776 --> 00:24:26,826
problem with plurals' is to


714
00:24:26,826 --> 00:24:28,876
replace the literal string that


715
00:24:28,876 --> 00:24:30,656
we use for the summary format,


716
00:24:31,026 --> 00:24:32,566
with a localized string.


717
00:24:32,986 --> 00:24:36,256
And remember here that you need


718
00:24:36,256 --> 00:24:38,066
to use our special notification


719
00:24:38,106 --> 00:24:39,836
API for localized strings,


720
00:24:40,596 --> 00:24:43,536
because we need to store these


721
00:24:43,536 --> 00:24:44,946
localized string and set it


722
00:24:44,946 --> 00:24:45,556
aside.


723
00:24:46,146 --> 00:24:48,136
Because in the case that the


724
00:24:48,136 --> 00:24:49,916
language of the system changes


725
00:24:50,546 --> 00:24:51,056
later.


726
00:24:51,366 --> 00:24:52,746
If you send notifications, we


727
00:24:52,746 --> 00:24:53,846
send them with the correct


728
00:24:53,846 --> 00:24:56,166
localization after the system


729
00:24:56,166 --> 00:24:57,196
localization change.


730
00:24:59,716 --> 00:25:01,906
So after you set a localized


731
00:25:01,906 --> 00:25:03,426
string here, you need to


732
00:25:03,426 --> 00:25:04,416
localize the string.


733
00:25:05,606 --> 00:25:08,976
And you localize the string in a


734
00:25:09,206 --> 00:25:10,766
strings dict file.


735
00:25:11,426 --> 00:25:12,996
A strings dict file is a


736
00:25:13,436 --> 00:25:14,646
property list file that


737
00:25:14,646 --> 00:25:18,036
describes a performance string


738
00:25:18,236 --> 00:25:20,186
and a configuration dictionary.


739
00:25:20,526 --> 00:25:21,956
In the configuration dictionary


740
00:25:21,956 --> 00:25:23,526
here at the bottom, you see the


741
00:25:23,526 --> 00:25:26,646
two versions of the string for


742
00:25:26,646 --> 00:25:28,586
singular and plural in English.


743
00:25:29,526 --> 00:25:31,396
But as I said, all you need to


744
00:25:31,396 --> 00:25:33,046
do to support other languages


745
00:25:33,046 --> 00:25:34,256
and different pluralization


746
00:25:34,256 --> 00:25:37,296
rules is change this stings dict


747
00:25:37,296 --> 00:25:37,666
file.


748
00:25:37,936 --> 00:25:38,796
You create a new one.


749
00:25:38,956 --> 00:25:40,776
And you see here Hebrew has


750
00:25:40,826 --> 00:25:42,356
three different cases for


751
00:25:43,556 --> 00:25:44,096
plurals.


752
00:25:44,696 --> 00:25:47,106
And Russian has three different


753
00:25:47,106 --> 00:25:48,616
ones and they're different from


754
00:25:48,616 --> 00:25:48,996
Hebrew.


755
00:25:49,216 --> 00:25:51,336
And you don't need to know which


756
00:25:51,336 --> 00:25:52,266
one to use when.


757
00:25:52,716 --> 00:25:53,886
If you use the foundation API


758
00:25:53,886 --> 00:25:54,656
that we provide.


759
00:25:56,776 --> 00:25:59,666
This is for the simple summary


760
00:26:00,276 --> 00:26:01,286
format that we just saw.


761
00:26:02,106 --> 00:26:04,416
But of course we can also format


762
00:26:05,866 --> 00:26:07,106
summaries with arguments.


763
00:26:08,216 --> 00:26:11,866
You see we define the format


764
00:26:11,866 --> 00:26:12,986
string at the top.


765
00:26:13,486 --> 00:26:14,746
We need to match the


766
00:26:14,746 --> 00:26:17,536
configuration dictionary by key.


767
00:26:18,756 --> 00:26:20,396
And underneath we specify the


768
00:26:20,396 --> 00:26:21,646
two strings for the two


769
00:26:21,646 --> 00:26:22,456
different versions.


770
00:26:23,496 --> 00:26:25,586
With the numerical placeholder


771
00:26:26,026 --> 00:26:28,216
and the placeholder for the list


772
00:26:28,606 --> 00:26:29,526
that we're going to provide with


773
00:26:29,526 --> 00:26:29,786
names.


774
00:26:35,126 --> 00:26:39,146
So since we're exchanging these


775
00:26:39,146 --> 00:26:41,896
format strings between apps and


776
00:26:42,006 --> 00:26:42,806
the system.


777
00:26:43,256 --> 00:26:44,646
These are effectively part of


778
00:26:44,646 --> 00:26:44,996
the API.


779
00:26:45,736 --> 00:26:47,826
So there's only a limited number


780
00:26:47,946 --> 00:26:50,236
of formats that we can support.


781
00:26:51,346 --> 00:26:52,936
And we need to agree on those.


782
00:26:53,676 --> 00:26:54,576
And they are the ones that I


783
00:26:54,576 --> 00:26:55,436
just showed you in these


784
00:26:55,436 --> 00:26:56,116
examples.


785
00:26:56,866 --> 00:26:58,506
The first format that you can


786
00:26:58,506 --> 00:26:59,996
use is the one with one


787
00:27:00,186 --> 00:27:01,486
numerical placeholder.


788
00:27:02,066 --> 00:27:03,136
When you don't need the


789
00:27:03,136 --> 00:27:04,696
arguments and you need to


790
00:27:04,696 --> 00:27:07,496
specify an unsigned number.


791
00:27:09,206 --> 00:27:10,996
And the second format that you


792
00:27:10,996 --> 00:27:13,216
need, you can use is the one


793
00:27:13,216 --> 00:27:14,686
with the numerical placeholder


794
00:27:14,766 --> 00:27:16,166
and the string placeholder.


795
00:27:16,166 --> 00:27:19,196
We will automatically detect


796
00:27:19,496 --> 00:27:20,966
which string you are using and


797
00:27:21,006 --> 00:27:21,976
format them correctly.


798
00:27:27,426 --> 00:27:29,416
Now we're all done with the


799
00:27:29,416 --> 00:27:31,636
features of notification


800
00:27:31,636 --> 00:27:32,046
grouping.


801
00:27:32,576 --> 00:27:34,376
But before you leave, I want to


802
00:27:34,376 --> 00:27:35,786
give you a couple more tips


803
00:27:36,396 --> 00:27:37,986
about notification grouping and


804
00:27:37,986 --> 00:27:40,026
these API that will help you


805
00:27:40,026 --> 00:27:42,766
finish the last bit of polish in


806
00:27:42,766 --> 00:27:44,546
your app.


807
00:27:45,436 --> 00:27:48,396
The first step is about


808
00:27:48,396 --> 00:27:52,416
combining different summaries.


809
00:27:52,616 --> 00:27:54,606
Since we saw that you can set


810
00:27:54,656 --> 00:27:57,136
different summaries in different


811
00:27:57,136 --> 00:27:57,786
categories.


812
00:27:58,186 --> 00:28:00,816
And the thread group are defined


813
00:28:00,816 --> 00:28:02,136
in the notification content.


814
00:28:02,526 --> 00:28:04,526
That means that you can mix in


815
00:28:04,526 --> 00:28:06,826
the same group notifications


816
00:28:06,826 --> 00:28:08,196
that have different summaries.


817
00:28:08,696 --> 00:28:09,986
And what happens when you do


818
00:28:09,986 --> 00:28:10,216
that?


819
00:28:11,276 --> 00:28:12,946
So there's two main cases.


820
00:28:13,756 --> 00:28:16,206
If none of the summaries in that


821
00:28:16,206 --> 00:28:18,756
group have any arguments, we'll


822
00:28:18,756 --> 00:28:21,166
try to combine all the summaries


823
00:28:21,166 --> 00:28:22,726
in the list and display them


824
00:28:22,726 --> 00:28:24,246
like this.


825
00:28:24,516 --> 00:28:28,196
But if any of the notification


826
00:28:28,196 --> 00:28:31,116
summaries in that group have any


827
00:28:31,116 --> 00:28:32,966
arguments, we're going to have


828
00:28:32,966 --> 00:28:34,246
to fall back to the default


829
00:28:34,246 --> 00:28:34,776
message.


830
00:28:40,276 --> 00:28:43,486
The second tip is about enriched


831
00:28:43,486 --> 00:28:45,026
notifications and groups.


832
00:28:46,436 --> 00:28:47,836
So we introduced enriched


833
00:28:47,836 --> 00:28:49,836
notifications a while ago in


834
00:28:49,966 --> 00:28:50,516
iOS.


835
00:28:51,006 --> 00:28:52,976
And they continued working in


836
00:28:53,116 --> 00:28:54,406
with group notifications.


837
00:28:55,356 --> 00:28:58,166
And when the user presses on a


838
00:28:58,166 --> 00:28:59,576
group to see the enriched


839
00:28:59,576 --> 00:29:01,566
notification that loads your


840
00:29:01,566 --> 00:29:02,826
content extension for that


841
00:29:02,926 --> 00:29:05,406
group, what happens is that your


842
00:29:05,406 --> 00:29:07,756
notification will be loaded with


843
00:29:08,126 --> 00:29:09,856
the leading notification.


844
00:29:09,856 --> 00:29:11,096
The one that is displayed at the


845
00:29:11,146 --> 00:29:13,186
top, and you receive it in


846
00:29:13,186 --> 00:29:14,806
notification using the usual


847
00:29:15,106 --> 00:29:16,496
[inaudible] notification API.


848
00:29:21,046 --> 00:29:22,456
Once the extension is loaded,


849
00:29:22,826 --> 00:29:24,536
you can load additional


850
00:29:24,536 --> 00:29:25,516
notifications.


851
00:29:25,516 --> 00:29:26,716
For example, the same ones that


852
00:29:26,716 --> 00:29:29,096
are in the group or if you want


853
00:29:29,096 --> 00:29:30,196
to display different content,


854
00:29:30,196 --> 00:29:31,266
you can also load it with your


855
00:29:31,266 --> 00:29:31,656
own API.


856
00:29:35,216 --> 00:29:37,546
Then while your extension is


857
00:29:37,546 --> 00:29:39,286
open and is running, if


858
00:29:39,286 --> 00:29:40,806
additional notifications are


859
00:29:40,806 --> 00:29:42,596
delivered to the same group, so


860
00:29:42,596 --> 00:29:43,566
they have the same thread


861
00:29:43,566 --> 00:29:45,316
identifier, they will be


862
00:29:45,316 --> 00:29:47,126
delivered to your content


863
00:29:47,126 --> 00:29:49,466
extension using the same did


864
00:29:49,466 --> 00:29:50,856
received notification method


865
00:29:51,166 --> 00:29:51,856
that you receive at the


866
00:29:51,856 --> 00:29:52,266
beginning.


867
00:29:56,316 --> 00:29:58,956
And lastly, if you display, if


868
00:29:58,956 --> 00:30:01,086
you already displayed additional


869
00:30:01,086 --> 00:30:02,696
notifications to the user by


870
00:30:03,216 --> 00:30:04,946
loading them from the delivery


871
00:30:04,946 --> 00:30:05,826
notifications.


872
00:30:06,186 --> 00:30:08,156
Or by loading them from your own


873
00:30:08,276 --> 00:30:10,366
API, you should remove them from


874
00:30:10,366 --> 00:30:11,576
Notification Center.


875
00:30:11,906 --> 00:30:13,996
To continue keeping Notification


876
00:30:13,996 --> 00:30:16,736
Center organized and more


877
00:30:16,736 --> 00:30:16,966
efficient.


878
00:30:18,336 --> 00:30:20,696
I want to recap a little what we


879
00:30:20,696 --> 00:30:21,356
talked about.


880
00:30:21,926 --> 00:30:23,666
It was a long presentation, and


881
00:30:23,796 --> 00:30:25,156
there were a lot of details.


882
00:30:25,156 --> 00:30:26,676
But I only have two very


883
00:30:26,676 --> 00:30:27,716
important things that I want you


884
00:30:27,716 --> 00:30:28,506
to remember here.


885
00:30:29,036 --> 00:30:31,266
The first one is the goal of


886
00:30:31,266 --> 00:30:32,266
notification grouping.


887
00:30:32,816 --> 00:30:33,866
The goal of notification


888
00:30:33,866 --> 00:30:36,166
grouping is to better organize


889
00:30:36,166 --> 00:30:38,146
Notification Center and help


890
00:30:38,146 --> 00:30:40,706
your users be more efficient in


891
00:30:40,706 --> 00:30:41,456
when they're using your


892
00:30:41,456 --> 00:30:42,186
notifications.


893
00:30:42,576 --> 00:30:44,116
This will help them triage them,


894
00:30:44,336 --> 00:30:46,026
and will have them receiving


895
00:30:46,026 --> 00:30:47,176
important information more


896
00:30:47,176 --> 00:30:49,336
quickly and react better.


897
00:30:50,576 --> 00:30:55,066
And the second thing I want you


898
00:30:55,066 --> 00:30:57,096
to remember is to add custom


899
00:30:57,096 --> 00:30:58,526
summaries to improve clarity.


900
00:30:59,336 --> 00:31:00,746
As you see in my examples, for


901
00:31:00,746 --> 00:31:03,036
example in podcasts or in Mail,


902
00:31:03,776 --> 00:31:05,446
just that little bit of text


903
00:31:05,556 --> 00:31:07,826
underneath the notification


904
00:31:07,826 --> 00:31:09,736
group will help to see what else


905
00:31:09,736 --> 00:31:10,916
is new in that group.


906
00:31:11,306 --> 00:31:12,716
And I don't need to open the


907
00:31:12,716 --> 00:31:14,606
notification group just to see


908
00:31:15,486 --> 00:31:16,876
everything about the content.


909
00:31:16,876 --> 00:31:19,226
The summary already gives some


910
00:31:19,226 --> 00:31:19,846
information.


911
00:31:21,206 --> 00:31:23,676
We will have a lab shortly right


912
00:31:23,676 --> 00:31:25,866
after this session, downstairs.


913
00:31:26,306 --> 00:31:27,706
We will have another lab


914
00:31:28,056 --> 00:31:29,796
tomorrow morning, and we look


915
00:31:29,796 --> 00:31:30,796
forward to talking to you.


916
00:31:31,186 --> 00:31:33,656
And on Friday, there is another


917
00:31:33,656 --> 00:31:35,686
session about notifications that


918
00:31:35,686 --> 00:31:37,206
talks a little bit more about


919
00:31:37,206 --> 00:31:38,346
the design aspects.


920
00:31:38,456 --> 00:31:40,696
About how to think about your


921
00:31:40,696 --> 00:31:42,446
notifications globally across


922
00:31:42,446 --> 00:31:44,196
all the user devices and across


923
00:31:44,196 --> 00:31:45,766
different systems.


924
00:31:47,196 --> 00:31:49,176
Thank you very much, and I'll


925
00:31:49,176 --> 00:31:49,696
see you later.


926
00:31:50,508 --> 00:31:52,508
[ Applause ]

