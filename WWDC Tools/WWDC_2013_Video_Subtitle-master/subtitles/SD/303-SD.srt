1
00:00:00,506 --> 00:00:11,096
[ Silence ]


2
00:00:11,596 --> 00:00:15,756
>> Hi and welcome to Integrating
Passbook into your Ecosystem.


3
00:00:16,126 --> 00:00:18,746
My name is Joelle Lam,
an Engineering Manager


4
00:00:18,746 --> 00:00:22,796
at the Apple Store App Team,
also the Engineering Lead


5
00:00:22,796 --> 00:00:26,506
of Apple Store Gift Card
in Passbook from WWDC


6
00:00:26,506 --> 00:00:28,766
to its launch in October.


7
00:00:29,396 --> 00:00:33,816
Last year iOS 6 announced
Passbook.


8
00:00:34,676 --> 00:00:37,826
Passbook was this way you can
include your boarding passes,


9
00:00:38,156 --> 00:00:42,416
your movie tickets and more on
your iPhone or your iPod Touch.


10
00:00:44,126 --> 00:00:48,156
Now, us being the Apple
Store Engineering Team,


11
00:00:48,726 --> 00:00:52,686
we knew we wanted to be part of
this, we knew we were missing


12
00:00:52,686 --> 00:00:56,276
out if we didn't get involved
in the Passbook Ecosystem.


13
00:00:57,286 --> 00:01:03,066
So, very quickly came Apple
Store Gift Card in Passbook.


14
00:01:04,465 --> 00:01:07,566
Now, I'm not from
the Passbook Team.


15
00:01:07,776 --> 00:01:10,796
If anything I'm more
like you, I sat there


16
00:01:10,966 --> 00:01:12,576
and watched the WWDC sessions,


17
00:01:13,556 --> 00:01:15,876
I'm like an external
developer looking


18
00:01:15,876 --> 00:01:19,056
onto iOS technologies asking,


19
00:01:19,846 --> 00:01:22,366
"How do I enrich
the user experience?


20
00:01:22,826 --> 00:01:26,506
How do I bring to life
some everyday things,


21
00:01:26,556 --> 00:01:29,656
these everyday things that
used to exist in our pockets?"


22
00:01:30,156 --> 00:01:34,056
OK. So, let's do
a quick overview.


23
00:01:34,056 --> 00:01:37,996
We're first going to talk
about Apple Store Gift Card,


24
00:01:38,306 --> 00:01:40,646
this is all about
pulling back that curtain


25
00:01:41,146 --> 00:01:42,186
and showing you a little bit


26
00:01:42,186 --> 00:01:44,516
about what we did
and why we did it.


27
00:01:45,806 --> 00:01:48,386
Then we'll go into
leveraging existing systems.


28
00:01:48,586 --> 00:01:53,386
I thought this was so important
because some of you guys are


29
00:01:53,426 --> 00:01:57,836
out there, you have these huge
systems and you're wondering,


30
00:01:58,206 --> 00:02:00,616
"Can I bring Passbook
to my Ecosystem?"


31
00:02:01,296 --> 00:02:06,406
You have SAP downstream,
asking a DBA


32
00:02:06,406 --> 00:02:10,186
to create a few databases is
going to take weeks, right?


33
00:02:10,186 --> 00:02:16,656
And then I have to do a security
review just to get the ACLs


34
00:02:16,656 --> 00:02:19,516
to talk to my downstream
systems.


35
00:02:19,666 --> 00:02:24,546
So, leveraging existing systems
is all about bringing Passbook


36
00:02:24,546 --> 00:02:28,506
to your Ecosystem no
matter how complex it is.


37
00:02:30,496 --> 00:02:32,726
Then we'll talk about
determining complexity.


38
00:02:33,746 --> 00:02:37,416
This is kind of an
experiential wisdom of how


39
00:02:37,416 --> 00:02:41,396
to determine the level of
effort to build your pass.


40
00:02:42,616 --> 00:02:46,436
And finally, we'll do some
web services tips and tricks.


41
00:02:46,496 --> 00:02:49,526
These tips and tricks are
separated by complexity level


42
00:02:49,526 --> 00:02:53,766
so there will be something there
for every single one of you.


43
00:02:55,206 --> 00:02:59,096
So, let's get started.


44
00:02:59,146 --> 00:03:03,226
Apple Store Gift Card is all
about giving the people you care


45
00:03:03,226 --> 00:03:05,146
about the products
you love, right?


46
00:03:05,146 --> 00:03:09,536
If you look at this life cycle


47
00:03:09,536 --> 00:03:13,536
of our gift card somebody
will go into the app


48
00:03:13,806 --> 00:03:16,496
or on the website and
they'll purchase a gift card


49
00:03:17,336 --> 00:03:22,066
and this gift card will then
get emailed to the giftee.


50
00:03:23,276 --> 00:03:24,876
So, when we're delivering
that card,


51
00:03:24,876 --> 00:03:27,776
we're actually delivering
an email with a link in it


52
00:03:28,456 --> 00:03:31,746
which allows that person, the
giftee, to receive that card.


53
00:03:32,936 --> 00:03:34,906
Finally, that card is
opened within Passbook


54
00:03:34,906 --> 00:03:37,406
and the user can
look at the pass.


55
00:03:38,656 --> 00:03:42,216
From there the Passbook can--
the gift card can be brought


56
00:03:42,216 --> 00:03:45,606
into a store, used
online and redeemed.


57
00:03:46,476 --> 00:03:47,986
You can then use it
to purchase something.


58
00:03:48,606 --> 00:03:53,236
Immediately when that purchase
occurs, we send an update


59
00:03:53,236 --> 00:03:55,546
and the update will
actually update the pass


60
00:03:55,546 --> 00:03:59,126
and the giftee can now see
their new value in the pass.


61
00:04:00,016 --> 00:04:02,306
Of course if they
have a value left,


62
00:04:02,466 --> 00:04:03,856
they can continue
that cycle again.


63
00:04:04,436 --> 00:04:12,036
OK. So, delivering the pass.


64
00:04:12,226 --> 00:04:15,246
Apple Store Gift Card
is kind of a different--


65
00:04:15,636 --> 00:04:17,625
a little bit of an advance pass.


66
00:04:18,375 --> 00:04:22,486
You'll see that its flow of
giving a user pass is different


67
00:04:22,486 --> 00:04:23,556
than what you would expect.


68
00:04:23,816 --> 00:04:28,466
It doesn't actually
use a Companion App,


69
00:04:28,466 --> 00:04:30,116
we use quite a few
other avenues.


70
00:04:30,486 --> 00:04:34,056
So, if you get overwhelmed as
you're looking at our lifecycle


71
00:04:34,056 --> 00:04:36,986
or as you're looking at
our flows, don't worry,


72
00:04:36,986 --> 00:04:41,026
when we get to determining your
complexity, you will realize


73
00:04:41,366 --> 00:04:43,386
that you don't need to
do everything we did


74
00:04:43,386 --> 00:04:45,746
but there'll be a lot of good
things you can carry away


75
00:04:45,746 --> 00:04:49,276
from this, OK?


76
00:04:49,486 --> 00:04:51,996
So, how many guys have
the Apple Store App?


77
00:04:52,896 --> 00:04:57,556
Good. Good, that's like
60, 70 percent, I like it.


78
00:04:57,906 --> 00:05:00,546
How many of you don't?


79
00:05:00,546 --> 00:05:02,886
You guys, OK.


80
00:05:03,206 --> 00:05:07,096
[laughs] I'm impressed
though, that's honest.


81
00:05:07,096 --> 00:05:11,506
So, step one, download
the Apple Store App.


82
00:05:11,766 --> 00:05:14,996
Open the App and you get
to look at the passes.


83
00:05:14,996 --> 00:05:18,356
For me, I'm going to
purchase a pass for--


84
00:05:18,466 --> 00:05:20,446
one of my coworkers, Sonal.


85
00:05:21,206 --> 00:05:24,656
She's been working really hard
and she's kind of new to Apple.


86
00:05:24,706 --> 00:05:26,636
She doesn't have all
the products yet.


87
00:05:26,636 --> 00:05:28,946
So, I'm going to
buy her an Apple TV,


88
00:05:28,946 --> 00:05:30,896
I've picked out a
nice pass here.


89
00:05:30,896 --> 00:05:33,666
110 dollars should buy
her an Apple TV, right?


90
00:05:33,666 --> 00:05:38,086
Then I'll put a nice little
message in there, say,


91
00:05:38,086 --> 00:05:40,436
it's to "Sonal" and from me.


92
00:05:41,626 --> 00:05:43,436
And I'm telling her
to enjoy her Apple TV.


93
00:05:43,466 --> 00:05:47,356
She's worked really
hard and deserves it.


94
00:05:47,356 --> 00:05:49,126
OK, then once the
order is submitted,


95
00:05:49,166 --> 00:05:52,166
the order is inducted, and
an email gets sent out.


96
00:05:52,166 --> 00:05:54,516
This is just like every
single Gift Card email


97
00:05:54,516 --> 00:05:55,466
that we previously had.


98
00:05:56,606 --> 00:05:58,516
Sonal will read this
and go, "Cool,


99
00:05:58,516 --> 00:06:00,406
I got an Apple TV,
this is so great."


100
00:06:00,406 --> 00:06:01,396
She's going to open it up.


101
00:06:01,956 --> 00:06:05,896
So, notice the add to
Passbook link, click on it


102
00:06:05,896 --> 00:06:08,356
and bringing her
to mobile Safari.


103
00:06:09,026 --> 00:06:14,746
Now, this is our opportunity
to basically tag the pass


104
00:06:15,156 --> 00:06:17,156
with the ten nearest
Apple Stores.


105
00:06:18,096 --> 00:06:22,706
You can use iBeacons now
if you prefer to do that


106
00:06:22,706 --> 00:06:23,556
or you could use both.


107
00:06:24,306 --> 00:06:26,446
Even if she ever
forgets that she has this


108
00:06:26,446 --> 00:06:28,856
and she walks near one of
our stores, she'll remember.


109
00:06:29,946 --> 00:06:33,896
Then she clicks to create
the pass and there it is,


110
00:06:34,136 --> 00:06:38,506
her Apple TV ready
for her to pick up.


111
00:06:38,716 --> 00:06:42,656
OK. So, what were some of
the Apple Store's goals


112
00:06:42,696 --> 00:06:44,906
in building this pass?


113
00:06:46,356 --> 00:06:49,296
Passbook was an additional
avenue


114
00:06:50,356 --> 00:06:51,796
to get Gift Cards to users.


115
00:06:52,866 --> 00:06:56,556
It's not like I was able to
re-imagine my backend systems,


116
00:06:56,556 --> 00:06:59,886
I wasn't able to re-imagine
the paper gift card.


117
00:06:59,886 --> 00:07:01,516
if I had a choice,
I would do away


118
00:07:01,516 --> 00:07:03,156
with the paper gift
card entirely.


119
00:07:03,546 --> 00:07:04,526
But I didn't have a choice.


120
00:07:05,516 --> 00:07:08,536
Those avenues had to
continue to co-exist


121
00:07:09,026 --> 00:07:11,876
with the Passbook avenue.


122
00:07:12,076 --> 00:07:15,746
So, really, Passbook is
complimenting the entire system.


123
00:07:16,496 --> 00:07:19,386
Existing avenues
shouldn't get harder, right?


124
00:07:19,386 --> 00:07:24,926
And then a great find
that we stumbled upon.


125
00:07:25,786 --> 00:07:30,216
Last year, when we were watching
the Passbook presentations,


126
00:07:30,746 --> 00:07:32,456
we thought, "oh, ok, so we have


127
00:07:32,486 --> 00:07:35,846
to make sure we have a Companion
App and somehow this has to work


128
00:07:36,056 --> 00:07:39,426
with Apple Store App even though
the gifter is not the giftee"


129
00:07:40,146 --> 00:07:45,566
and it occurred to me that
our Companion App is not


130
00:07:45,566 --> 00:07:46,236
really required.


131
00:07:47,406 --> 00:07:51,466
In fact, there's a
larger base of users


132
00:07:52,246 --> 00:07:53,476
that have access to mail.


133
00:07:54,496 --> 00:07:57,226
So, if you can detach
yourself from the requirement


134
00:07:57,226 --> 00:08:00,516
of a companion app, you
actually have access


135
00:08:01,096 --> 00:08:03,426
to much larger user base, right?


136
00:08:03,426 --> 00:08:07,146
There's more of a chance
that they'll see my Gift Card


137
00:08:07,266 --> 00:08:12,976
if it goes to your mail if
it required an app download.


138
00:08:12,976 --> 00:08:16,536
Not everyone in this room
has downloaded my app.


139
00:08:16,536 --> 00:08:19,246
But everyone in here
has access to mail.


140
00:08:20,076 --> 00:08:22,536
Ok so, no companion
app required.


141
00:08:23,846 --> 00:08:26,566
Then lastly, integrating
with existing systems.


142
00:08:28,136 --> 00:08:31,096
I couldn't touch or change many


143
00:08:31,096 --> 00:08:32,846
of the systems that
I have below me.


144
00:08:32,905 --> 00:08:35,635
So, we have to make sure
that we minimize our changes


145
00:08:36,216 --> 00:08:38,895
and we'll talk about that
one little later, OK?


146
00:08:39,456 --> 00:08:43,996
So, Sonal, she works
really hard, she doesn't go


147
00:08:43,996 --> 00:08:45,866
to the mall a lot, but
now she's in the mall


148
00:08:45,866 --> 00:08:48,716
and she's walking along and she
walks across the Apple Store.


149
00:08:49,276 --> 00:08:52,666
And boom, her pass lights up
and says, "Hey, don't forget


150
00:08:52,666 --> 00:08:56,826
to use your gift card --
go get your Apple TV."


151
00:08:57,446 --> 00:09:00,166
So, she goes in, she
picks up her Apple TV,


152
00:09:00,586 --> 00:09:04,626
and opens up her pass and
says, "Yes, I want to purchase.


153
00:09:05,226 --> 00:09:08,066
You can see we use
the QR code there.


154
00:09:08,066 --> 00:09:11,626
Lucky for us, our point of
sell devices are iPhones.


155
00:09:12,016 --> 00:09:13,486
So, we simply have to enable


156
00:09:13,486 --> 00:09:16,216
that camera and scan
the QR code.


157
00:09:16,916 --> 00:09:19,546
And lucky for you, AV
Foundation is going


158
00:09:19,546 --> 00:09:20,896
to do all that work for you.


159
00:09:20,896 --> 00:09:23,916
You don't have to think about
shake factor and a lot of things


160
00:09:23,916 --> 00:09:25,216
that we have to be
concerned about.


161
00:09:25,486 --> 00:09:26,916
So, definitely take
advantage of that.


162
00:09:27,886 --> 00:09:29,956
But let's say she
never gets to the mall.


163
00:09:30,506 --> 00:09:35,536
Let's say she still wants
to get her Apple TV.


164
00:09:36,486 --> 00:09:38,996
She still has to be able to
purchase on the web, right?


165
00:09:38,996 --> 00:09:42,066
She has to be able to turn
that pass over and read


166
00:09:42,066 --> 00:09:44,596
in clear text the gift
card and a pin number


167
00:09:44,976 --> 00:09:45,866
and make the purchase.


168
00:09:46,366 --> 00:09:49,506
So, we actually have to provide
the data both in the QR code


169
00:09:49,816 --> 00:09:52,166
and on the back of the
pass in clear text.


170
00:09:52,846 --> 00:09:53,566
Make sense?


171
00:09:54,966 --> 00:09:56,266
Good, I see some of you nodding.


172
00:09:57,376 --> 00:10:00,436
OK. So, using the pass,
you'll see this kind of theme


173
00:10:00,436 --> 00:10:03,386
or reusing and leveraging
existing systems,


174
00:10:03,766 --> 00:10:05,586
we reused the point
of sale devices,


175
00:10:05,586 --> 00:10:06,796
we didn't have to replace them.


176
00:10:06,796 --> 00:10:10,246
If you need to, write an app
and leverage AV Foundation


177
00:10:10,766 --> 00:10:12,196
to use optical scanners.


178
00:10:12,936 --> 00:10:16,136
And then we have the
support, the web.


179
00:10:16,316 --> 00:10:17,986
We even have to support
the phone.


180
00:10:17,986 --> 00:10:19,326
Yes, people still use a phone.


181
00:10:20,136 --> 00:10:25,306
But something that
surprised us a little bit--


182
00:10:25,646 --> 00:10:27,996
at least the surprise for
me was the human factor.


183
00:10:28,576 --> 00:10:32,636
Apple have some of the
greatest retail employees.


184
00:10:33,816 --> 00:10:35,716
But as you know,
retail employees ebb


185
00:10:35,716 --> 00:10:37,426
and flow based on the seasons.


186
00:10:38,326 --> 00:10:42,036
So, when we first decided
to launch the Passbook,


187
00:10:42,036 --> 00:10:43,276
we've trained a bunch of people.


188
00:10:43,766 --> 00:10:46,416
But there was no guarantee
just a few months later


189
00:10:46,416 --> 00:10:48,616
that the people that
we trained we're going


190
00:10:48,616 --> 00:10:51,276
to be the people we would
go live with or launch with.


191
00:10:51,806 --> 00:10:55,756
What I've learned from
this is how important it is


192
00:10:56,146 --> 00:10:59,826
that we design and develop
even our point of sale devices


193
00:10:59,826 --> 00:11:02,586
that only our sales
agents use to make sure


194
00:11:02,586 --> 00:11:05,996
that it's almost impossible
for them to make a mistake.


195
00:11:06,826 --> 00:11:09,066
So, what kind of mistakes
could they have possibly made,


196
00:11:09,066 --> 00:11:10,546
it's just an optical
scanner, right?


197
00:11:11,596 --> 00:11:14,616
Well, actually one of
the Apple employees,


198
00:11:14,616 --> 00:11:17,506
they walked into the Apple
store with their Passbook


199
00:11:17,506 --> 00:11:22,596
and the sales agent was trying
to laser scan this QR code


200
00:11:22,596 --> 00:11:24,086
and he's like, "Why
isn't this working?"


201
00:11:24,086 --> 00:11:26,126
You just sitting there looking,
"Should I say something?"


202
00:11:26,876 --> 00:11:30,146
Well, retail employes usually
see this one dimensional


203
00:11:30,146 --> 00:11:30,666
bar code.


204
00:11:30,946 --> 00:11:32,796
A two dimensional bar code


205
00:11:32,796 --> 00:11:34,986
to a retail employee may
not be that different.


206
00:11:36,296 --> 00:11:41,206
So, bottom line is target
user experience consistency.


207
00:11:42,076 --> 00:11:45,986
If you're trying to be very
consistent for every user,


208
00:11:45,986 --> 00:11:48,966
you'll realize you cannot
train every sales agent.


209
00:11:49,226 --> 00:11:49,706
You just can't.


210
00:11:50,626 --> 00:11:53,706
So, build into your
point of sale device.


211
00:11:55,336 --> 00:11:58,416
Make it obvious what the
sales agent should do.


212
00:11:59,426 --> 00:12:02,526
Add a button there that says
check out with Passbook.


213
00:12:02,786 --> 00:12:05,116
Make it very clear so
nobody is confused.


214
00:12:05,186 --> 00:12:06,976
Both the sales agent
and the customers.


215
00:12:07,616 --> 00:12:11,446
OK, updating the pass.


216
00:12:13,186 --> 00:12:15,196
This is the web services
portions, right?


217
00:12:15,196 --> 00:12:20,526
This is the feedback loop
bringing to life your pass.


218
00:12:20,726 --> 00:12:25,156
Once a redemption occurs,
if you can tell the user


219
00:12:25,156 --> 00:12:28,626
that something has happened
it's so much more rewarding.


220
00:12:28,626 --> 00:12:33,356
If I have a gift card and the
sales agent makes the purchase


221
00:12:33,786 --> 00:12:39,736
and almost seconds later the
value updates and you're like,


222
00:12:39,736 --> 00:12:42,236
"Oh OK, what I just
did actually happened."


223
00:12:42,626 --> 00:12:45,906
There's kind of a
satisfaction that occurs.


224
00:12:46,466 --> 00:12:49,926
So, update your passes, use
Apple Push Notification service.


225
00:12:50,026 --> 00:12:53,046
Super easy to do and bring


226
00:12:53,046 --> 00:12:54,826
that feedback loop
all the way around.


227
00:12:55,286 --> 00:12:58,586
Feedback to the user,
feedback to your sales agent.


228
00:13:00,396 --> 00:13:05,546
Apple Store Gift Card.


229
00:13:05,776 --> 00:13:10,996
OK, let's move on.


230
00:13:10,996 --> 00:13:11,606
[ Pause ]


231
00:13:11,606 --> 00:13:13,766
Leveraging your existing
systems.


232
00:13:14,556 --> 00:13:18,236
If you come from a
larger organization


233
00:13:18,236 --> 00:13:21,066
or an organization even that's
been around for a while,


234
00:13:21,546 --> 00:13:24,046
your systems architecture
diagram might look something


235
00:13:24,046 --> 00:13:24,586
like this.


236
00:13:26,156 --> 00:13:28,696
You start with an App
and this is the App


237
00:13:28,766 --> 00:13:30,296
that we purchase with, right?


238
00:13:30,686 --> 00:13:32,986
And it talks to our
applications and services layer.


239
00:13:32,986 --> 00:13:38,646
And then it talks to our
order processor and then it--


240
00:13:38,646 --> 00:13:40,316
the order is inducted by SAP,


241
00:13:40,316 --> 00:13:42,086
it's probably written
to a database.


242
00:13:43,096 --> 00:13:45,606
We notify our physical
gift card services.


243
00:13:45,796 --> 00:13:47,936
Hey, we have a gift card
that we need you to generate.


244
00:13:48,526 --> 00:13:51,086
And when that card gets
generated it probably writes


245
00:13:51,086 --> 00:13:54,526
to a data base and then an
e-mail gets sent out and on


246
00:13:54,526 --> 00:13:57,696
and on and on and there's a
lot of boxes there, right?


247
00:13:57,866 --> 00:13:59,646
That's really all you're
thinking about right now


248
00:13:59,646 --> 00:14:01,506
and I would agree with you,
there are a lot of boxes there.


249
00:14:02,646 --> 00:14:08,116
So, the goal is to identify all
those boxes that do not matter.


250
00:14:09,366 --> 00:14:11,906
Maintain only the
relevant boxes.


251
00:14:12,386 --> 00:14:14,276
Maintain only the ones
you need to change.


252
00:14:14,526 --> 00:14:18,966
So, then you're pushing into
this black box all the things


253
00:14:18,966 --> 00:14:22,806
that are no longer relevant, and
you can push and push and push


254
00:14:22,806 --> 00:14:24,796
and identify those things
you don't need to touch


255
00:14:24,796 --> 00:14:26,656
until you end up with
something that looks like this.


256
00:14:27,616 --> 00:14:31,456
There are four interfaces
no matter how complex your


257
00:14:31,536 --> 00:14:35,546
Ecosystem is, there are four
interfaces you must work with.


258
00:14:37,286 --> 00:14:40,986
Number one, creating the pass.


259
00:14:41,526 --> 00:14:43,756
For Apple Store App we used
e-mail to do this right?


260
00:14:43,756 --> 00:14:44,656
There is a link in the e-mail.


261
00:14:44,906 --> 00:14:48,736
What is the interface in which
you generate or create and get


262
00:14:48,736 --> 00:14:49,716
that pass to that user.


263
00:14:51,256 --> 00:14:53,936
Number two, source of truth.


264
00:14:55,136 --> 00:14:59,016
This is the system that knows
the ultimate value of your pass.


265
00:14:59,806 --> 00:15:02,716
It's what your pass
primarily represents.


266
00:15:04,316 --> 00:15:07,686
Number three, redeeming
your pass.


267
00:15:07,816 --> 00:15:13,026
The interface for redeeming your
pass, how do you use that pass?


268
00:15:13,356 --> 00:15:17,006
And number four, this is the
call back for the update.


269
00:15:17,396 --> 00:15:20,186
Once the pass has been
redeemed, how do you know


270
00:15:20,186 --> 00:15:23,126
that there has been a change or
once the pass has been changed


271
00:15:23,126 --> 00:15:26,176
in any way, how do you know
the pass has to be updated?


272
00:15:27,116 --> 00:15:28,966
So, four interfaces, right?


273
00:15:31,846 --> 00:15:36,326
Then, you need to
identify the common factor


274
00:15:36,326 --> 00:15:37,526
between all four of those.


275
00:15:38,186 --> 00:15:39,446
The common currency.


276
00:15:40,326 --> 00:15:43,026
For us I used GCN here but
it's a Gift Card Number.


277
00:15:43,496 --> 00:15:46,286
All of these systems that
I must interface with,


278
00:15:46,696 --> 00:15:48,366
know what a gift card number is.


279
00:15:48,606 --> 00:15:50,806
So, if you have these
four interfaces


280
00:15:50,806 --> 00:15:54,616
and you have the common
currency, you'll be able


281
00:15:54,676 --> 00:15:58,546
to bring Passbook
guaranteed to your Ecosystem.


282
00:15:59,426 --> 00:16:01,506
OK, what are some common
currencies for you guys?


283
00:16:02,986 --> 00:16:04,256
So, we use gift card number.


284
00:16:04,966 --> 00:16:09,866
They might be club card number,
an Event ID, and Event ID


285
00:16:09,866 --> 00:16:11,866
with the customer ID
and an order number.


286
00:16:12,306 --> 00:16:15,326
There are a lot of things but
just identify that shared piece


287
00:16:15,326 --> 00:16:17,586
of information that is
probably a primary key somewhere


288
00:16:17,586 --> 00:16:18,716
in one of your databases.


289
00:16:20,996 --> 00:16:24,966
So then six months later,


290
00:16:25,406 --> 00:16:27,226
when your boss is
giving a presentation


291
00:16:27,226 --> 00:16:30,006
about how awesome your team
is because we integrated


292
00:16:30,006 --> 00:16:32,456
with all these systems,
you can say, "Yeah,


293
00:16:33,276 --> 00:16:35,496
but this is really what
I did, four interfaces.


294
00:16:36,076 --> 00:16:40,366
OK, determining complexity.


295
00:16:41,066 --> 00:16:45,566
Now, stepping back from
everything that we needed to do


296
00:16:45,566 --> 00:16:49,276
to bring this pass to Apple,


297
00:16:49,396 --> 00:16:53,666
I think we can impart
an experiential wisdom


298
00:16:53,976 --> 00:16:58,386
of what it takes to determine
the level of effort required


299
00:16:58,796 --> 00:17:01,156
to bringing a pass
to your system.


300
00:17:01,686 --> 00:17:08,076
I've identified five facets that
I think are really significant.


301
00:17:09,266 --> 00:17:15,106
First one is value, uniqueness,
static versus dynamic,


302
00:17:15,976 --> 00:17:18,915
scale and systems integration.


303
00:17:20,246 --> 00:17:23,566
And on each of these facets
is kind of a sub scale


304
00:17:23,566 --> 00:17:24,896
or scale within itself.


305
00:17:27,236 --> 00:17:29,136
I'm using mountains
of signs here.


306
00:17:29,136 --> 00:17:31,006
I don't know, do you
guys snowboarder or ski?


307
00:17:31,006 --> 00:17:32,576
Thought it would something
you guys do around here, no?


308
00:17:33,036 --> 00:17:35,356
No? a little bit of
clapping out there.


309
00:17:35,566 --> 00:17:38,166
OK so, the greens, you
guys know what those are?


310
00:17:38,636 --> 00:17:40,566
The greens are for
people who kind


311
00:17:40,566 --> 00:17:42,876
of don't know what they're
doing but still are courageous


312
00:17:42,876 --> 00:17:43,706
and want to be out there.


313
00:17:43,706 --> 00:17:47,366
And then hopefully at some point
they transition to intermediate


314
00:17:47,366 --> 00:17:51,116
and intermediate is a little
bit harder, you need some skill,


315
00:17:51,116 --> 00:17:52,466
you maybe took some classes.


316
00:17:52,616 --> 00:17:56,076
And then you move to the
blacks, the advanced category.


317
00:17:56,366 --> 00:18:00,256
The advanced is where you're
kind of parsing through the snow


318
00:18:00,256 --> 00:18:02,056
and you know exactly
what's going on.


319
00:18:02,056 --> 00:18:02,956
I see some nodding.


320
00:18:04,566 --> 00:18:06,126
So, there's a small scale.


321
00:18:06,166 --> 00:18:08,276
There's a scale within
each one of these facets


322
00:18:08,276 --> 00:18:09,456
and we're going to review them.


323
00:18:09,836 --> 00:18:19,096
Value, value as the value
of your pass increases,


324
00:18:19,616 --> 00:18:21,426
the complexity is
going to increase.


325
00:18:22,386 --> 00:18:25,636
So, when you start with a
newspaper ad for instance,


326
00:18:26,396 --> 00:18:30,586
a newspaper coupon might be free
because anybody can get to it.


327
00:18:30,586 --> 00:18:33,066
And I know it might
have some value


328
00:18:33,066 --> 00:18:36,396
because with redemption it
ends up adding value to you


329
00:18:36,396 --> 00:18:39,886
but we really don't care
who's stealing that coupon.


330
00:18:41,346 --> 00:18:45,196
Then a movie ticket, we
move up to the movie ticket.


331
00:18:45,366 --> 00:18:46,886
It has more value.


332
00:18:48,476 --> 00:18:50,576
You don't want people
just generating


333
00:18:50,576 --> 00:18:52,796
and stealing this
left and right.


334
00:18:53,076 --> 00:18:57,546
You got to protect
it a little bit.


335
00:18:57,546 --> 00:18:59,966
But at the same time
if got stolen,


336
00:18:59,966 --> 00:19:01,146
t wouldn't be the
end of the world.


337
00:19:02,266 --> 00:19:06,506
And finally, you kind of have
the gold vault of passes.


338
00:19:06,586 --> 00:19:10,336
I was imagining boarding
passes would be in this.


339
00:19:11,226 --> 00:19:14,066
You really don't want people
stealing them because they tend


340
00:19:14,476 --> 00:19:16,366
to have quite a bit of value


341
00:19:17,006 --> 00:19:19,916
and not only is the value
in one of the passes.


342
00:19:20,886 --> 00:19:23,976
Not only is the value in
all of the boarding passes


343
00:19:25,056 --> 00:19:27,066
that exist in Passbook.


344
00:19:27,476 --> 00:19:31,736
But actually those services are
protecting all boarding passes


345
00:19:31,736 --> 00:19:33,526
that exists very likely, right?


346
00:19:33,526 --> 00:19:38,516
They have access to systems that
can see all boarding passes.


347
00:19:38,516 --> 00:19:41,546
So, it's supper important
as you increase in value


348
00:19:41,806 --> 00:19:43,766
that you spend more
time thinking about some


349
00:19:43,766 --> 00:19:46,396
of the web services and tricks
we'll talk about later thinking


350
00:19:46,396 --> 00:19:48,916
about reliability,
scalability and performance.


351
00:19:51,336 --> 00:19:57,746
Uniqueness, a coupon can
be used my multiple people,


352
00:19:57,746 --> 00:19:59,766
can be used multiple times.


353
00:20:00,636 --> 00:20:02,386
There's really no
sense of counting.


354
00:20:02,386 --> 00:20:05,296
There's no sense of
checking that much.


355
00:20:05,296 --> 00:20:10,436
You could almost put the
value within the pass itself.


356
00:20:10,536 --> 00:20:12,966
So, that is much easier to do


357
00:20:12,966 --> 00:20:14,596
than let's say a
membership card.


358
00:20:15,946 --> 00:20:18,836
A membership card might be
used by a single household


359
00:20:18,836 --> 00:20:22,156
or a single family but
it's used many times.


360
00:20:22,686 --> 00:20:25,066
And your systems might


361
00:20:25,066 --> 00:20:27,456
in the backend be doing some
really advanced statistics


362
00:20:27,456 --> 00:20:29,686
and processing on every use.


363
00:20:30,496 --> 00:20:33,326
But if you miss one
use, if for some reason,


364
00:20:33,376 --> 00:20:38,906
you received an event and you
couldn't actually serve all the


365
00:20:38,906 --> 00:20:40,336
data, it wouldn't be a big deal.


366
00:20:40,866 --> 00:20:43,936
And then there's the
quantified use category.


367
00:20:45,346 --> 00:20:48,216
The quantified use is
all about taking score


368
00:20:48,216 --> 00:20:50,116
and counting every single use.


369
00:20:50,626 --> 00:20:52,326
A gift card is the
perfect example of this.


370
00:20:52,876 --> 00:20:57,036
With a gift card, you
actually decrement that value.


371
00:20:57,036 --> 00:20:58,786
You never want to over decrement


372
00:20:58,786 --> 00:20:59,966
or miss a transaction
unless you want


373
00:20:59,966 --> 00:21:01,276
to give some things
away for free.


374
00:21:01,706 --> 00:21:06,846
So, as it becomes less
quantified it's going


375
00:21:07,456 --> 00:21:08,676
to be more complex.


376
00:21:08,676 --> 00:21:09,876
It's going to take a
little bit more time


377
00:21:09,876 --> 00:21:13,116
to build that pass ecosystem.


378
00:21:13,116 --> 00:21:14,066
Static versus dynamic.


379
00:21:15,346 --> 00:21:17,576
I don't know how many of
guys have one of these.


380
00:21:17,576 --> 00:21:20,306
The little blue social
security cards.


381
00:21:20,406 --> 00:21:22,966
They is nothing on
it except a number


382
00:21:22,966 --> 00:21:23,906
and it looks really cheap.


383
00:21:24,846 --> 00:21:26,686
Well, it's just a
piece of information


384
00:21:26,686 --> 00:21:29,886
and the pass can be a
piece of information.


385
00:21:30,096 --> 00:21:36,286
And the simpler it is if
it's just informational.


386
00:21:37,566 --> 00:21:41,146
As you move up, maybe you're
changing one state or one field


387
00:21:41,146 --> 00:21:44,626
in the pass, it might be
an event and you're kind


388
00:21:44,626 --> 00:21:47,186
of remind somebody about
an event and it's going


389
00:21:47,186 --> 00:21:48,676
to get a little bit
more advanced.


390
00:21:48,676 --> 00:21:51,796
But for the multi-state pass


391
00:21:51,796 --> 00:21:53,716
where you're updating
multiple pieces


392
00:21:53,716 --> 00:21:56,406
within the pass I thought
a score board was a perfect


393
00:21:56,406 --> 00:21:57,626
representation of this.


394
00:21:58,256 --> 00:21:59,716
You're counting the
number of innings,


395
00:21:59,716 --> 00:22:01,116
you're counting the
number of balls


396
00:22:01,116 --> 00:22:03,556
or you're counting the
score, all these are kind


397
00:22:03,556 --> 00:22:05,916
of dynamically updating
as needed.


398
00:22:06,446 --> 00:22:09,826
The more states you have
to update on your pass,


399
00:22:09,826 --> 00:22:12,746
the more time you need to spend.


400
00:22:12,746 --> 00:22:13,546
OK, scale.


401
00:22:14,166 --> 00:22:19,046
Scale is about the number
of passes that you have


402
00:22:19,716 --> 00:22:24,026
or the number of locations that
you have or even the number


403
00:22:24,026 --> 00:22:25,596
or points of sales
that you have.


404
00:22:26,156 --> 00:22:28,966
So, it could just be that
you have a few passes.


405
00:22:28,966 --> 00:22:31,206
You're maybe a mom and
pop shop and you're kind


406
00:22:31,206 --> 00:22:35,276
of in the center category
where you have a few passes.


407
00:22:35,276 --> 00:22:38,066
Or maybe you're a chain so
you have even more passes.


408
00:22:38,786 --> 00:22:41,296
Or you're a huge
enterprise and you have a ton


409
00:22:41,296 --> 00:22:44,206
of passes you have to worry
everyday about reliability,


410
00:22:44,286 --> 00:22:48,236
scalability and performance.


411
00:22:48,456 --> 00:22:52,136
Another one I mentioned was
the point of sales devices.


412
00:22:52,246 --> 00:22:54,526
Let's say you're in a department
store and you're downstairs


413
00:22:54,526 --> 00:22:56,106
and you're buying shoes.


414
00:22:56,886 --> 00:22:59,416
And in the meantime
you're spouse is upstairs,


415
00:22:59,886 --> 00:23:00,966
they're buying a shirt.


416
00:23:01,736 --> 00:23:05,586
If you're using that pass
in both places you need


417
00:23:05,586 --> 00:23:07,426
to make sure that
data is correct


418
00:23:07,426 --> 00:23:09,136
at the moment that pass is used.


419
00:23:10,396 --> 00:23:11,076
OK, scale.


420
00:23:11,796 --> 00:23:13,916
You with me still?


421
00:23:14,076 --> 00:23:16,836
Systems integration, the last
one on the complexity scale,


422
00:23:17,556 --> 00:23:20,616
the more systems you
need to integrate with,


423
00:23:21,326 --> 00:23:22,456
the harder this is going to be.


424
00:23:22,946 --> 00:23:26,286
So, if you can re-imagine you're
Ecosystem, if you can say,


425
00:23:26,586 --> 00:23:28,686
"I only need to support
the iPhone


426
00:23:28,686 --> 00:23:31,706
or the iPod Touch"
it's much easier


427
00:23:31,706 --> 00:23:33,696
to bring Passbook in, right?


428
00:23:34,546 --> 00:23:37,396
But if you have to support
many electronic devices


429
00:23:37,516 --> 00:23:42,966
like the desktop when Sonal
had to purchase on the web.


430
00:23:43,866 --> 00:23:45,856
You're going to have to think
about a little bit more.


431
00:23:46,006 --> 00:23:47,766
You're going to have
to make sure


432
00:23:47,766 --> 00:23:49,156
that you cover all your bases


433
00:23:49,156 --> 00:23:53,076
and you support those
users hopefully as richly.


434
00:23:54,206 --> 00:23:56,976
And then of course the
most complicated one


435
00:23:56,976 --> 00:23:59,676
when you still have the
physical gift cards to support,


436
00:24:00,316 --> 00:24:04,136
you have to make sure you
keep those users in mind.


437
00:24:04,766 --> 00:24:06,676
OK, systems integration.


438
00:24:07,686 --> 00:24:13,406
That was the last facet.


439
00:24:13,886 --> 00:24:19,086
Don't assume, don't assume


440
00:24:19,086 --> 00:24:26,916
that complexity equals
better because it doesn't.


441
00:24:27,306 --> 00:24:36,276
You guys can have great passes
you can enrich the user's


442
00:24:36,276 --> 00:24:39,166
experience with the
simplest of passes.


443
00:24:39,746 --> 00:24:42,426
We were in Passbook
labs earlier and story


444
00:24:42,426 --> 00:24:44,446
after story, people
are doing it.


445
00:24:44,936 --> 00:24:46,126
So, I encourage you.


446
00:24:47,086 --> 00:24:48,166
Create a pass.


447
00:24:48,556 --> 00:24:50,246
Figure out what you
can do that enriches


448
00:24:50,246 --> 00:24:51,266
that user's experiences.


449
00:24:52,606 --> 00:24:54,666
OK, that was where
my summary slide was.


450
00:24:54,946 --> 00:25:01,216
Web services tips and tricks.


451
00:25:01,336 --> 00:25:09,556
OK, reviewing the
pass asset sizes.


452
00:25:10,436 --> 00:25:15,286
This is the green category
in which we're telling you


453
00:25:15,286 --> 00:25:20,656
if you're in the basic area, you
should-- if you're in the basic,


454
00:25:20,656 --> 00:25:22,996
you should do these 4 things.


455
00:25:23,746 --> 00:25:26,776
So, review your pass
asset sizes,


456
00:25:26,776 --> 00:25:30,916
adhere to if modified since,
implement logging endpoints


457
00:25:30,916 --> 00:25:32,736
and expect dependency outages.


458
00:25:33,486 --> 00:25:38,126
What does it mean to review
your pass asset sizes?


459
00:25:39,566 --> 00:25:43,266
Performance and scalability
is super important at Apple,


460
00:25:44,156 --> 00:25:48,696
often times before we have
a launch we'll test and test


461
00:25:48,696 --> 00:25:56,166
and test until we know that
our systems will stay up.


462
00:25:56,166 --> 00:25:59,386
And we were doing this in
QA over and over and over


463
00:26:00,086 --> 00:26:05,586
and suddenly we were struggling,
we were getting these slow,


464
00:26:05,586 --> 00:26:09,406
slow response time, it's taking
forever to zip up our files.


465
00:26:09,486 --> 00:26:14,356
We looked a little
deeper and we found


466
00:26:14,356 --> 00:26:16,476
out our asset sizes had changed.


467
00:26:16,476 --> 00:26:19,376
They went from 4
kilobytes to 280 kilobytes.


468
00:26:20,456 --> 00:26:21,556
What!? Right?


469
00:26:21,726 --> 00:26:24,976
What!? So, we have publishers
and they have the ability


470
00:26:24,976 --> 00:26:26,716
to change our assets on a dime.


471
00:26:26,946 --> 00:26:29,796
They decided they wanted
print quality and on something


472
00:26:29,796 --> 00:26:31,816
that wasn't going to
show them that quality.


473
00:26:32,686 --> 00:26:38,906
So, what I highly recommend
you do, size your image assets,


474
00:26:39,656 --> 00:26:42,236
make sure that they
don't exceed a limit


475
00:26:43,546 --> 00:26:46,166
and log them as necessary.


476
00:26:46,606 --> 00:26:51,066
Number 2, adhere to
if modified sense.


477
00:26:52,276 --> 00:26:58,106
This is an RFC 2616, it
let's your clients make


478
00:26:58,106 --> 00:26:59,166
conditional requests.


479
00:27:00,756 --> 00:27:06,516
Basically, let's say there is
this awesome WWDC exclusive


480
00:27:06,676 --> 00:27:10,876
party pass and if anybody
was going to have it


481
00:27:11,856 --> 00:27:13,276
on my team, it'd be Alberto.


482
00:27:13,276 --> 00:27:17,266
He is the partier of our team
and so he gets this great pass,


483
00:27:17,266 --> 00:27:19,856
and he last updated at noon.


484
00:27:19,856 --> 00:27:20,796
He's probably sitting here


485
00:27:20,796 --> 00:27:23,206
and thinking I've heard this
presentation a thousand times.


486
00:27:23,456 --> 00:27:26,016
He's looking at the
back of the pass, right?


487
00:27:26,016 --> 00:27:29,586
And this pass shows all the
parties that are happening


488
00:27:29,586 --> 00:27:31,666
and when, which hotel
rooms and so forth.


489
00:27:31,666 --> 00:27:33,286
So, so he pulls it down.


490
00:27:33,286 --> 00:27:36,896
He hasn't updated since
12, that request comes


491
00:27:36,896 --> 00:27:39,136
over to our servers
and on the servers,


492
00:27:39,136 --> 00:27:41,326
we look at that database
and say for this pass,


493
00:27:41,496 --> 00:27:43,886
has there been any updates?


494
00:27:43,886 --> 00:27:45,906
Has there been any
new parties added?


495
00:27:46,116 --> 00:27:48,996
And if there has been,
scoop up all the contents,


496
00:27:48,996 --> 00:27:52,556
make that PK pass file,
get it back to Alberto,


497
00:27:52,556 --> 00:27:54,476
and Alberto is like,
"Yes, score,


498
00:27:54,476 --> 00:27:56,826
there's another party" right?


499
00:27:58,026 --> 00:28:01,286
And then five minutes
pass, he flips that pass


500
00:28:01,286 --> 00:28:02,546
over and he pulls it down.


501
00:28:02,966 --> 00:28:06,956
Request comes back to the
server, I look at the database,


502
00:28:06,956 --> 00:28:08,016
and there's nothing new.


503
00:28:08,446 --> 00:28:10,596
Sorry, Alberto, I'm
going to send you a 304--


504
00:28:10,596 --> 00:28:13,766
I'm not going to spend any time
building your PK pass file.


505
00:28:13,986 --> 00:28:15,506
I'm not going to
waste your bandwidth.


506
00:28:16,006 --> 00:28:18,146
I'm just going to tell
you, you have the latest.


507
00:28:18,916 --> 00:28:21,686
That's what adhere to if
modified since and you can kind


508
00:28:21,686 --> 00:28:25,406
of see on this slide the
request and then the response.


509
00:28:26,476 --> 00:28:28,866
At first you respond with a 200


510
00:28:29,216 --> 00:28:35,006
and if it's not modified
you return a 304.


511
00:28:35,206 --> 00:28:36,656
OK, implement logging endpoints.


512
00:28:39,616 --> 00:28:42,566
Implementing the logging
endpoints can sometimes


513
00:28:42,566 --> 00:28:43,356
be forgettable.


514
00:28:44,276 --> 00:28:49,536
Often times during our first
shot at building these things is


515
00:28:49,536 --> 00:28:52,466
to get all the basics
down, right?


516
00:28:52,466 --> 00:28:55,436
There are 5 endpoints
and you'll do the first 4


517
00:28:55,436 --> 00:28:56,736
and you'll get those
knocked out.


518
00:28:57,456 --> 00:29:01,236
But I highly recommend that you
make sure you've implemented


519
00:29:02,116 --> 00:29:02,656
the log.


520
00:29:04,296 --> 00:29:05,776
What will this do for you?


521
00:29:06,166 --> 00:29:09,606
This will send you
human-readable information


522
00:29:09,946 --> 00:29:12,516
about mistakes in
your implementation.


523
00:29:13,326 --> 00:29:16,726
We spend so much time paying
people to give us feedback,


524
00:29:16,726 --> 00:29:18,296
for example in these
usability studies.


525
00:29:18,296 --> 00:29:21,026
We give them lots of money
to know more information.


526
00:29:21,796 --> 00:29:25,446
But this is free feedback,
so why wouldn't we use it?


527
00:29:26,666 --> 00:29:28,376
Implement the logging endpoint.


528
00:29:28,936 --> 00:29:34,436
OK, number 4, expect
dependency outages.


529
00:29:35,156 --> 00:29:40,686
If you have a service
out there, what happens


530
00:29:40,686 --> 00:29:41,856
when that service goes down?


531
00:29:43,296 --> 00:29:46,596
Are you in good shape because
you put a load balancer in front


532
00:29:46,596 --> 00:29:47,886
of it and you actually have 2,


533
00:29:47,886 --> 00:29:49,726
so it's no big deal
if one goes down.


534
00:29:50,946 --> 00:29:54,026
If you can, try to
put multiple instances


535
00:29:54,146 --> 00:29:58,476
of your web services out there.


536
00:29:58,476 --> 00:30:01,906
For us, we talk to something
called Location Services.


537
00:30:01,906 --> 00:30:09,106
Location Services gives
all the Apple Stores.


538
00:30:09,456 --> 00:30:17,066
We ask location services when
we generate a pass, "Hey,


539
00:30:17,126 --> 00:30:19,826
where are my 10 nearest
Apple Stores?


540
00:30:20,436 --> 00:30:24,696
We then can cache
that response locally


541
00:30:25,606 --> 00:30:29,586
so that every time the request
comes in to build that pass,


542
00:30:29,586 --> 00:30:31,446
we don't have to check
Location Services.


543
00:30:32,356 --> 00:30:34,156
And where this is
super helpful is


544
00:30:34,156 --> 00:30:35,946
when Location Services
goes down.


545
00:30:38,496 --> 00:30:40,636
Did you need Location Services?


546
00:30:41,376 --> 00:30:44,276
Could you have survived with
just putting in a long cache


547
00:30:44,306 --> 00:30:46,586
so that if Location
Services goes down,


548
00:30:47,106 --> 00:30:48,506
it's not that big of a deal.


549
00:30:48,506 --> 00:30:50,396
It doesn't have to have
a 100 percent uptime.


550
00:30:50,786 --> 00:30:52,666
And even better, I have
shown this with the gray,


551
00:30:53,226 --> 00:30:54,986
if you can have a fullback file.


552
00:30:55,466 --> 00:30:58,106
So, we could just have a
fullback of all the locations


553
00:30:58,526 --> 00:31:01,046
that Apple had at
the time of launch.


554
00:31:01,386 --> 00:31:05,046
At least we were able to serve
the user with something, right?


555
00:31:05,046 --> 00:31:06,806
I mean how many of you want


556
00:31:06,806 --> 00:31:08,956
to hear I couldn't get
my Apple Store Gift Card


557
00:31:08,956 --> 00:31:11,896
because they couldn't
find the nearest stores,


558
00:31:11,956 --> 00:31:13,136
it's just ridiculous, right?


559
00:31:14,086 --> 00:31:18,296
So, passes should served
with the bare minimum assets,


560
00:31:18,806 --> 00:31:20,856
even when dependencies
are not responding.


561
00:31:22,146 --> 00:31:25,646
And set up default back
up in data if you have to.


562
00:31:26,666 --> 00:31:28,856
Do your best to serve
every request,


563
00:31:29,686 --> 00:31:32,266
but don't create
unnecessary dependencies.


564
00:31:32,816 --> 00:31:41,476
OK, tips in the intermediate
category.


565
00:31:42,516 --> 00:31:44,066
Validating your origin.


566
00:31:44,696 --> 00:31:52,386
It's not sufficient to simply
test, "Hey, is this pass valid


567
00:31:52,816 --> 00:31:53,946
from a data standpoint?"


568
00:31:54,846 --> 00:31:57,986
So, what I mean by that is
for us, we have gift card


569
00:31:58,416 --> 00:32:02,406
and we could just for every
request, simply test, "Hey,


570
00:32:02,406 --> 00:32:05,336
is this gift card number valid?


571
00:32:05,566 --> 00:32:06,616
Does it have value?


572
00:32:07,426 --> 00:32:09,046
But my recommendation is


573
00:32:09,046 --> 00:32:13,426
that you step back a little
bit before even checking the


574
00:32:13,426 --> 00:32:16,386
contents of the pass,
check who's the author.


575
00:32:17,376 --> 00:32:18,306
Are you the origin?


576
00:32:19,816 --> 00:32:22,876
The last thing you want to
be is a movie card generator


577
00:32:23,366 --> 00:32:24,976
or a gift card checker, right?


578
00:32:25,706 --> 00:32:28,996
If you check the signature
before you even serve the


579
00:32:28,996 --> 00:32:31,996
request, you won't have
people out there building


580
00:32:32,426 --> 00:32:34,326
or getting a valid gift cards.


581
00:32:34,326 --> 00:32:37,456
For instance, in our case, users
might tweak requests they send.


582
00:32:37,456 --> 00:32:40,226
They're tweaking each of those
values to figure out the form


583
00:32:40,226 --> 00:32:41,716
of your system and
understand it more.


584
00:32:42,386 --> 00:32:46,346
If you sign the pass
first, if you sign the--


585
00:32:46,646 --> 00:32:47,746
and I'm going to show
you how to do this,


586
00:32:47,746 --> 00:32:50,626
the authentication token
first, you're going to see


587
00:32:50,626 --> 00:32:52,226
that you can protect
yourself a lot more.


588
00:32:53,426 --> 00:32:56,436
OK, so how many of guys remember
the authentication token?


589
00:32:56,436 --> 00:32:57,346
Do you guys remember this?


590
00:32:57,956 --> 00:33:00,896
A few of you, oh, that's
like 10 percent, 15 percent.


591
00:33:00,896 --> 00:33:02,726
OK, authentication token.


592
00:33:03,616 --> 00:33:12,156
It's in the pass.json, and
it actually comes over on 3


593
00:33:12,156 --> 00:33:17,916
of these requests, register
a device, unregister a device


594
00:33:18,886 --> 00:33:20,276
and get the latest version.


595
00:33:21,496 --> 00:33:25,606
That means on all 3 of these
request, if you know how


596
00:33:25,606 --> 00:33:28,816
to check your signature,
you don't even have


597
00:33:28,816 --> 00:33:32,546
to serve any part of that
request unless you know it came


598
00:33:32,546 --> 00:33:32,836
from you.


599
00:33:32,836 --> 00:33:35,706
How am I to do this?


600
00:33:36,606 --> 00:33:42,166
Try using HMAC, pick a
message, any message, HMAC it,


601
00:33:42,166 --> 00:33:45,946
append it to the
front, maybe sign


602
00:33:46,216 --> 00:33:49,906
or maybe add a few characters,
some constants here and there,


603
00:33:49,906 --> 00:33:51,376
so you know how to recognize it.


604
00:33:51,916 --> 00:33:55,116
And now, put that in your
authentication token.


605
00:33:55,646 --> 00:34:00,266
HMAC is super easy to do.


606
00:34:00,266 --> 00:34:03,126
It's available on practically
any language you're probably


607
00:34:03,126 --> 00:34:05,666
going to write a web
service implementation in.


608
00:34:06,076 --> 00:34:07,896
Ruby has one.


609
00:34:07,896 --> 00:34:11,306
PHP, Python, Java, it's
available in the that language


610
00:34:11,485 --> 00:34:13,146
or some third party library.


611
00:34:13,146 --> 00:34:20,686
Bouncy Castle is a
good example of that.


612
00:34:21,315 --> 00:34:23,815
OK, validate significant
contents.


613
00:34:25,496 --> 00:34:28,936
Anyone can create a pass.


614
00:34:28,936 --> 00:34:32,556
With that said, the pass
itself cannot be authoritative.


615
00:34:32,556 --> 00:34:35,275
In fact, even if they
didn't create the pass


616
00:34:35,275 --> 00:34:36,835
and it just hasn't
updated recently,


617
00:34:36,835 --> 00:34:39,886
you may not have the latest
gift card value, right?


618
00:34:41,146 --> 00:34:43,496
So, make sure you check
that source of truth.


619
00:34:43,525 --> 00:34:46,255
Go back and check
gift card services


620
00:34:46,255 --> 00:34:49,025
or whatever your
equivalent is, check it.


621
00:34:52,016 --> 00:34:56,196
Number 3, leveraging caching,


622
00:34:57,156 --> 00:35:00,706
cache as much downstream
information as possible.


623
00:35:01,806 --> 00:35:03,646
We talked about Location
Services.


624
00:35:03,646 --> 00:35:07,726
We have the ability of
caching Location Services.


625
00:35:07,726 --> 00:35:11,096
If for instance, a pass
is also represented


626
00:35:11,096 --> 00:35:13,236
by associated product,
cache that.


627
00:35:13,526 --> 00:35:14,816
Cache your image services,


628
00:35:14,816 --> 00:35:17,556
so if you use an image
service, like Scene7.


629
00:35:18,646 --> 00:35:21,246
Take those images and
put them in local cache.


630
00:35:21,386 --> 00:35:23,026
Do not fetch them
on every request.


631
00:35:23,026 --> 00:35:25,366
I highly recommend
not to fetch them.


632
00:35:26,346 --> 00:35:28,956
You can even cache your
encryption and decryption


633
00:35:28,956 --> 00:35:30,306
of your authentication token.


634
00:35:30,306 --> 00:35:34,756
And then the last one which I
think is kind of interesting,


635
00:35:35,216 --> 00:35:37,476
consider caching
the PK pass file.


636
00:35:39,006 --> 00:35:41,876
Remember that WWDC
exclusive party pass


637
00:35:41,876 --> 00:35:42,936
that I was telling you about?


638
00:35:44,056 --> 00:35:45,516
Well, if that's going around,


639
00:35:46,316 --> 00:35:48,876
guaranteed Stefan
would have gotten it.


640
00:35:48,876 --> 00:35:52,946
Now, Stefan, he knows everyone
and he's definitely going


641
00:35:52,946 --> 00:35:54,926
to share with iMessage his pass.


642
00:35:55,096 --> 00:35:58,036
So, he's going to say, "This
is all the people I know."


643
00:35:58,036 --> 00:36:02,556
and forwards the WWDC party
pass to all of his friends.


644
00:36:02,556 --> 00:36:04,456
Now all of them are going


645
00:36:04,456 --> 00:36:06,456
to start requesting
updates all at once.


646
00:36:07,466 --> 00:36:11,616
Now, if I was smart, and I
cache the entire PK pass file,


647
00:36:11,616 --> 00:36:16,036
I could recognize based on
the parameters of the URL


648
00:36:16,396 --> 00:36:19,856
that I just need to scoop up
my PK pass file, and serve it.


649
00:36:19,976 --> 00:36:23,846
I didn't spend any time
zipping that pass file up.


650
00:36:24,996 --> 00:36:26,466
Cool, huh?


651
00:36:27,826 --> 00:36:32,546
OK. Four, in the intermediate
category, monitoring.


652
00:36:34,056 --> 00:36:36,426
Be the first to know when
your service is down.


653
00:36:37,516 --> 00:36:40,966
I hate it and hopefully it
happens rarely, but I hate it


654
00:36:40,966 --> 00:36:43,646
when my boss comes in and says,
"What's going on with this?"


655
00:36:43,646 --> 00:36:45,086
before I have noticed.


656
00:36:45,086 --> 00:36:48,916
If you can know that your pass,
your web services have gone


657
00:36:48,916 --> 00:36:50,906
down first, it's a huge win.


658
00:36:51,326 --> 00:36:56,346
There is so many monitoring
systems out there, Site24x7.


659
00:36:56,346 --> 00:36:59,676
They allow you to send a
request, a HTTP request,


660
00:37:00,486 --> 00:37:02,156
and you can configure
everything.


661
00:37:02,156 --> 00:37:04,966
You can configure the post,
you can configure the headers


662
00:37:04,966 --> 00:37:07,436
and then on the response,
you can check


663
00:37:07,436 --> 00:37:08,736
that it is a 200 response?


664
00:37:08,966 --> 00:37:14,536
Is it the correct response type?


665
00:37:14,726 --> 00:37:17,536
So, monitor from
external systems and then


666
00:37:17,536 --> 00:37:19,556
when systems go down,
you're going to get a text.


667
00:37:19,556 --> 00:37:21,706
You might be out but you're
the first person on it


668
00:37:21,706 --> 00:37:25,316
because you know it happened.


669
00:37:25,316 --> 00:37:28,356
Internal logging, this
one is really easy,


670
00:37:28,856 --> 00:37:32,146
especially if you can add
log aggregation like Splunk.


671
00:37:32,576 --> 00:37:36,716
But log things that matter
whether it's a logging endpoints


672
00:37:36,716 --> 00:37:37,486
that came in.


673
00:37:38,096 --> 00:37:39,666
The asset sizes we talked


674
00:37:39,666 --> 00:37:44,226
about when you start
exceeding a level, log that.


675
00:37:44,226 --> 00:37:47,796
Another one, if your
certificate is about to expire,


676
00:37:47,796 --> 00:37:49,106
you guys get one year, right?


677
00:37:49,936 --> 00:37:52,606
And sometimes we don't think
about these things a year later,


678
00:37:52,756 --> 00:37:54,626
so start to log when you expire.


679
00:37:54,626 --> 00:37:58,156
And then when you hit a certain
size or maybe get a daily digest


680
00:37:58,156 --> 00:38:00,486
of the logs, you
get top 10 logs.


681
00:38:00,956 --> 00:38:03,756
This will help you monitor
and keep your systems healthy


682
00:38:03,756 --> 00:38:04,926
without a lot of effort.


683
00:38:05,856 --> 00:38:07,996
Of course there's
internal monitoring also,


684
00:38:07,996 --> 00:38:10,056
you can use Nagios to make
sure those bits are up.


685
00:38:10,696 --> 00:38:12,206
But think about monitoring.


686
00:38:13,486 --> 00:38:17,366
Those were kind of the
intermediate items.


687
00:38:18,016 --> 00:38:24,926
Tips for the advanced, the first
one I have is rate limiting.


688
00:38:26,276 --> 00:38:28,496
Rate limiting is all


689
00:38:28,496 --> 00:38:34,416
about making sure you don't
unnecessarily serve the request


690
00:38:34,416 --> 00:38:35,756
that are coming in.


691
00:38:35,756 --> 00:38:40,726
So, if you have a
denial of service attack,


692
00:38:40,726 --> 00:38:46,166
and you can identify, hey, this
pattern of request is too fast.


693
00:38:47,226 --> 00:38:49,036
You can pull back, and you
can just let them drop.


694
00:38:49,706 --> 00:38:53,886
And your whole system
can stay up and continue


695
00:38:55,296 --> 00:38:58,766
to serve valid requests
without attempting


696
00:38:58,766 --> 00:39:00,626
to serve all these
invalid requests.


697
00:39:01,096 --> 00:39:04,146
It protects you from a
denial of service attack


698
00:39:04,146 --> 00:39:05,506
and a brute force attack.


699
00:39:05,906 --> 00:39:09,326
You can rate limit on a serial
number, although be careful now


700
00:39:09,326 --> 00:39:10,896
that sharing is going
to be prevalent.


701
00:39:10,896 --> 00:39:13,436
You want to make sure it makes
sense for your pass type.


702
00:39:14,556 --> 00:39:17,986
You can rate limit on an
IP, be careful with that


703
00:39:17,986 --> 00:39:20,136
because probably a lot of
people have passes in WWDC


704
00:39:20,136 --> 00:39:21,526
and the last thing you want


705
00:39:21,526 --> 00:39:24,506
to do is shutdown
request coming from WWDC.


706
00:39:25,226 --> 00:39:26,956
But think about rate limiting.


707
00:39:29,516 --> 00:39:31,146
Process asynchronously.


708
00:39:32,516 --> 00:39:37,036
When a request comes in, you
want to serve that request


709
00:39:37,036 --> 00:39:38,316
as quickly as possible.


710
00:39:39,046 --> 00:39:43,186
The more time you spend doing
downstream things and holding


711
00:39:43,186 --> 00:39:45,916
that connection, the less
people you can serve,


712
00:39:46,196 --> 00:39:48,036
the more systems
you have to have


713
00:39:48,316 --> 00:39:49,976
to serve all the
incoming requests.


714
00:39:51,096 --> 00:39:54,396
So, if you go out and you
try to pre-warm your caches,


715
00:39:54,396 --> 00:39:58,266
get all the information you can
as soon as possible right even


716
00:39:58,266 --> 00:40:00,466
when your system starts up.


717
00:40:00,466 --> 00:40:04,186
So, for example like I said,
gift cards can be associated


718
00:40:04,186 --> 00:40:06,526
with a product, and that's
how when you're purchasing


719
00:40:06,526 --> 00:40:09,496
in the store, the strip
looks very similar


720
00:40:09,496 --> 00:40:10,746
to the original gift card.


721
00:40:11,606 --> 00:40:14,176
What I can do is I can go
to product services as soon


722
00:40:14,176 --> 00:40:15,096
as I start up and I say,


723
00:40:15,096 --> 00:40:17,406
"Give me all the gift
cards that are out there.


724
00:40:18,146 --> 00:40:21,776
And give me all the related
strips that are out" then


725
00:40:21,776 --> 00:40:23,656
when the request comes in,


726
00:40:23,656 --> 00:40:26,886
I'm not wasting time getting
those downstream items,


727
00:40:27,186 --> 00:40:31,826
I'm just pulling them
from my local cache.


728
00:40:32,036 --> 00:40:36,166
Logs. Writing to
disk is expensive.


729
00:40:36,716 --> 00:40:41,676
If you allow every log
that comes in especially


730
00:40:41,676 --> 00:40:43,436
on the endpoint to
write to disk,


731
00:40:43,506 --> 00:40:44,866
you could be in a
dangerous spot.


732
00:40:45,406 --> 00:40:47,106
So, if you throw it in memory


733
00:40:47,566 --> 00:40:50,646
and you have a write behind the
disk, you're going to be able


734
00:40:50,646 --> 00:40:52,446
to serve that request
a lot faster


735
00:40:52,446 --> 00:40:56,716
without impacting the
rest of your systems.


736
00:40:56,806 --> 00:41:00,216
Using a queue for push
notifications and this is


737
00:41:00,216 --> 00:41:03,966
that callback update, so when
you find out that the pass needs


738
00:41:03,966 --> 00:41:08,676
to be updated, instead of
holding that connection for us


739
00:41:08,676 --> 00:41:11,346
from gift card services,
we can just say, "Yeah,


740
00:41:11,346 --> 00:41:13,466
we got the request and
we drop it in a queue."


741
00:41:13,866 --> 00:41:17,016
And then later on as soon
our systems are ready,


742
00:41:17,346 --> 00:41:19,556
we just serve it to Push
Notification Service.


743
00:41:19,856 --> 00:41:21,516
We don't have to wait to find


744
00:41:21,516 --> 00:41:24,126
out that Apple Push Notification
service received the request.


745
00:41:24,676 --> 00:41:29,136
There's no need to,
just drop it in a queue.


746
00:41:29,276 --> 00:41:35,056
Avoid holding those
connections, make it as short


747
00:41:35,056 --> 00:41:36,176
of a period as possible.


748
00:41:37,496 --> 00:41:42,346
OK, 3, leveraging
auth token as storage.


749
00:41:42,956 --> 00:41:45,956
If you don't want to do this


750
00:41:45,956 --> 00:41:48,286
or you don't understand
this, don't feel bad.


751
00:41:48,656 --> 00:41:50,786
This is super cool
though, so pay attention.


752
00:41:51,426 --> 00:41:53,626
These impacts performance
reliability


753
00:41:53,626 --> 00:41:56,016
but the basic concept is here.


754
00:41:57,526 --> 00:42:01,656
On our request, Apple
Store pass services needs


755
00:42:01,656 --> 00:42:04,186
to take the serial number I
got from the pass and I need


756
00:42:04,186 --> 00:42:06,666
to crosscheck and get the
gift card and the pin.


757
00:42:07,206 --> 00:42:09,896
Because remember the gift
card is my common currency


758
00:42:09,896 --> 00:42:15,006
with gift card services, so I
have to look at my database,


759
00:42:16,006 --> 00:42:18,846
and find the gift card
and associated pin.


760
00:42:19,646 --> 00:42:23,056
That means before
I can even check


761
00:42:23,626 --> 00:42:27,706
if the gift card has value,
I've had to hit my database,


762
00:42:28,436 --> 00:42:31,046
and we know talking to
a database can be slow.


763
00:42:32,226 --> 00:42:36,796
So, one of the things you can do
is embed your gift card and pin


764
00:42:36,796 --> 00:42:38,046
or your common currency


765
00:42:38,046 --> 00:42:40,476
or whatever information
that's relevant


766
00:42:40,526 --> 00:42:43,676
to you inside your
authentication token.


767
00:42:44,146 --> 00:42:46,346
OK, so how many of you guys
remember authentication


768
00:42:46,346 --> 00:42:47,036
token now?


769
00:42:48,296 --> 00:42:51,676
Little bit more, OK.


770
00:42:51,676 --> 00:42:55,946
If you embed gift card, the
gift card number and the pin


771
00:42:55,946 --> 00:42:58,986
in the authentication token,
you actually don't have


772
00:42:59,046 --> 00:43:03,256
to ask your database
what is associated


773
00:43:03,256 --> 00:43:04,086
with that serial number.


774
00:43:04,376 --> 00:43:06,426
You can go directly to
the source of truth,


775
00:43:06,426 --> 00:43:09,486
your gift card services and
say, "Hey, what's the value?"


776
00:43:11,036 --> 00:43:13,666
One less conversation with your
database, pretty cool, right?


777
00:43:15,106 --> 00:43:19,476
So, take your authentication
token and remember that message


778
00:43:19,476 --> 00:43:20,956
that I mentioned earlier,
just pick a message.


779
00:43:21,846 --> 00:43:24,576
Well, pick the gift card
number, pick the pin.


780
00:43:24,896 --> 00:43:26,606
Pick something that's
relevant to you.


781
00:43:26,606 --> 00:43:27,986
It could be a product number.


782
00:43:28,446 --> 00:43:32,256
It could be the URL
for your image strip.


783
00:43:33,066 --> 00:43:35,966
If you're building different
passes with different images,


784
00:43:36,246 --> 00:43:40,896
you can actually embed the image
URL inside the authentication


785
00:43:40,896 --> 00:43:41,736
token, so you don't have


786
00:43:41,736 --> 00:43:47,286
to ask your database what image
is associated with that pass.


787
00:43:47,286 --> 00:43:49,386
It's kind of cool.


788
00:43:49,586 --> 00:43:51,686
OK. So, I have some other
things you can embed.


789
00:43:51,686 --> 00:43:56,466
Important dates like expiriees,
your top 10 nearest location,


790
00:43:57,216 --> 00:43:59,876
once I've gotten the 10
nearest locations for a pass,


791
00:43:59,906 --> 00:44:01,966
I never check my
Location Services again


792
00:44:02,476 --> 00:44:06,326
because I have it there.


793
00:44:06,506 --> 00:44:09,886
Four, distinguish
test and production.


794
00:44:09,886 --> 00:44:12,236
This actually happened to us.


795
00:44:12,236 --> 00:44:17,396
We're building in QA
our test environment


796
00:44:17,916 --> 00:44:21,716
and Quality Assurance is helping
us out and they're building pass


797
00:44:21,716 --> 00:44:24,166
after pass, every
permutation you could imagine,


798
00:44:25,006 --> 00:44:26,766
and someone said, "what happens


799
00:44:26,766 --> 00:44:28,946
if we took these test
passes to a store?


800
00:44:28,946 --> 00:44:31,816
They sure look real" and
in fact, they are real


801
00:44:31,816 --> 00:44:35,196
because we signed them with
our pass type identifier


802
00:44:35,196 --> 00:44:36,636
and the certificate we had.


803
00:44:36,686 --> 00:44:38,586
So, we had to rethink that.


804
00:44:38,586 --> 00:44:41,726
So, what you can do is take
that pass type identifier


805
00:44:41,726 --> 00:44:43,476
that you embed in the pass.json


806
00:44:44,006 --> 00:44:48,156
and you can create a new
pass identifier and test,


807
00:44:49,616 --> 00:44:51,446
and just have a different
one for production.


808
00:44:52,096 --> 00:44:53,686
Now, if you have
a companion app,


809
00:44:53,686 --> 00:44:55,716
make sure your companion
app can work with both--


810
00:44:55,716 --> 00:44:58,056
it should be entitled to
work with both of these,


811
00:44:58,056 --> 00:45:02,276
by maintaining a specific pass
type identifier, it will make it


812
00:45:02,276 --> 00:45:05,386
so that if somebody walks into
your store with a different pass


813
00:45:05,976 --> 00:45:09,056
with the test pass, your
point of sale device


814
00:45:09,056 --> 00:45:12,206
or whatever you're using to
redeem it can first check, "hey,


815
00:45:12,366 --> 00:45:16,496
do I recognize this pass type
identifier" nicely say, "Hey,


816
00:45:16,496 --> 00:45:17,456
you're using a test pass.


817
00:45:17,516 --> 00:45:18,666
This is not going to work."


818
00:45:19,776 --> 00:45:23,096
Very easy way to
distinguish between the two.


819
00:45:23,726 --> 00:45:28,166
OK. Building in debug ability.


820
00:45:28,816 --> 00:45:32,616
If something goes wrong in prod,


821
00:45:33,786 --> 00:45:36,746
in fact when something
goes wrong in production,


822
00:45:38,026 --> 00:45:39,776
how are you going to
find out went wrong?


823
00:45:41,246 --> 00:45:44,516
This is a perfect example, I
get a text from a friend of mine


824
00:45:44,516 --> 00:45:47,016
and they said, "Hey, I
walked by the Apple Store


825
00:45:47,376 --> 00:45:50,726
and it didn't tell me that
Apple Store was right there."


826
00:45:51,646 --> 00:45:53,336
So, I find out their
serial number,


827
00:45:53,716 --> 00:45:57,156
and how do I really know what
were the 10 locations embedded


828
00:45:57,156 --> 00:45:57,566
in their pass?


829
00:45:58,546 --> 00:46:01,476
Well, if you planned
for it, you can make it


830
00:46:01,476 --> 00:46:05,106
so that your web services
takes a certain parameter,


831
00:46:05,826 --> 00:46:07,436
debug for example.


832
00:46:08,066 --> 00:46:10,676
And then on your web
services, when you're building


833
00:46:10,676 --> 00:46:13,876
of that pass, you can say, "Oh,
I need to add extra things,


834
00:46:14,226 --> 00:46:15,876
and I need to add it to
the back of the pass."


835
00:46:16,726 --> 00:46:18,396
So, on the back of the pass,


836
00:46:18,396 --> 00:46:20,996
I can begin to add
10 nearest locations.


837
00:46:21,816 --> 00:46:23,656
I can add what data
center I created


838
00:46:23,656 --> 00:46:27,476
and I can add the host
name it was created on.


839
00:46:28,116 --> 00:46:31,716
Then when I receive that pass, I
can turn it over and I can say,


840
00:46:32,126 --> 00:46:33,936
"Hey, call my friend up."


841
00:46:34,676 --> 00:46:37,106
Actually, I don't know
that you tagged the pass"


842
00:46:37,176 --> 00:46:40,356
or "did you know you tagged the
pass while you were in Paris?"


843
00:46:40,356 --> 00:46:41,356
And of course you're not going


844
00:46:41,356 --> 00:46:44,116
to see the 10 nearest locations
while you're in Seattle.


845
00:46:44,886 --> 00:46:47,116
With iBeacon this is going to
become a lot easier by the way.


846
00:46:48,616 --> 00:46:52,426
OK, and then also have a test
serial number for production.


847
00:46:52,426 --> 00:46:55,296
This is great for using
with the monitoring.


848
00:46:56,626 --> 00:46:59,186
So, that was the last
of the tips and tricks,


849
00:46:59,986 --> 00:47:07,576
we had kind of the easy, the
intermediate, and the advanced.


850
00:47:08,076 --> 00:47:10,386
Today, we talked about
Apple Store gift card,


851
00:47:10,716 --> 00:47:12,926
we pulled that curtain
back a little bit for you,


852
00:47:13,116 --> 00:47:15,666
showed you what we
did, why we did it,


853
00:47:17,016 --> 00:47:20,876
leveraging existing
systems, 4 interfaces, right,


854
00:47:22,156 --> 00:47:26,646
obtaining the pass, your source
of truth, redeeming the pass


855
00:47:27,456 --> 00:47:28,526
and the callback update.


856
00:47:29,906 --> 00:47:32,556
Determining complexity, we
went through some facets


857
00:47:33,046 --> 00:47:36,416
that allowed you to
measure the level of effort.


858
00:47:36,846 --> 00:47:39,046
Basically, you can go back
to your bosses and say,


859
00:47:39,196 --> 00:47:40,536
"Hey, I thought about this.


860
00:47:40,846 --> 00:47:42,196
I've looked at the Ecosystem.


861
00:47:42,446 --> 00:47:44,096
I know the facets
that I need to think


862
00:47:44,096 --> 00:47:45,816
about and we can do it too.


863
00:47:45,816 --> 00:47:46,796
We can have a pass too."


864
00:47:46,796 --> 00:47:49,086
And then some web services tips


865
00:47:49,086 --> 00:47:51,456
and tricks, those
are all online.


866
00:47:51,456 --> 00:47:52,776
You can go back through them.


867
00:47:53,086 --> 00:47:54,816
Read them, understand them more.


868
00:47:57,066 --> 00:47:59,936
Paul Marcos, he does
a lot of this for you.


869
00:47:59,936 --> 00:48:01,596
He helps us prepare.


870
00:48:01,756 --> 00:48:05,916
He's our evangelist, he
has great information,


871
00:48:05,916 --> 00:48:07,736
so if you have any
questions, contact him.


872
00:48:08,456 --> 00:48:10,156
There's documentation online.


873
00:48:10,886 --> 00:48:14,096
In addition, if you missed
it earlier on the What's New


874
00:48:14,096 --> 00:48:16,056
in Passbook, it's recorded.


875
00:48:16,056 --> 00:48:16,906
So, check that out.


876
00:48:17,036 --> 00:48:21,246
I want to call out
Harnessing iOS to Create Magic


877
00:48:21,246 --> 00:48:22,916
in Your Apps specifically.


878
00:48:23,546 --> 00:48:26,476
This session as well
as the next session


879
00:48:26,476 --> 00:48:30,096
and especially the
next session is again


880
00:48:30,096 --> 00:48:33,186
about using standard
iOS technologies,


881
00:48:33,396 --> 00:48:35,106
kind of as an external
developer,


882
00:48:35,106 --> 00:48:39,336
but using those technologies to
enrich the users' experiences.


883
00:48:40,396 --> 00:48:42,806
So, they do some really
basic easy things,


884
00:48:43,296 --> 00:48:45,406
but it just changes
the life of your apps


885
00:48:46,326 --> 00:48:47,706
from an external standpoint.


886
00:48:48,206 --> 00:48:50,216
Thank you so much
for joining us.


887
00:48:50,716 --> 00:49:04,980
[Applause]

