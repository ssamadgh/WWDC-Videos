1
00:00:00,506 --> 00:00:09,676
[ Applause ]


2
00:00:10,176 --> 00:00:13,016
>> How you guys doing?


3
00:00:14,466 --> 00:00:15,356
Oh, come on.


4
00:00:15,686 --> 00:00:17,446
You guys aren't [noise]
yeah, here we go.


5
00:00:17,986 --> 00:00:20,236
I'm about to say like this
is a 10:15 session, right?


6
00:00:20,236 --> 00:00:22,636
You guys are way more
awake than the 9 o'clock.


7
00:00:23,426 --> 00:00:23,696
All right!


8
00:00:23,696 --> 00:00:24,886
My name is Kevin Cathey, I'm one


9
00:00:24,886 --> 00:00:26,136
of the Interface
Builder Engineers.


10
00:00:26,566 --> 00:00:29,026
And, later my co-worker
Tony is going to be joining


11
00:00:29,026 --> 00:00:31,086
up on stage taking the reins.


12
00:00:31,616 --> 00:00:33,526
And, what we're going to
be talking about today is,


13
00:00:33,726 --> 00:00:36,506
hence the title,
Auto Layout in Xcode.


14
00:00:37,336 --> 00:00:40,236
But before I talk about
Auto Layout in Xcode,


15
00:00:40,366 --> 00:00:42,466
I just want to take a
brief kind of crash course


16
00:00:42,466 --> 00:00:43,996
into what Auto Layout is.


17
00:00:43,996 --> 00:00:46,106
In case you're new to the
technology, new to the platform.


18
00:00:46,436 --> 00:00:47,446
So let's do that real quick.


19
00:00:48,436 --> 00:00:50,896
If I were to define Auto Layout
in a sentence, which I've done,


20
00:00:51,376 --> 00:00:55,236
is that it is a constraint-based
descriptive layout system.


21
00:00:56,196 --> 00:00:56,916
That was helpful.


22
00:00:57,256 --> 00:00:59,306
So let's look at
what that means.


23
00:00:59,656 --> 00:01:02,776
So I have an interface here
and I want to describe it once.


24
00:01:03,446 --> 00:01:06,816
But I wanted to look good in
both portrait and landscape.


25
00:01:06,816 --> 00:01:09,556
So what are some ways that
I can describe the interface


26
00:01:09,886 --> 00:01:10,606
like I have here?


27
00:01:11,386 --> 00:01:14,066
OK. One way I could do it would
be with the Hard-Coded Layout.


28
00:01:14,666 --> 00:01:19,006
But, when I rotate my device,
if I keep my frame origin fixed


29
00:01:19,006 --> 00:01:22,266
like that, you know,
139,270, then it's going to be


30
00:01:22,266 --> 00:01:23,976
in the wrong spot when
I rotate my device.


31
00:01:24,886 --> 00:01:27,626
So clearly, that's
not what we want.


32
00:01:28,716 --> 00:01:31,916
So what's another way that we
could describe this interface?


33
00:01:32,666 --> 00:01:34,696
Well, if I were to go
like to the white board


34
00:01:34,696 --> 00:01:37,036
and like describe it to
someone, I might use terms like,


35
00:01:37,336 --> 00:01:40,586
the control is centered
vertically in my container or,


36
00:01:40,666 --> 00:01:42,686
to fix the distance
from the right edge,


37
00:01:42,686 --> 00:01:45,136
and this is exactly
what Auto Layout is.


38
00:01:45,576 --> 00:01:47,126
What Auto Layout is, is
it's taking this kind


39
00:01:47,126 --> 00:01:49,776
of white board human
readable descriptions


40
00:01:50,106 --> 00:01:52,066
and its codifying them
into these objects


41
00:01:52,236 --> 00:01:53,536
that we call constraints.


42
00:01:53,906 --> 00:01:58,766
Now, what the automatic
part is of Auto Layout is


43
00:01:58,766 --> 00:02:00,336
that you provide the
constraints for us


44
00:02:00,526 --> 00:02:03,826
and then we automatically
determine those frames based


45
00:02:03,826 --> 00:02:04,706
upon the constraints.


46
00:02:05,366 --> 00:02:07,346
Now, this is really
cool and really powerful


47
00:02:07,346 --> 00:02:08,056
for a couple of reasons.


48
00:02:08,576 --> 00:02:10,895
So, like I mentioned, first
of all, it's relational.


49
00:02:11,106 --> 00:02:13,176
I'm just describing it how you
would describe it to someone


50
00:02:13,176 --> 00:02:14,456
if you were just
explaining it to them


51
00:02:14,456 --> 00:02:16,456
in the hallway or
on a white board.


52
00:02:17,366 --> 00:02:20,436
And this relationship-based
layout is also going


53
00:02:20,436 --> 00:02:23,136
to benefit us in other ways
too, especially when things


54
00:02:23,136 --> 00:02:24,836
around us start changing.


55
00:02:25,256 --> 00:02:27,396
This is the fun part
of writing code, right?


56
00:02:28,286 --> 00:02:30,416
So, for example, let's talk
about metrics for a second.


57
00:02:30,936 --> 00:02:33,196
I already talked about
rotation where the size


58
00:02:33,236 --> 00:02:36,416
of container is changing
based upon the orientation


59
00:02:36,416 --> 00:02:39,736
of our device or the think about
screen sizes, the difference


60
00:02:39,736 --> 00:02:42,396
between a retina 3 and a half
inch and a retina 4 inch.


61
00:02:43,166 --> 00:02:45,636
Or as we've been talking
about so far with this WWDC,


62
00:02:45,636 --> 00:02:49,416
the differences between
iOS 6 and iOS 7


63
00:02:49,416 --> 00:02:51,666
where not only do we have
changes in the metrics


64
00:02:51,666 --> 00:02:54,436
of controls like UI
switch and UI slider,


65
00:02:54,436 --> 00:02:57,526
but we also have a great
new dynamic text feature


66
00:02:57,686 --> 00:02:59,116
where the user can
actually change the size


67
00:02:59,116 --> 00:03:00,116
of the font on the fly.


68
00:03:00,956 --> 00:03:04,946
So, using Auto Layout and using
relationships to describe things


69
00:03:04,946 --> 00:03:08,736
like spacings, alignments, equal
sizes, these are the things


70
00:03:08,736 --> 00:03:11,876
that are going to translate
regardless of what the size


71
00:03:11,876 --> 00:03:13,486
of the container is, so
the size of the control,


72
00:03:13,486 --> 00:03:14,546
the size of your contents.


73
00:03:15,106 --> 00:03:16,436
So, let's talk about content.


74
00:03:17,206 --> 00:03:20,976
So, Localization is a really
common place that this comes up.


75
00:03:20,976 --> 00:03:22,956
Now you guys are all
localizing applications, right?


76
00:03:22,956 --> 00:03:24,986
I can just assume you are.


77
00:03:25,506 --> 00:03:26,446
I'll take it by the yes's


78
00:03:26,446 --> 00:03:28,156
in several languages
that you are, great!


79
00:03:28,566 --> 00:03:31,386
If you're not, then this is a
great time to start doing so,


80
00:03:31,386 --> 00:03:33,596
'cause not only it will
benefit you for Localization


81
00:03:33,596 --> 00:03:35,566
but also all of the things
I've been talking about.


82
00:03:35,566 --> 00:03:38,236
So let's talk about
expressiveness.


83
00:03:39,046 --> 00:03:40,636
With Auto Layout,
you can do things


84
00:03:40,636 --> 00:03:42,966
that just weren't
possible before


85
00:03:42,966 --> 00:03:44,896
without writing a lot of code.


86
00:03:45,346 --> 00:03:47,876
And as we all know, writing
code is writing bugs,


87
00:03:48,096 --> 00:03:51,236
less code equals more
awesome most of the time.


88
00:03:51,316 --> 00:03:53,756
So with Auto Layout, you
can express really powerful


89
00:03:53,756 --> 00:03:55,926
relationships, and
if you're using Xcode


90
00:03:55,926 --> 00:03:57,956
in Interface Builder, you can
express these really powerful


91
00:03:57,956 --> 00:04:00,316
relationships again, without
writing a single line of code,


92
00:04:00,636 --> 00:04:02,086
and that is just a huge win.


93
00:04:02,666 --> 00:04:07,946
So, as we've kind of been
saying so far with WWDC 2012,


94
00:04:08,016 --> 00:04:10,686
this is a great time to
start adopting Auto Layout.


95
00:04:11,596 --> 00:04:13,126
And so you might be wondering,
well, how do I do that?


96
00:04:13,126 --> 00:04:14,756
I don't even know
where to start.


97
00:04:15,416 --> 00:04:17,826
So, the first place to start
is with Interface Builder.


98
00:04:17,826 --> 00:04:20,826
If you guys are using Interface
Builder, the first step that I


99
00:04:20,826 --> 00:04:22,726
like to recommend is that
you go in Interface Builder


100
00:04:22,726 --> 00:04:25,436
and you upgrade your documents
to start using Auto Layout


101
00:04:25,436 --> 00:04:26,666
and you add constraints.


102
00:04:26,936 --> 00:04:28,986
Now, let me pause here
and mention something


103
00:04:28,986 --> 00:04:31,226
that I think it's
really critical to talk


104
00:04:31,226 --> 00:04:33,096
about when it comes to some
of these new technologies.


105
00:04:33,746 --> 00:04:36,006
Auto Layout can be
adopted incrementally.


106
00:04:36,256 --> 00:04:37,626
It's not an all or
nothing thing.


107
00:04:37,626 --> 00:04:39,186
You don't have to turn
it on for you whole app,


108
00:04:39,456 --> 00:04:41,736
make it work all at once, right?


109
00:04:41,736 --> 00:04:42,636
We all have deadlines.


110
00:04:43,146 --> 00:04:44,516
And, sometimes the task


111
00:04:44,796 --> 00:04:48,446
of adopting a new technology
looks daunting given a deadline.


112
00:04:48,916 --> 00:04:51,406
But, with Auto Layout and
many of our new technologies,


113
00:04:51,556 --> 00:04:53,916
with iOS 7 and OS X Mavericks,


114
00:04:53,916 --> 00:04:56,876
is that you can adopt them
incrementally, bit by bit.


115
00:04:57,276 --> 00:04:59,466
So, with Auto Layout,
the kind of granularity


116
00:04:59,466 --> 00:05:01,356
for this is per view controller


117
00:05:01,356 --> 00:05:03,036
or per Interface
Builder document.


118
00:05:03,756 --> 00:05:06,146
And you can add just that one
piece in to use Auto Layout,


119
00:05:06,546 --> 00:05:08,446
get it to work and
move on to the next.


120
00:05:08,446 --> 00:05:10,576
You might only get two or
three view controllers working,


121
00:05:10,576 --> 00:05:12,606
the place is what makes the
most sense then say, "You know,


122
00:05:12,606 --> 00:05:13,876
I have to ship," great.


123
00:05:14,276 --> 00:05:16,336
After the release, come
back, and keep moving on.


124
00:05:16,796 --> 00:05:19,276
So I just want to make sure
that's really clear as we go on.


125
00:05:19,816 --> 00:05:24,956
Now, a lot of us do things
outside of Interface Builder


126
00:05:24,956 --> 00:05:26,566
with code, we add
extra subviews,


127
00:05:26,566 --> 00:05:27,876
make little adjustments
here and there.


128
00:05:28,306 --> 00:05:31,236
And this is the last part of
adopting Auto Layout is to go


129
00:05:31,236 --> 00:05:33,356
to those places where you're
adding subviews dynamically


130
00:05:33,356 --> 00:05:36,046
at runtime and you'll need
to update those call sites


131
00:05:36,046 --> 00:05:37,206
to be aware of Auto Layout.


132
00:05:37,646 --> 00:05:38,656
So previously, with the springs


133
00:05:38,656 --> 00:05:40,876
and struts system you would
do things like setFrame,


134
00:05:40,876 --> 00:05:42,226
addSubview, things like that.


135
00:05:42,796 --> 00:05:44,216
You'll continue to
call addSubview,


136
00:05:44,216 --> 00:05:46,646
but instead of calling
setFrame, now what you want


137
00:05:46,646 --> 00:05:49,626
to do is either add constraints
or modify those constraints.


138
00:05:50,656 --> 00:05:52,766
Now, the risk of being overly
complicated too quickly,


139
00:05:53,016 --> 00:05:54,856
I'm going to point out one thing
that I want you to be aware


140
00:05:54,856 --> 00:05:55,976
of as you're adopting
Auto Layout


141
00:05:55,976 --> 00:05:58,916
and this property called
translatesAutoresizing


142
00:05:58,916 --> 00:06:00,086
MaskIntoConstraints.


143
00:06:00,606 --> 00:06:02,866
What this does is it just
tells the system, "Hey,


144
00:06:03,046 --> 00:06:05,306
I want you to help me by
generating constraints


145
00:06:05,306 --> 00:06:07,946
that exactly mimic
the Autoresizing Mask.


146
00:06:08,626 --> 00:06:10,646
So go back to this idea
of adopting incrementally.


147
00:06:10,956 --> 00:06:12,806
In code, you can actually
get down to the level


148
00:06:12,806 --> 00:06:14,116
of adopting it per view.


149
00:06:14,866 --> 00:06:16,666
Now if you want to add your
own constraints, you're going


150
00:06:16,836 --> 00:06:18,296
to want to have
translatesAutoresizing


151
00:06:18,456 --> 00:06:20,886
MaskIntoConstraints turned to
"No," the default is "Yes."


152
00:06:21,506 --> 00:06:22,556
If you use Interface Builder,


153
00:06:23,026 --> 00:06:24,586
don't worry we'll
handle all for you.


154
00:06:24,796 --> 00:06:26,476
But as you're adding
subviews and code,


155
00:06:26,476 --> 00:06:28,416
you want to make sure you
turn that off if you want


156
00:06:28,416 --> 00:06:29,736
to add your own constraints.


157
00:06:29,806 --> 00:06:30,286
All right!


158
00:06:31,056 --> 00:06:35,526
That was like the 3-minute crash
course into what Auto Layout is.


159
00:06:35,526 --> 00:06:37,636
If you want to know more,
if you're still confused


160
00:06:37,636 --> 00:06:39,806
at this point, you can go
check out these sessions


161
00:06:39,846 --> 00:06:43,296
from the previous WWDC, there's
three great sessions here.


162
00:06:43,546 --> 00:06:44,786
So if you're watching
the videos,


163
00:06:45,276 --> 00:06:46,766
hit the spacebar,
go check this out.


164
00:06:46,766 --> 00:06:48,996
If you're in the
audience, well buckle up.


165
00:06:49,266 --> 00:06:50,266
All right!


166
00:06:50,856 --> 00:06:52,826
So let's talk a little
about kind


167
00:06:52,826 --> 00:06:54,586
of how Auto Layout
has come to be.


168
00:06:54,586 --> 00:06:58,586
So you may know in 2011, we
first introduced Auto Layout,


169
00:06:58,586 --> 00:07:01,526
it was brand new for the
Mac, brand new for Xcode,


170
00:07:01,526 --> 00:07:04,686
and it was all about helping you
create Auto Layout interfaces


171
00:07:04,746 --> 00:07:06,966
quickly, with the
Visual Format Language


172
00:07:06,966 --> 00:07:09,786
and with the Interface Builder's
automatic constraint addition.


173
00:07:10,496 --> 00:07:11,536
Now last year, it was all


174
00:07:11,536 --> 00:07:13,446
about helping you build
Auto Layout interfaces


175
00:07:13,446 --> 00:07:17,066
in more places, bringing
Auto Layout to iOS.


176
00:07:18,246 --> 00:07:20,546
Now, it's been really cool
to get to work with you guys


177
00:07:20,546 --> 00:07:21,616
over the last two years.


178
00:07:21,616 --> 00:07:23,316
I've had a chance
to meet many of you.


179
00:07:23,706 --> 00:07:25,536
And man, you guys are
doing some cool stuff,


180
00:07:26,096 --> 00:07:28,606
like some really
custom cool stuff.


181
00:07:28,666 --> 00:07:30,126
I just think it's awesome.


182
00:07:30,496 --> 00:07:32,896
And so, what we're going to do
this year is we want to put you


183
00:07:32,896 --> 00:07:35,566
in the driver seat when
it comes to Auto Layout.


184
00:07:36,046 --> 00:07:39,736
And so, with Xcode 5 where we're
introducing a completely new


185
00:07:39,736 --> 00:07:42,746
workflow for working with
Auto Layout in Xcode,


186
00:07:42,746 --> 00:07:46,216
that will give you both kind
of broad painting strokes


187
00:07:46,426 --> 00:07:47,486
for working with Auto Layout,


188
00:07:47,486 --> 00:07:50,516
but also that really
fine-tune grained control


189
00:07:50,756 --> 00:07:53,286
that will help you
accomplish and build those apps


190
00:07:53,856 --> 00:07:57,386
that are just fantastic.


191
00:07:57,426 --> 00:08:00,236
Now, as we talk about phases
of development, right,


192
00:08:00,236 --> 00:08:01,816
we're adding features
that are going to help you


193
00:08:01,816 --> 00:08:03,066
in every phase of development.


194
00:08:03,416 --> 00:08:04,666
What are some of those
different phases?


195
00:08:04,666 --> 00:08:06,496
Well, we all start here, right?


196
00:08:06,686 --> 00:08:09,366
Initial Layout, and this is
just where you're dragging stuff


197
00:08:09,366 --> 00:08:13,116
out for the first time, you
want to get stuff to show up.


198
00:08:13,556 --> 00:08:17,886
At this point, I mean I'm not
really thinking about rotation


199
00:08:17,886 --> 00:08:21,556
or localization, I'm just
pretty much concerned with--


200
00:08:21,556 --> 00:08:23,466
can I remember how to
connect to a database


201
00:08:23,466 --> 00:08:24,976
and can I populate my UI label,


202
00:08:25,376 --> 00:08:26,936
that's pretty much what I'm
concerned at this point,


203
00:08:26,936 --> 00:08:28,866
and getting things up and
running as quick as possible.


204
00:08:29,806 --> 00:08:31,596
But then, eventually, I
do want start thinking


205
00:08:31,596 --> 00:08:34,405
about how is my application
going to adopt when I rotate,


206
00:08:34,405 --> 00:08:36,346
change devices, change
localizations?


207
00:08:36,666 --> 00:08:38,246
And this is in an
Auto Layout world


208
00:08:38,246 --> 00:08:39,655
where we start adding
constraints.


209
00:08:40,856 --> 00:08:44,186
And then we all go through the
inevitable Debug cycle, well,


210
00:08:44,186 --> 00:08:46,756
except here at Apple 'cause
we don't have any bugs.


211
00:08:46,846 --> 00:08:47,636
No, I'm just kidding.


212
00:08:47,636 --> 00:08:49,076
So we all go through
that Debug cycle,


213
00:08:49,076 --> 00:08:50,876
we identified problems
and fix them.


214
00:08:50,876 --> 00:08:54,036
And then we kind of push
our interfaces often


215
00:08:54,036 --> 00:08:57,326
to this Maintenance Mode, right,
I may make a few tweaks here


216
00:08:57,326 --> 00:08:59,366
and there, but generally we're
not touching our interface


217
00:08:59,396 --> 00:09:01,016
for probably quite a while.


218
00:09:01,466 --> 00:09:03,396
And it's really important
in this phase


219
00:09:03,786 --> 00:09:07,426
that when you're making those
single edits to your document,


220
00:09:07,536 --> 00:09:09,576
that things aren't changing
that you're not aware of.


221
00:09:10,106 --> 00:09:12,756
And this is last arrow that kind


222
00:09:12,826 --> 00:09:15,876
of connects maintenance
and Initial Layout.


223
00:09:16,476 --> 00:09:19,316
And you can think about this
when you start your next version


224
00:09:19,316 --> 00:09:20,906
of your app, you
shift from version 1,


225
00:09:20,906 --> 00:09:22,046
you shift to version--
and I'm going


226
00:09:22,046 --> 00:09:23,896
to start working on version 2.


227
00:09:24,256 --> 00:09:25,836
Your marketing guy comes
in and says, "Great,


228
00:09:25,956 --> 00:09:27,116
let's change the whole thing."


229
00:09:27,916 --> 00:09:31,226
Awesome! So then, you need
a chance and some tools


230
00:09:31,426 --> 00:09:34,166
to help you start over
with some of your layout.


231
00:09:35,026 --> 00:09:37,186
So what Tony and I are going
to show you today is how


232
00:09:37,186 --> 00:09:39,936
with Xcode 5, we've added
features to help you


233
00:09:39,936 --> 00:09:40,846
with each one of these phases.


234
00:09:40,906 --> 00:09:42,826
So what we're going to do
is we're just going to walk


235
00:09:42,826 --> 00:09:44,026
through each one of
these one by one.


236
00:09:44,026 --> 00:09:46,846
So let's start with, at the
beginning, Initial Layout.


237
00:09:47,876 --> 00:09:50,176
Now, again, this is just when
you're first adding views,


238
00:09:50,256 --> 00:09:52,506
positioning, resizing,
I mean the stuff--


239
00:09:52,506 --> 00:09:54,176
you guys got the stuff,
this stuff was easy.


240
00:09:55,466 --> 00:09:57,886
And again, when you're working
in the space, you're not


241
00:09:57,886 --> 00:09:59,946
yet thinking about
how it's going


242
00:09:59,946 --> 00:10:01,476
to react the changes around you.


243
00:10:02,476 --> 00:10:05,286
So, with Xcode 5,
when you add a view,


244
00:10:05,516 --> 00:10:07,556
you get to add constraints
when you're ready.


245
00:10:07,556 --> 00:10:09,576
Interface Builder is not
going to add any constraints


246
00:10:09,576 --> 00:10:17,976
when you first add a view, you
get to decide when that's best.


247
00:10:17,976 --> 00:10:18,306
[ Applause ]


248
00:10:18,306 --> 00:10:20,206
So then, you add a view, you
don't add any constraints,


249
00:10:20,206 --> 00:10:20,936
and you build and run.


250
00:10:21,386 --> 00:10:22,566
Well, what do you
expect to happen?


251
00:10:23,086 --> 00:10:25,686
With Xcode 5, if you
haven't added any constraints


252
00:10:25,686 --> 00:10:29,226
to the view yet, we will at
Build Time add fix position


253
00:10:29,276 --> 00:10:32,816
and size constraints, so
that you can experiment very,


254
00:10:32,816 --> 00:10:34,626
very quickly without
having to think


255
00:10:34,626 --> 00:10:36,276
about constraints again
until you're ready.


256
00:10:37,676 --> 00:10:40,506
Now, what this allows you
to do is this allows you


257
00:10:40,506 --> 00:10:42,986
to separate your Layout
and Interface Builder


258
00:10:42,986 --> 00:10:44,206
with your layout at runtime.


259
00:10:44,866 --> 00:10:47,646
What you are dragging around and
resizing an Interface Builder,


260
00:10:47,646 --> 00:10:49,796
could be independent of how
you're thinking about things


261
00:10:49,796 --> 00:10:51,686
at runtime and then
you get to decide


262
00:10:51,686 --> 00:10:52,706
when you want to sync that up.


263
00:10:53,266 --> 00:10:55,086
You might say, "OK,
I want my constraints


264
00:10:55,086 --> 00:10:57,136
to reflect what I have
in Interface Builder,"


265
00:10:57,136 --> 00:10:57,846
or you might say,
" You know what,


266
00:10:57,846 --> 00:10:58,686
I don't want Interface Builder


267
00:10:58,686 --> 00:11:00,166
to reflect what my
constraints at."


268
00:11:00,166 --> 00:11:03,076
And we've added features that
give you the precise control


269
00:11:03,076 --> 00:11:07,656
over when you want to do that
and how you want to do that.


270
00:11:07,656 --> 00:11:10,406
Now again, at this
point, I'm still thinking


271
00:11:10,406 --> 00:11:12,636
of my interface as
a static entity.


272
00:11:13,046 --> 00:11:16,156
But eventually, I want to start
thinking about how does it react


273
00:11:16,156 --> 00:11:18,276
to changes, and this is when
we start adding constraints.


274
00:11:18,526 --> 00:11:22,516
We've added a lot of new ways
to add constraints with Xcode 5.


275
00:11:22,906 --> 00:11:25,816
And really, I think, the best
way to show you is with a demo.


276
00:11:26,076 --> 00:11:27,926
So let's do that now.


277
00:11:29,596 --> 00:11:34,176
So all the features I'm
going to show you work


278
00:11:34,176 --> 00:11:36,516
with both iOS and OS X.


279
00:11:36,516 --> 00:11:38,846
But what we're going to
do is we're going to look


280
00:11:38,846 --> 00:11:41,296
at just an iOS application here.


281
00:11:42,196 --> 00:11:44,906
And this is an app that you've
seen in a couple of sessions,


282
00:11:44,906 --> 00:11:47,056
I believe, it's our
adventure game.


283
00:11:47,406 --> 00:11:49,786
And what we're going to do is
we're going add a Front End UI


284
00:11:49,786 --> 00:11:53,236
to this to kind of navigate
around some of the things


285
00:11:53,236 --> 00:11:54,366
like a creating a new game,


286
00:11:54,366 --> 00:11:56,046
loading a game, things
like that.


287
00:11:57,456 --> 00:11:59,106
All right, so let's
get started here.


288
00:11:59,106 --> 00:12:02,946
What we're going to do is we're
going to build a splash screen


289
00:12:03,276 --> 00:12:04,816
by adding some buttons here.


290
00:12:05,416 --> 00:12:08,796
So what I can do is I can
just-- here is my library,


291
00:12:08,796 --> 00:12:12,086
I'm just going to drag
out a button and drop it,


292
00:12:12,086 --> 00:12:15,676
and again the first thing you're
going to notice by zooming here


293
00:12:15,836 --> 00:12:17,066
with Interface Builder
is waiting


294
00:12:17,066 --> 00:12:19,166
to add constraints
until I'm ready.


295
00:12:19,756 --> 00:12:25,356
All right, so, my artwork is
going to send me a designer.


296
00:12:25,496 --> 00:12:27,186
My designer is going
to send me some artwork


297
00:12:27,896 --> 00:12:29,656
so in the meantime
I'm just going to fill


298
00:12:29,656 --> 00:12:31,316
in with a background color,


299
00:12:31,316 --> 00:12:33,006
just a placeholder
background color here.


300
00:12:33,956 --> 00:12:34,996
I want to call this,


301
00:12:35,106 --> 00:12:36,846
if I double-click, I
can edit the title.


302
00:12:37,636 --> 00:12:39,426
I'm going to call
this "New Game."


303
00:12:40,716 --> 00:12:42,896
And I can just position
this, resize this,


304
00:12:43,356 --> 00:12:45,556
and it just works
just how I expect.


305
00:12:46,396 --> 00:12:51,496
Again, let's see, load game,
and then the most important part


306
00:12:51,496 --> 00:12:53,546
for us as developers,
the credits.


307
00:12:55,616 --> 00:12:56,976
And then, whoops, I
didn't mean to do that.


308
00:12:56,976 --> 00:13:00,736
And let's resize this, position
them, all right, we're good.


309
00:13:00,966 --> 00:13:02,756
Now, I'm going to
build and run this.


310
00:13:02,756 --> 00:13:04,516
Again, I haven't added
a single constraint yet,


311
00:13:05,136 --> 00:13:06,526
but my document's
using Auto Layout.


312
00:13:07,286 --> 00:13:09,456
And you'll see when I build
and run my application


313
00:13:09,456 --> 00:13:11,106
and it shows up,
it's going to show


314
00:13:11,106 --> 00:13:13,266
up exactly how it looks
in interface builder.


315
00:13:13,726 --> 00:13:16,296
And these are those constraints
that we add at Build Time


316
00:13:16,586 --> 00:13:18,556
so that you can build
run your application


317
00:13:18,556 --> 00:13:21,076
and quickly experiment
with what you're doing.


318
00:13:21,326 --> 00:13:23,876
We'll even tag those
constraints at runtime so that,


319
00:13:24,106 --> 00:13:25,816
if you start getting
log messages and stuff,


320
00:13:25,936 --> 00:13:29,306
you can see exactly what object
what Nib file those constraints


321
00:13:29,306 --> 00:13:32,396
came from right at runtime.


322
00:13:32,496 --> 00:13:32,756
All right!


323
00:13:32,846 --> 00:13:35,596
So you can see the effect
of our fixed position


324
00:13:35,596 --> 00:13:38,756
and size constraints
when I rotate my device.


325
00:13:38,956 --> 00:13:41,306
Well, that's clearly
not I want to happen.


326
00:13:41,446 --> 00:13:44,456
So let's go back to Xcode and
let's add some constraints.


327
00:13:44,916 --> 00:13:47,816
I'm going to show you three
ways in this demo to--


328
00:13:48,036 --> 00:13:49,406
new ways to add constraints.


329
00:13:49,406 --> 00:13:51,746
You've already seen two
of them, and I'm going


330
00:13:51,746 --> 00:13:52,956
to reiterate those first.


331
00:13:54,066 --> 00:13:54,666
Let me stop this.


332
00:13:54,736 --> 00:13:55,676
All right!


333
00:13:55,726 --> 00:13:58,896
So the first way I'm going to
show you is via Control-Drag.


334
00:13:59,076 --> 00:14:01,406
Just like you can
control drag between views


335
00:14:01,816 --> 00:14:05,376
to add relationships like
actions and outlets for views,


336
00:14:05,376 --> 00:14:07,126
now you can control
drag between views


337
00:14:07,126 --> 00:14:08,816
to add relationships
that are constraints.


338
00:14:09,296 --> 00:14:11,916
So hold Control, I
can just could drag


339
00:14:11,916 --> 00:14:13,336
from this new button off


340
00:14:13,826 --> 00:14:16,006
to create a leading
space to my superview.


341
00:14:16,006 --> 00:14:18,496
I'm going to pause again
and point out a few things.


342
00:14:19,056 --> 00:14:21,096
When you add your first
constraint to a view,


343
00:14:21,096 --> 00:14:24,196
what you're telling Interface
Builder is, "Hey, I want to be


344
00:14:24,196 --> 00:14:25,936
in charge of the
layout of this view,"


345
00:14:26,296 --> 00:14:28,716
and now what Interface Builder
does is it starts trying


346
00:14:28,716 --> 00:14:32,066
to help you, by just pointing
things out, and just making sure


347
00:14:32,066 --> 00:14:33,956
that you're getting the
constraints that you want.


348
00:14:34,596 --> 00:14:36,696
So there's two things I want
to point out here: First,


349
00:14:36,966 --> 00:14:39,436
the constraint that I've added,
I've only added one constraint,


350
00:14:39,436 --> 00:14:41,226
and the constraint that
I've added is orange,


351
00:14:41,696 --> 00:14:44,336
which is indicating to me "Hey,
I still have more work to do."


352
00:14:44,336 --> 00:14:47,606
The other that Interface
Builder is doing is,


353
00:14:47,606 --> 00:14:49,906
it's showing me my
Runtime Layout.


354
00:14:50,106 --> 00:14:54,186
Like I said, with Xcode 5, you
can have your Design Time Layout


355
00:14:54,186 --> 00:14:56,376
and your Runtime Layout be
different while you're building


356
00:14:56,636 --> 00:14:58,696
as you get to the
point where you want


357
00:14:58,696 --> 00:14:59,696
to have the UI that you want.


358
00:15:00,146 --> 00:15:02,126
And so, what Interface Builder
is showing me is, "OK, this is--


359
00:15:02,126 --> 00:15:05,536
this big rectangle here is
where my Design Time Layout is,


360
00:15:06,096 --> 00:15:09,476
and this dotted rectangle is
what the constraints would


361
00:15:09,476 --> 00:15:10,706
generate at runtime."


362
00:15:12,176 --> 00:15:14,206
And so what I can
do is if I control


363
00:15:14,206 --> 00:15:15,136
and I got off the right edge,


364
00:15:16,306 --> 00:15:19,956
you can see that it
jumps over that side.


365
00:15:20,476 --> 00:15:22,406
So why is it-- it
actually have a height,


366
00:15:22,406 --> 00:15:23,776
I haven't add any
height constraint,


367
00:15:23,776 --> 00:15:24,596
why does it have a height?


368
00:15:24,976 --> 00:15:26,726
And this goes to one of
the concepts in Auto Layout


369
00:15:26,726 --> 00:15:29,686
that is also really
powerful, which is the idea


370
00:15:29,686 --> 00:15:31,746
of the intrinsic content size.


371
00:15:32,336 --> 00:15:36,706
Most views like or most controls
rather like labels, buttons,


372
00:15:36,806 --> 00:15:40,656
other things like that have a
size that is like they're sized


373
00:15:40,656 --> 00:15:43,986
to fit size, think about it like
the size of the text of a label,


374
00:15:44,286 --> 00:15:45,776
that's a great example
of something that--


375
00:15:45,776 --> 00:15:47,196
the intrinsic content size is.


376
00:15:47,636 --> 00:15:50,856
So from my button, the intrinsic
content size is the size


377
00:15:50,856 --> 00:15:52,096
of the text, New Game.


378
00:15:52,256 --> 00:15:54,396
So in this case, the
height there is showing me,


379
00:15:54,696 --> 00:15:56,366
the height of the string game.


380
00:15:56,946 --> 00:16:01,596
So, Control-Drag is
context sensitive.


381
00:16:02,086 --> 00:16:06,166
So based upon the views I'm
dragging between and the angle


382
00:16:06,166 --> 00:16:08,436
of the line that I'm drawing,
it will give me suggestions.


383
00:16:09,076 --> 00:16:11,826
So if I'm drawing out a vertical
line and some horizontal,


384
00:16:12,226 --> 00:16:16,476
you can see it gives me options
for vertical or horizontal--


385
00:16:16,476 --> 00:16:17,836
vertical and horizontal
constraints.


386
00:16:19,146 --> 00:16:20,286
We have a top space here


387
00:16:20,286 --> 00:16:22,366
and then our horizontal
constraint is centering,


388
00:16:22,866 --> 00:16:25,066
so based upon that line
that I've just drawn.


389
00:16:25,536 --> 00:16:28,336
So I can pick a top
space and then I'm going


390
00:16:28,336 --> 00:16:29,586
to draw one more constraint here


391
00:16:30,306 --> 00:16:32,826
which is the height
of my button.


392
00:16:33,256 --> 00:16:35,766
Now, generally, you do not
want to add explicit width


393
00:16:35,766 --> 00:16:36,686
and height constraints.


394
00:16:37,366 --> 00:16:39,326
If you add an explicit
width or heights constraint,


395
00:16:39,326 --> 00:16:41,606
then as the intrinsic
content size changes,


396
00:16:41,606 --> 00:16:44,446
say when the font size changes


397
00:16:44,446 --> 00:16:46,866
or the string inside
of it changes.


398
00:16:47,156 --> 00:16:49,156
That control will
not change size


399
00:16:49,156 --> 00:16:51,516
so you might get clipped text
or really awkward spaces.


400
00:16:52,156 --> 00:16:54,596
Now I'm adding a height
constraint here 'cause this is a


401
00:16:54,596 --> 00:16:56,256
custom button and
there's artwork


402
00:16:56,256 --> 00:16:58,396
that my designer will provide
for me later, but for now,


403
00:16:58,396 --> 00:16:59,796
I'm just going to add
a height constraint.


404
00:16:59,796 --> 00:17:00,976
But when I got my artwork,


405
00:17:00,976 --> 00:17:04,096
I would probably
want to delete this.


406
00:17:04,296 --> 00:17:04,556
All right!


407
00:17:04,556 --> 00:17:08,465
So just like I can create
constraints between my superview


408
00:17:08,465 --> 00:17:11,175
and across myself, I can also
created them by siblings.


409
00:17:11,806 --> 00:17:14,185
So to do that, I can
control drag from new game


410
00:17:14,185 --> 00:17:17,195
down the load game, and you can
see I get a few more options


411
00:17:17,195 --> 00:17:21,056
here, I get a vertical space, I
get some alignments on the left,


412
00:17:21,276 --> 00:17:24,086
center and right, and
also some equal sizes.


413
00:17:24,455 --> 00:17:25,925
So I'm going to select
vertical space.


414
00:17:27,366 --> 00:17:29,246
That constraint is orange
telling me, I still got to work


415
00:17:29,246 --> 00:17:31,136
to do so I'm going to add
some more constraints.


416
00:17:31,236 --> 00:17:34,416
I can add them one at a time or
I can add multiple at a time.


417
00:17:34,976 --> 00:17:36,866
Before I do that, I'm going
point out something else.


418
00:17:36,866 --> 00:17:38,966
Well, just this little dot
right here which is telling me


419
00:17:39,176 --> 00:17:41,366
that I've already added this
vertical spacing constraint.


420
00:17:41,826 --> 00:17:41,986
All right!


421
00:17:42,676 --> 00:17:45,766
So now I can hold
command or shift


422
00:17:45,826 --> 00:17:47,386
to add multiple constraints
at once.


423
00:17:47,486 --> 00:17:50,446
So I can do left and
right, I can hit return


424
00:17:50,446 --> 00:17:52,846
or just click away, and it's
added those two constraints


425
00:17:53,296 --> 00:17:53,786
really quickly.


426
00:17:54,746 --> 00:17:58,216
And now I can finish off my view
by adding my height constraint.


427
00:17:58,606 --> 00:18:00,996
Great! I've go my two
buttons done here.


428
00:18:01,906 --> 00:18:03,136
Let's talk about the
third button here.


429
00:18:03,526 --> 00:18:05,876
The third button you can
see here doesn't have any


430
00:18:05,876 --> 00:18:08,006
constraints yet, and
it still not kind


431
00:18:08,006 --> 00:18:09,666
of fixed position
and size state.


432
00:18:10,496 --> 00:18:11,846
When you build and
run your application


433
00:18:11,846 --> 00:18:13,776
and Interface Builder adds
those fallback constraints.


434
00:18:13,776 --> 00:18:17,066
If you haven't added any
constraints yet, it's per view.


435
00:18:17,666 --> 00:18:19,486
So you can as you get them
up and running, you can work


436
00:18:19,486 --> 00:18:22,036
on like one part of UI, move
on to the other part of UI,


437
00:18:22,036 --> 00:18:23,486
and work on it again
incrementally.


438
00:18:24,716 --> 00:18:28,106
Now, I can control drag between
all my views to add constraint


439
00:18:28,106 --> 00:18:29,696
which is again a really precise


440
00:18:29,696 --> 00:18:31,056
and quick way to
add constraints.


441
00:18:31,656 --> 00:18:33,786
But right now, I just
want to kind of get more


442
00:18:33,786 --> 00:18:35,346
of a broader paint stroke.


443
00:18:35,346 --> 00:18:37,346
I want Interface Builder
to give me a suggestion


444
00:18:37,346 --> 00:18:38,706
of constraints that
I can work with.


445
00:18:39,376 --> 00:18:40,216
So to do that, I'm going


446
00:18:40,216 --> 00:18:43,466
to use the new Auto Layout Issue
Resolving Menu, and Tony's going


447
00:18:43,466 --> 00:18:45,996
to talk more about this later,
but I'm just going to point


448
00:18:45,996 --> 00:18:47,876
out a few things, so
let's zoom in down here


449
00:18:48,926 --> 00:18:50,146
and I can pop this guy open.


450
00:18:50,256 --> 00:18:51,836
It's got a bunch of
different commands here


451
00:18:51,836 --> 00:18:54,576
for doing larger brush
strokes with constraints.


452
00:18:55,176 --> 00:18:57,686
One of these is reset the
suggested constraints.


453
00:18:58,106 --> 00:19:00,206
That will clear any
existing constraints I have


454
00:19:00,206 --> 00:19:04,166
on just this view, and then
it will add some suggested


455
00:19:04,166 --> 00:19:06,676
constraints for me,
that sounds great.


456
00:19:07,246 --> 00:19:09,456
So I select that, and you
can see it's added the exact


457
00:19:09,456 --> 00:19:12,606
constraints that I would add
with Control-Drag, left, right,


458
00:19:12,926 --> 00:19:15,186
spacing, and a height
constraint, perfect.


459
00:19:16,126 --> 00:19:17,126
That's exactly what I wanted.


460
00:19:17,126 --> 00:19:22,546
And now, we build and run
our application, you will see


461
00:19:22,726 --> 00:19:25,776
that our layout comes up,
looks great in portrait


462
00:19:26,706 --> 00:19:30,116
and in landscape, well, OK,
horizontally it looks good.


463
00:19:30,116 --> 00:19:31,426
We still got to work
on the vertical.


464
00:19:31,496 --> 00:19:34,016
Let's go back to IB and
figure out what we need to do.


465
00:19:34,986 --> 00:19:37,416
We rotate that back,
we write Xcode.


466
00:19:37,606 --> 00:19:39,836
And if I select all my views, it
will show me all the constraints


467
00:19:39,836 --> 00:19:43,426
for those views, and there
is my obvious constraint


468
00:19:43,426 --> 00:19:44,406
that I don't want anymore


469
00:19:44,406 --> 00:19:46,986
which was this top
space to my superview.


470
00:19:47,436 --> 00:19:49,866
I would really like all the
buttons to stay centered.


471
00:19:50,396 --> 00:19:52,766
So, with Xcode 5, it's
very easy to get rid


472
00:19:52,766 --> 00:19:53,906
of a constraint I
no longer want.


473
00:19:54,096 --> 00:19:55,716
I just select it
and hit the Delete.


474
00:19:56,216 --> 00:20:01,736
[ Applause ]


475
00:20:02,236 --> 00:20:03,986
Who knew that deleting
would be so exciting?


476
00:20:05,366 --> 00:20:05,716
All right!


477
00:20:05,796 --> 00:20:07,536
So let's add the constraint
that I actually want


478
00:20:07,666 --> 00:20:10,466
which is our center
vertically in our container.


479
00:20:10,726 --> 00:20:13,566
OK. Now we should be
good if I build and run.


480
00:20:14,546 --> 00:20:17,416
It looks great in
portrait, great in landscape.


481
00:20:17,976 --> 00:20:18,936
All right!


482
00:20:19,046 --> 00:20:21,716
So those are the first two ways
that we can add constraints.


483
00:20:22,476 --> 00:20:25,666
Control drag and the Auto
Layout issue resolving menu.


484
00:20:26,986 --> 00:20:28,716
OK. Now we're going to move


485
00:20:28,716 --> 00:20:30,876
on to a few more interesting
example is we're going


486
00:20:30,876 --> 00:20:32,606
to combine some of the different
techniques, and I'm going


487
00:20:32,606 --> 00:20:34,796
to show you the third way
that we add constraints.


488
00:20:35,796 --> 00:20:37,616
So again, I can control
drag between views


489
00:20:37,616 --> 00:20:38,436
to add the constraints.


490
00:20:38,466 --> 00:20:41,596
I can control drag between
scenes to add actions


491
00:20:42,086 --> 00:20:44,216
and it just automatically
detects the context


492
00:20:44,216 --> 00:20:45,346
and it gives me what I need.


493
00:20:45,636 --> 00:20:47,096
In this case, I want
to add a push segue.


494
00:20:48,656 --> 00:20:51,006
Now, in my new game
view controller,


495
00:20:51,006 --> 00:20:53,916
we're going to add a few
different controls here.


496
00:20:54,306 --> 00:20:57,246
We're going to add one for being
able to select my character


497
00:20:57,596 --> 00:21:00,096
and I want to add one for
adjusting the strategy


498
00:21:00,596 --> 00:21:03,286
that I want, and then I
want a big old play button


499
00:21:03,326 --> 00:21:04,686
so I can start playing my game.


500
00:21:05,556 --> 00:21:08,136
Let's start with the play
button that sounds exciting.


501
00:21:08,706 --> 00:21:10,676
So once again, I'm going to
drag out a button and I'm going


502
00:21:10,676 --> 00:21:13,766
to give it my background
color, my design--


503
00:21:13,766 --> 00:21:15,426
just for right now
until I get my artwork,


504
00:21:16,276 --> 00:21:19,186
which will someday be
delivered by my designers.


505
00:21:20,046 --> 00:21:22,396
I type in play here
and then let's go ahead


506
00:21:22,396 --> 00:21:25,676
and position this,
resize, snap, good.


507
00:21:25,726 --> 00:21:28,826
I'm going to show you the third
way now to add constraints.


508
00:21:29,416 --> 00:21:32,506
Control drag offered you a
precise way to add constraints,


509
00:21:32,506 --> 00:21:33,546
and you can add a few at once.


510
00:21:34,266 --> 00:21:36,816
And then the Auto Layout issue
resolving menu allowed you


511
00:21:36,816 --> 00:21:38,706
to do broader strokes,
and now I'm going


512
00:21:38,706 --> 00:21:40,616
to show you the
constraint-addition popover


513
00:21:40,616 --> 00:21:42,846
where I can kind of do a
combination of all of that.


514
00:21:44,066 --> 00:21:47,686
So down here in the
bottom right of my canvas,


515
00:21:47,926 --> 00:21:51,376
I have my little pin
button, I can select that


516
00:21:51,596 --> 00:21:52,936
and a popover comes up.


517
00:21:52,936 --> 00:21:54,316
And let me kind of
walk you through some


518
00:21:54,316 --> 00:21:55,436
of the pieces of this popover.


519
00:21:56,006 --> 00:21:58,036
At the top, we have
something called "Spacing


520
00:21:58,036 --> 00:22:00,616
to Nearest Neighbor," OK,
what's the nearest neighbor?


521
00:22:01,046 --> 00:22:03,786
The nearest neighbor
is the nearest sibling


522
00:22:04,276 --> 00:22:05,766
in the direction indicated.


523
00:22:05,766 --> 00:22:07,736
So the nearest neighbor
off the left edge,


524
00:22:08,256 --> 00:22:09,686
the nearest sibling
off the right edge,


525
00:22:09,716 --> 00:22:11,426
bottom edge, top
edge, and so on.


526
00:22:11,766 --> 00:22:14,316
If there's no sibling, then
it picks the superview.


527
00:22:15,306 --> 00:22:17,936
So in this case, it's
showing me that it's going


528
00:22:17,936 --> 00:22:20,326
to pick the superview 20 points
away 'cause I don't have any


529
00:22:20,326 --> 00:22:22,626
other siblings, and
so I can just select


530
00:22:22,626 --> 00:22:23,696
that I want these
constraints just


531
00:22:23,696 --> 00:22:24,776
by clicking these
little iBeams[phonetic].


532
00:22:25,236 --> 00:22:28,246
So I want 20 on the leading,
trailing, and bottom edge.


533
00:22:29,126 --> 00:22:31,276
And I can also add a
height constraint just


534
00:22:31,276 --> 00:22:32,386
by checking height.


535
00:22:33,746 --> 00:22:36,726
And then I can go ahead, add
my constraints and viola,


536
00:22:37,396 --> 00:22:39,206
I have my constraints
really, really quickly.


537
00:22:39,706 --> 00:22:45,196
[ Applause ]


538
00:22:45,696 --> 00:22:46,676
But it gets cooler.


539
00:22:48,326 --> 00:22:50,816
So like I said, Interface
Builder,


540
00:22:50,906 --> 00:22:53,706
you can do your Design Time
Layout and your Runtime Layout,


541
00:22:53,706 --> 00:22:54,916
they're kind of--
they're separate,


542
00:22:55,326 --> 00:22:58,766
but when I add constraints
I cannot do both my Runtime


543
00:22:58,826 --> 00:23:01,206
and Design Time Layout
at the same time


544
00:23:01,206 --> 00:23:03,186
and let Auto Layout do
all the work for me.


545
00:23:03,516 --> 00:23:06,026
So I'm going to add some buttons
to select between my archer


546
00:23:06,306 --> 00:23:07,686
or my warrior characters.


547
00:23:08,216 --> 00:23:11,546
Quick poll, warrior or archer?


548
00:23:13,596 --> 00:23:13,996
>> Warrior.


549
00:23:14,666 --> 00:23:16,486
>> Oh, that's why
it's going first.


550
00:23:17,196 --> 00:23:17,556
All right!


551
00:23:17,556 --> 00:23:18,656
So we're going to
add a button here


552
00:23:18,656 --> 00:23:21,596
and warrior will be
our first choice here.


553
00:23:22,156 --> 00:23:25,486
And then I'm going to duplicate
this by this option dragging.


554
00:23:26,176 --> 00:23:27,466
I'm going to call
this my archer.


555
00:23:28,856 --> 00:23:29,096
All right!


556
00:23:29,446 --> 00:23:31,656
So, I want these buttons
to be the same size,


557
00:23:31,656 --> 00:23:34,766
I want to have them to be space,
all space apart, space the--


558
00:23:35,016 --> 00:23:36,376
my container and at the top.


559
00:23:36,836 --> 00:23:41,406
Now I could position and size
these all myself right now or,


560
00:23:41,406 --> 00:23:43,316
again, I can let Auto
Layout do the work for me.


561
00:23:44,346 --> 00:23:45,026
So I'm going to open


562
00:23:45,026 --> 00:23:47,636
up my constraint-addition
popover again,


563
00:23:48,426 --> 00:23:50,786
and these text fields
are editable.


564
00:23:51,616 --> 00:23:54,296
So what I can do
is punch in 20, 20,


565
00:23:54,866 --> 00:24:00,086
20 and what that will do is
it will add a leading top


566
00:24:00,396 --> 00:24:02,046
and trailing constraint
at 20 each.


567
00:24:02,776 --> 00:24:04,526
For both of these, it will
just do it to my container


568
00:24:04,526 --> 00:24:07,766
on the top, and then for
my warrior it will do it


569
00:24:07,796 --> 00:24:09,956
to my superview,
and for my archer,


570
00:24:09,956 --> 00:24:10,926
it will do it to the warrior.


571
00:24:11,826 --> 00:24:15,336
On the trailing edge, it will
do archer to my superview


572
00:24:15,726 --> 00:24:17,026
and warrior to my archer.


573
00:24:17,956 --> 00:24:19,926
Kevin, you say, Kevin,
you're just going


574
00:24:19,926 --> 00:24:21,616
to add two constraints
still in the middle.


575
00:24:22,306 --> 00:24:24,816
When you add constraints using
the constraint-addition popover,


576
00:24:24,816 --> 00:24:27,296
however, we will unique
the type of constraints


577
00:24:27,526 --> 00:24:30,416
so you're only end up
adding one of that type


578
00:24:30,416 --> 00:24:33,386
of constraint when
we go to add it.


579
00:24:33,656 --> 00:24:36,076
Now, I can also say that I
want them to be the same width


580
00:24:36,176 --> 00:24:39,516
and I can also give them a
height so my designer says,


581
00:24:39,696 --> 00:24:41,276
"A hundred," I say, "Sure."


582
00:24:41,796 --> 00:24:44,976
And now, I can quickly
add the constraints button


583
00:24:45,006 --> 00:24:46,676
which will not touch
my Design Time Layout,


584
00:24:46,676 --> 00:24:47,716
I'll just add the constraints.


585
00:24:48,256 --> 00:24:51,686
Or, I can click this nifty
add and update frames button,


586
00:24:51,776 --> 00:24:54,236
it will add the constraints and
then it will size in position


587
00:24:54,236 --> 00:24:57,776
to views in the canvas
to match the constraints.


588
00:24:58,326 --> 00:25:00,036
So I click that, boom!


589
00:25:00,036 --> 00:25:02,596
Constraints and layout
all in one action.


590
00:25:03,096 --> 00:25:07,716
[ Applause ]


591
00:25:08,216 --> 00:25:09,876
And you could see how
this can help you get


592
00:25:09,876 --> 00:25:11,556
through what you're going
for to show quickly.


593
00:25:11,556 --> 00:25:13,386
You can just drag out views.


594
00:25:13,386 --> 00:25:14,586
You don't really need to
[inaudible] their position,


595
00:25:14,586 --> 00:25:16,896
you can add constraints
and let Auto Layout do


596
00:25:16,896 --> 00:25:17,486
that work for you.


597
00:25:17,756 --> 00:25:18,836
It's actually pretty cool.


598
00:25:19,856 --> 00:25:20,146
All right!


599
00:25:20,896 --> 00:25:23,516
So, you might be able to
tell what these pictures are,


600
00:25:23,516 --> 00:25:25,066
but I'm just going to
add some labels just


601
00:25:25,066 --> 00:25:27,576
so that we make sure we know
what we're looking at here.


602
00:25:28,476 --> 00:25:32,596
So I'm going to add
warrior label and position


603
00:25:32,596 --> 00:25:36,666
that right here, and then
I'm going to do my archer.


604
00:25:37,246 --> 00:25:40,416
Let's make sure he's centered.


605
00:25:41,406 --> 00:25:43,756
OK. Now I'm going to
combine techniques here


606
00:25:44,106 --> 00:25:45,056
and show you how you can--


607
00:25:45,056 --> 00:25:47,286
again, you can think
about layout in a way


608
00:25:47,286 --> 00:25:48,316
that you want to think about it.


609
00:25:48,946 --> 00:25:53,266
So I can Control-Drag
between my warrior to my--


610
00:25:53,456 --> 00:25:55,786
label to my warrior image 'cause
I know I want a vertical space.


611
00:25:56,576 --> 00:25:59,016
So I know I want vertical
spaces for both these labels


612
00:25:59,526 --> 00:26:01,326
through their respective
buttons.


613
00:26:01,656 --> 00:26:02,866
Now, I'm having stage fright


614
00:26:03,106 --> 00:26:04,886
so I forget whatever
constraints I need to add.


615
00:26:05,446 --> 00:26:07,086
Never fear, Interface
Builder is here to help you.


616
00:26:08,236 --> 00:26:11,296
So they go to Auto Layout
resolving menu down here.


617
00:26:11,296 --> 00:26:13,176
I'm going to point
out one other command


618
00:26:13,176 --> 00:26:14,746
which is Add Missing Constrains.


619
00:26:15,246 --> 00:26:18,006
What Add Missing Constrains
do is it will only add the


620
00:26:18,006 --> 00:26:20,706
suggested constraints on
top of what you already have


621
00:26:21,296 --> 00:26:23,786
so that my constraints are
no longer orange so that--


622
00:26:23,786 --> 00:26:27,456
the position and the size of
my view is fully specified.


623
00:26:28,236 --> 00:26:30,686
So let's click that,
and you can see


624
00:26:30,686 --> 00:26:32,686
that Interface Builder
has suggested to me


625
00:26:32,686 --> 00:26:34,646
to center X constraints
and that's--


626
00:26:35,086 --> 00:26:36,236
that's exactly what I want.


627
00:26:36,236 --> 00:26:36,866
Now, remember.


628
00:26:37,866 --> 00:26:39,136
Now what you notice again is


629
00:26:39,136 --> 00:26:40,916
that Interface Builder
doesn't give us any width


630
00:26:40,916 --> 00:26:42,706
or height constraints,
and this goes back again


631
00:26:42,706 --> 00:26:43,756
to what I was talking
about earlier


632
00:26:43,756 --> 00:26:45,306
with this intrinsic
content size.


633
00:26:45,766 --> 00:26:48,026
With things like labels that
have text or other things


634
00:26:48,026 --> 00:26:50,406
that have text or content that
you don't want to get clipped,


635
00:26:51,096 --> 00:26:53,576
you want to make sure that
the size is being driven


636
00:26:53,576 --> 00:26:56,376
by the intrinsic content size,
otherwise., when I localize this


637
00:26:56,376 --> 00:26:58,456
in another language and
the strings get really long


638
00:26:58,456 --> 00:27:01,046
or really short, they might
start occluding, overlapping,


639
00:27:01,386 --> 00:27:03,006
and I definitely
don't want that.


640
00:27:03,406 --> 00:27:04,536
So that's why I don't
have any width


641
00:27:04,596 --> 00:27:06,346
or height constraints
'cause that is coming


642
00:27:06,346 --> 00:27:08,306
from the system for me.


643
00:27:09,106 --> 00:27:09,376
All right!


644
00:27:09,916 --> 00:27:12,286
So, that's an example
of kind of mixing,


645
00:27:13,466 --> 00:27:15,876
mixing the different
patterns of approaches here.


646
00:27:15,876 --> 00:27:17,846
And we're going to have
one more piece to our UI,


647
00:27:17,846 --> 00:27:20,886
which is to allow me
to adjust my strategy.


648
00:27:21,816 --> 00:27:24,346
So I'm going to add a
slider that will allow me


649
00:27:24,346 --> 00:27:27,756
to either be weak or slow.


650
00:27:27,756 --> 00:27:33,676
So I got a slider here.


651
00:27:34,476 --> 00:27:37,306
And so based upon, you know,
how I'm feeling that day,


652
00:27:37,306 --> 00:27:39,906
maybe I'm really good
at attacking my enemies,


653
00:27:39,906 --> 00:27:40,936
so I'm going to be
a little stronger.


654
00:27:40,936 --> 00:27:43,016
Maybe I'm really good at
running, I'm probably good


655
00:27:43,016 --> 00:27:46,326
at running away and so then
I can choose to be faster.


656
00:27:47,996 --> 00:27:50,616
So what I'm going to do is I'm
just going to get an initial set


657
00:27:50,616 --> 00:27:53,286
of constraints here so
we're going to go back


658
00:27:53,996 --> 00:27:55,906
to our menu here, and this
is speed key for this,


659
00:27:56,326 --> 00:27:57,016
so you can learn that


660
00:27:57,016 --> 00:27:59,346
and quickly get the constraints
suggested that you want.


661
00:27:59,996 --> 00:28:02,506
And now, I got a
bunch of constraints


662
00:28:02,506 --> 00:28:03,796
so let's go take a look
at what we got here.


663
00:28:03,796 --> 00:28:06,066
And the way I'm going to
show you how to do that is,


664
00:28:06,066 --> 00:28:08,166
in the Size Inspector you
can actually see a list


665
00:28:08,286 --> 00:28:09,206
of all of your constraints.


666
00:28:10,206 --> 00:28:14,466
So if I select the weak label
and open the Size Inspector


667
00:28:14,466 --> 00:28:16,636
and roll over this, you
can see the constraints


668
00:28:16,696 --> 00:28:18,646
that have been added
for this view.


669
00:28:19,326 --> 00:28:22,486
Now, I can see that this
top space here, well,


670
00:28:22,486 --> 00:28:23,926
that's not really what I wanted.


671
00:28:24,296 --> 00:28:26,646
So again, it's as easy, I
can select it in the canvas,


672
00:28:26,786 --> 00:28:31,086
or here I can just select it,
hit delete, and now it's gone.


673
00:28:31,296 --> 00:28:33,406
So what I really want
is for my weak label


674
00:28:33,406 --> 00:28:37,096
to be centered vertically
with my slider, I'm just going


675
00:28:37,096 --> 00:28:40,526
to hold control, I'm going
to drag, and I'm going


676
00:28:40,526 --> 00:28:43,616
to get a center Y constraint
and there now that looks great.


677
00:28:43,766 --> 00:28:45,626
Let's build it and run it,


678
00:28:45,626 --> 00:28:49,206
and see how it looks
after we run it.


679
00:28:51,586 --> 00:28:55,966
OK, wonderful splash screen,
new game, oh it looks beautiful.


680
00:28:56,356 --> 00:28:59,916
Let's rotate it and, well,
that's not exactly what I want.


681
00:28:59,916 --> 00:29:01,636
We don't want that
stuff to overlap.


682
00:29:02,006 --> 00:29:04,636
So I go and tell my
designer, "Hey, Mr. Designer,


683
00:29:05,516 --> 00:29:09,546
this step is overlapping, I
need some more help here."


684
00:29:10,096 --> 00:29:12,576
Now, he gives me one suggestion
which is to change the size


685
00:29:12,946 --> 00:29:17,636
of my images here so I
say, "OK, let's do that."


686
00:29:18,586 --> 00:29:20,016
So I have this two
height constraints, right,


687
00:29:20,016 --> 00:29:23,186
that I've created, and I
can select both of those


688
00:29:24,556 --> 00:29:26,986
and in the Attributes Inspector
I can change the value, he says,


689
00:29:26,986 --> 00:29:29,926
"OK, they have to be
no smaller than 72."


690
00:29:30,856 --> 00:29:32,096
Now I want to make
sure that my--


691
00:29:32,486 --> 00:29:36,946
those two buttons for selecting
my character never clip, never,


692
00:29:36,946 --> 00:29:40,356
never crash my slider or overlap
with my slider so I'm going


693
00:29:40,356 --> 00:29:44,296
to create a constraint between
my slider and my warrior label.


694
00:29:45,706 --> 00:29:48,476
Now, when I drag that horizontal
line, as I got farther


695
00:29:48,476 --> 00:29:50,686
and farther away, right,
it's unclear whether


696
00:29:50,686 --> 00:29:52,796
or not you want horizontal
constraints


697
00:29:52,856 --> 00:29:53,746
or vertical constraints.


698
00:29:53,986 --> 00:29:56,466
So again, based upon that
line or actually in this case,


699
00:29:56,466 --> 00:29:57,576
we'll show you all the options


700
00:29:57,816 --> 00:30:00,056
so that you can quickly create
the constraints that you want.


701
00:30:00,056 --> 00:30:02,596
A little pro tip, if you
want to create both vertical


702
00:30:02,596 --> 00:30:05,296
and horizontal at the same
time, just draw a diagonal line


703
00:30:05,476 --> 00:30:07,486
and then you can select the
constraints that you need.


704
00:30:08,566 --> 00:30:13,666
Now, I don't want it to be a
fixed-- fixed position, right?


705
00:30:13,666 --> 00:30:14,866
I don't want it to
be a fixed space.


706
00:30:14,866 --> 00:30:15,886
I want it to be able to be--


707
00:30:16,176 --> 00:30:18,336
just make sure that they
don't run into each other.


708
00:30:18,336 --> 00:30:21,306
So I'm going to change the
relation of this constraint


709
00:30:21,306 --> 00:30:23,346
from a quality into
an inequality.


710
00:30:24,426 --> 00:30:27,106
So, I can do that by
double-clicking the constraint.


711
00:30:27,656 --> 00:30:30,816
Now this a-- this will be
available in a upcoming seed


712
00:30:31,016 --> 00:30:33,636
of Xcode 5 and I'm going
to show it to you know.


713
00:30:34,196 --> 00:30:35,426
So, by just like double-clicking


714
00:30:35,426 --> 00:30:38,246
on the constraint I can
change the relation from equal


715
00:30:38,556 --> 00:30:41,156
to greater than or equal,
and then for the constant,


716
00:30:41,336 --> 00:30:44,296
I can open this up and I
can picture different kinds


717
00:30:44,296 --> 00:30:44,846
of values here.


718
00:30:45,036 --> 00:30:47,616
I can punch in the value
myself or I can say,


719
00:30:47,616 --> 00:30:49,806
use the standard value or the
current candidate's value.


720
00:30:50,196 --> 00:30:52,456
I'm going to select
standard and what this is


721
00:30:52,456 --> 00:30:54,506
that will give me what the
system thinks is the best


722
00:30:54,506 --> 00:30:56,146
spacing in between
these two views.


723
00:30:56,146 --> 00:31:00,626
So I'm just going to use the
standard space and there we go.


724
00:31:00,826 --> 00:31:03,406
Now that slider should
never get a--


725
00:31:03,406 --> 00:31:05,266
never get occluded
by our warrior label.


726
00:31:05,916 --> 00:31:07,326
Now, I can build,
run and preview this


727
00:31:07,326 --> 00:31:09,266
or I can preview this
right inside of Xcode.


728
00:31:10,346 --> 00:31:11,646
To do that I'm going
to use some--


729
00:31:11,646 --> 00:31:14,316
a new feature of Xcode 5 which
is our preview assistant.


730
00:31:14,846 --> 00:31:17,326
And I love tips and
tricks so I'm going


731
00:31:17,326 --> 00:31:18,556
to keep giving you
guys tips and tricks.


732
00:31:19,126 --> 00:31:22,386
I can quickly get to the preview
edit by opening assistant


733
00:31:22,586 --> 00:31:23,716
or I can select it here.


734
00:31:23,716 --> 00:31:26,066
But what I'm going to do
is I'm going to hold Option


735
00:31:26,356 --> 00:31:28,876
and Shift when I select this.


736
00:31:30,086 --> 00:31:33,016
And I'm going to get a little
navigator and this allows me


737
00:31:33,016 --> 00:31:35,896
to target where I want to put
the thing that I'm opening.


738
00:31:36,456 --> 00:31:39,636
So, this works with anything,
any file that you ever open,


739
00:31:39,706 --> 00:31:42,776
any sort of link that
jumps you and opens a file,


740
00:31:42,776 --> 00:31:45,056
you can hold Option and Shift
and get this little picker.


741
00:31:45,326 --> 00:31:47,546
I can pick a new window,
I can pick a new tab,


742
00:31:47,546 --> 00:31:50,536
I can actually pick other splits
and other tabs that are open.


743
00:31:51,076 --> 00:31:53,396
Now, in this case I'm just going
to say opening the assistant.


744
00:31:53,446 --> 00:31:56,156
And I'm going to select
that and you're going


745
00:31:56,156 --> 00:31:58,156
to see it's open the
same view over here


746
00:31:58,536 --> 00:32:01,896
but now I can change attributes
about this view to preview it.


747
00:32:02,546 --> 00:32:04,486
So for example, I can say,
what is it going to look


748
00:32:04,486 --> 00:32:08,946
like in landscape and
you can see it's clipped.


749
00:32:09,496 --> 00:32:11,006
Now, I'd been thinking to
myself, what does it look


750
00:32:11,006 --> 00:32:13,306
like landscape in iOS 6?


751
00:32:13,686 --> 00:32:17,936
I could change this or using
our little navigation control,


752
00:32:17,936 --> 00:32:19,676
I'm going to open
a second assistant.


753
00:32:20,416 --> 00:32:23,636
So, again, I'm going to come
up here, preview, hold Option


754
00:32:23,636 --> 00:32:28,246
and Shift and then I can
target a new split and enter


755
00:32:28,246 --> 00:32:31,196
and now I'm seeing another
view of the same view.


756
00:32:31,806 --> 00:32:34,756
I can rotate this,
and set it to iOS 6.


757
00:32:35,206 --> 00:32:38,206
And now I can edit in
portrait and landscape


758
00:32:38,206 --> 00:32:39,206
for two operating systems.


759
00:32:39,706 --> 00:32:44,576
[ Applause ]


760
00:32:45,076 --> 00:32:48,216
So, this makes it really easy
to preview what you're doing.


761
00:32:48,926 --> 00:32:50,596
OK, so now I'm going to show
it to you, I'm actually going


762
00:32:50,596 --> 00:32:52,096
to show you one more thing too.


763
00:32:52,096 --> 00:32:53,396
So, I'm actually going
to close the assistant.


764
00:32:53,436 --> 00:32:55,666
We know that there's a problem
here but I actually want


765
00:32:55,666 --> 00:32:58,006
to see this in my main
editor and I actually


766
00:32:58,006 --> 00:33:00,506
with that problem right,
right at my fingertips.


767
00:33:01,716 --> 00:33:03,146
So, to do that, I'm going


768
00:33:03,146 --> 00:33:05,126
to show you what I
called simulated metrics.


769
00:33:05,666 --> 00:33:07,936
And simulated metrics are
just a way for you to kind


770
00:33:07,936 --> 00:33:10,026
of hint the Interface
Builder, hey at runtime.


771
00:33:10,456 --> 00:33:12,926
The stuff around my
ViewController is going to look


772
00:33:12,926 --> 00:33:16,416
like this and that will allow us
to give you a design experience


773
00:33:16,486 --> 00:33:17,626
that matches that environment.


774
00:33:18,836 --> 00:33:20,586
So I can select my
ViewController


775
00:33:20,586 --> 00:33:21,526
by clicking down here.


776
00:33:21,526 --> 00:33:23,276
But I'm going to show
you another tip and trick


777
00:33:23,416 --> 00:33:26,276
and I love tips and tricks
and that's the ability


778
00:33:26,276 --> 00:33:31,226
to select views that might
be occluded in your UI.


779
00:33:31,226 --> 00:33:35,366
So, if I hold Control and
Shift or just Shift right click


780
00:33:35,876 --> 00:33:39,626
over my slider here
and select I get a menu


781
00:33:39,966 --> 00:33:42,446
and this menu shows me
everything under the mouse


782
00:33:42,446 --> 00:33:43,406
at this point in time.


783
00:33:44,346 --> 00:33:47,206
And so you can see I have my
slider, my container view,


784
00:33:47,346 --> 00:33:49,906
and my ViewController and
I can just quickly select


785
00:33:49,906 --> 00:33:50,476
my ViewController.


786
00:33:50,476 --> 00:33:51,026
[ Applause ]


787
00:33:51,026 --> 00:34:00,086
And now I'm going to change
my orientation to landscape.


788
00:34:00,956 --> 00:34:02,766
Again, this is just previewing
it right here and inside


789
00:34:02,766 --> 00:34:05,316
of Interface Builder and there
sure enough, there's the problem


790
00:34:05,316 --> 00:34:06,866
with my warrior label.


791
00:34:07,206 --> 00:34:09,456
And what's happening is all the
constraints that we've added


792
00:34:09,456 --> 00:34:11,295
so far have been required.


793
00:34:11,716 --> 00:34:13,346
And so, you've got
to fulfill this.


794
00:34:13,746 --> 00:34:17,505
So, Auto Layout has followed
your beckoning and it's followed


795
00:34:17,505 --> 00:34:19,666
that but at the cost of
clipping some of my content


796
00:34:19,666 --> 00:34:20,596
and I don't want this.


797
00:34:20,596 --> 00:34:22,295
So, I'm going to show you
one of the powerful things


798
00:34:22,295 --> 00:34:24,806
about Auto Layout which
is called priorities.


799
00:34:25,485 --> 00:34:30,476
Priorities are a way that you
can indicate the preferability


800
00:34:30,476 --> 00:34:31,036
of something.


801
00:34:32,005 --> 00:34:35,266
So, in this case, you know, I
want my slider to be centered


802
00:34:35,406 --> 00:34:37,065
but if it's going
to clip my content,


803
00:34:37,235 --> 00:34:38,755
well that's not exactly
what I want.


804
00:34:39,275 --> 00:34:43,516
So, I can change the priority
of my constraint to be basically


805
00:34:43,516 --> 00:34:44,616
like try to be satisfied


806
00:34:44,646 --> 00:34:46,846
but if you can't be satisfied
then don't worry about it,


807
00:34:46,846 --> 00:34:47,766
just get as close as you can.


808
00:34:49,025 --> 00:34:53,136
So, I can select my slider and
select the horizontal, sorry,


809
00:34:53,136 --> 00:34:55,116
the vertical centering
constraint, open that up.


810
00:34:56,116 --> 00:34:57,866
And again, I can
punch in a value


811
00:34:57,866 --> 00:34:59,526
if I know what priority
I'm going for


812
00:34:59,816 --> 00:35:01,646
but I can also get
some suggestions now


813
00:35:01,646 --> 00:35:03,666
with Xcode 5 by opening
the Menu.


814
00:35:04,456 --> 00:35:06,846
I can choose Required,
High, Low,


815
00:35:07,046 --> 00:35:10,126
or what Interface Builder would
do is actually analyzes your


816
00:35:10,126 --> 00:35:12,186
interface and it looks for
that content which is clipped.


817
00:35:12,296 --> 00:35:15,076
It will figure out which
constraints are involved


818
00:35:15,076 --> 00:35:16,856
in clipping that label
and it will figure


819
00:35:16,856 --> 00:35:19,576
out what priority needs to
be changed on that constraint


820
00:35:19,576 --> 00:35:21,476
so that that label no
longer gets clipped.


821
00:35:21,476 --> 00:35:23,056
And that's exactly what I want.


822
00:35:23,346 --> 00:35:31,606
I select that and it moves
my slider out of the way.


823
00:35:31,606 --> 00:35:32,006
[ Applause ]


824
00:35:32,006 --> 00:35:35,756
And that is a brief look at
adding constraints with Xcode 5.


825
00:35:36,256 --> 00:35:39,636
[ Applause ]


826
00:35:40,136 --> 00:35:43,096
All right, so what did
we see in this demo?


827
00:35:44,276 --> 00:35:45,506
Again, with initial layout,


828
00:35:45,766 --> 00:35:47,446
this is when you're first
adding your constraints


829
00:35:47,546 --> 00:35:48,956
and when you added
view, you haven't added


830
00:35:48,956 --> 00:35:51,446
into constraints yet, it will
add them for you at build time


831
00:35:51,676 --> 00:35:53,226
to fix that position and size.


832
00:35:53,226 --> 00:35:56,856
I showed you three ways to add
constraints, using Control-Drag


833
00:35:56,856 --> 00:36:01,036
for that fine control, using
the Auto Layout resolving menu


834
00:36:01,076 --> 00:36:04,076
for those kind of broader brush
strokes and finally the kind


835
00:36:04,076 --> 00:36:05,216
of combination of all of it


836
00:36:05,416 --> 00:36:07,556
which is this constraint
addition popover.


837
00:36:08,986 --> 00:36:11,116
Now, one of the things that I
did was I kind of waved my hands


838
00:36:11,116 --> 00:36:12,756
over a lot of kind of debugging


839
00:36:12,756 --> 00:36:14,046
and resolving some
of the issues.


840
00:36:14,346 --> 00:36:15,806
So, how do you see
what's going on?


841
00:36:15,806 --> 00:36:18,316
How do you identify those
problems and to do that,


842
00:36:18,316 --> 00:36:20,936
I'm going to invite up my
co-worker Tony and he's going


843
00:36:20,936 --> 00:36:23,186
to walk you through what
that looks like in Xcode 5.


844
00:36:23,186 --> 00:36:23,866
[ Applause ]


845
00:36:23,866 --> 00:36:30,856
>> Thanks, Kevin.


846
00:36:32,236 --> 00:36:32,626
Good morning.


847
00:36:33,236 --> 00:36:35,296
My name is Tony Ricciardi
and I'm also an engineer


848
00:36:35,296 --> 00:36:36,226
on the interface builder team.


849
00:36:36,726 --> 00:36:40,736
So, Kevin just gave you
an overview of Auto Layout


850
00:36:40,736 --> 00:36:42,486
and showed you how you can
get started adding constraints


851
00:36:42,486 --> 00:36:43,736
to your views and
Interface Builder.


852
00:36:43,736 --> 00:36:46,326
Now, I'm going to over the
next step which is debugging


853
00:36:46,326 --> 00:36:48,536
and resolving any issues you
might encounter while designing


854
00:36:48,536 --> 00:36:49,506
your layout.


855
00:36:51,496 --> 00:36:53,996
All right, so as you add
and remove constraints


856
00:36:53,996 --> 00:36:56,006
to your views, your
layout will transition


857
00:36:56,006 --> 00:36:57,146
through intermediate states.


858
00:36:57,726 --> 00:36:59,676
And you can think of this like
you would think of writing code.


859
00:36:59,676 --> 00:37:01,796
If you were to build and
run your app in the middle


860
00:37:01,796 --> 00:37:03,896
of writing a line of code,
it probably wouldn't compile


861
00:37:04,336 --> 00:37:06,096
or even if it did, it probably
wouldn't do what you want


862
00:37:06,096 --> 00:37:06,416
at runtime.


863
00:37:07,196 --> 00:37:08,696
So, in the same way, your layout


864
00:37:08,696 --> 00:37:10,006
and interface builder
won't always be


865
00:37:10,006 --> 00:37:12,066
in a complete state
and ready to run.


866
00:37:13,556 --> 00:37:14,976
There are three different types


867
00:37:14,976 --> 00:37:17,056
of intermediate states
you'll encounter.


868
00:37:17,696 --> 00:37:20,846
First you can have an ambiguous
frame which means you haven't


869
00:37:20,846 --> 00:37:22,856
yet added enough information
to one of your views


870
00:37:22,856 --> 00:37:24,176
to fully specify its layout.


871
00:37:25,456 --> 00:37:27,286
On the other hand, you
can also add too much


872
00:37:27,286 --> 00:37:30,346
in which case you might end up
with conflicting constraints.


873
00:37:30,846 --> 00:37:34,386
And third, you can also
have a misplaced view


874
00:37:34,686 --> 00:37:35,726
which means your view's frame


875
00:37:35,726 --> 00:37:37,876
in the Interface Builder
canvas doesn't match the size


876
00:37:37,876 --> 00:37:38,376
and position.


877
00:37:38,376 --> 00:37:40,266
It's going to have at runtime
based on its constraints.


878
00:37:40,306 --> 00:37:42,526
So, I'm going to into
little more detail in each


879
00:37:42,526 --> 00:37:43,786
of these three intermediate
states


880
00:37:43,786 --> 00:37:44,726
and show you few examples.


881
00:37:44,726 --> 00:37:46,856
And then after that I'm
going to head over to Xcode


882
00:37:46,966 --> 00:37:48,266
and show you some new
features we've added


883
00:37:48,266 --> 00:37:50,836
to help you quickly diagnose
and resolve these issues.


884
00:37:51,196 --> 00:37:54,716
All right, so first we
have ambiguous frames.


885
00:37:55,746 --> 00:37:58,076
You can get an ambiguous
frame simply


886
00:37:58,076 --> 00:38:00,296
by just not adding enough
constraints to your view.


887
00:38:00,766 --> 00:38:03,396
So, if you we take my example
here with my warrior imageView,


888
00:38:03,946 --> 00:38:06,136
I've added three constraints,
one for the top space,


889
00:38:06,136 --> 00:38:07,456
one for the height
and one for the width.


890
00:38:08,536 --> 00:38:12,226
And together these three
constraints specify its size


891
00:38:12,226 --> 00:38:13,296
and its vertical position


892
00:38:13,746 --> 00:38:15,946
but they live its
horizontal position ambiguous.


893
00:38:16,366 --> 00:38:18,256
And you can imagine if I
were to rotate the device,


894
00:38:18,466 --> 00:38:19,866
the system wouldn't
know whether I want


895
00:38:19,866 --> 00:38:21,846
to keep it centered
horizontally or keep


896
00:38:21,846 --> 00:38:26,266
at the same distance
from the left.


897
00:38:26,536 --> 00:38:28,346
Here's a slightly more
interesting example


898
00:38:28,346 --> 00:38:28,916
of ambiguity.


899
00:38:29,326 --> 00:38:30,476
Let's say, now I have two labels


900
00:38:30,926 --> 00:38:33,376
with a horizontal spacing
constraint between them


901
00:38:33,596 --> 00:38:35,566
and I have another
constraint between each label


902
00:38:35,566 --> 00:38:36,356
at the edge of each container.


903
00:38:37,396 --> 00:38:40,076
When I rotate the device,
the total horizontal space


904
00:38:40,076 --> 00:38:42,646
in the container grows and
one of those labels need


905
00:38:42,646 --> 00:38:44,586
to be stretched to fill
in that extra space.


906
00:38:45,456 --> 00:38:47,296
Without any more information
the system doesn't know


907
00:38:47,296 --> 00:38:48,546
which label I want to stretch.


908
00:38:48,546 --> 00:38:50,786
So, my layout is
once again ambiguous.


909
00:38:51,426 --> 00:38:55,796
So you can get conflicting
constraints


910
00:38:56,186 --> 00:38:58,546
by over constraining
your view and it could be


911
00:38:58,546 --> 00:38:59,706
as simple as this example here.


912
00:38:59,706 --> 00:39:01,936
I've added two-- two
height constraints


913
00:39:01,936 --> 00:39:03,726
to my warrior imageView
saying it


914
00:39:03,726 --> 00:39:06,866
to be two different
heights at the same time.


915
00:39:06,866 --> 00:39:08,936
You can also get them in
slightly more subtle ways.


916
00:39:09,176 --> 00:39:11,656
Let's say instead that I
have three constraints,


917
00:39:11,946 --> 00:39:13,866
one for the top space,
one for the bottom space


918
00:39:13,866 --> 00:39:14,796
and then one for the height.


919
00:39:15,436 --> 00:39:17,526
And together they
add up to the--


920
00:39:17,656 --> 00:39:20,846
the height of my screen
in landscape mode but then


921
00:39:20,846 --> 00:39:24,096
when I rotate the device the--
the height of the screen grows


922
00:39:24,096 --> 00:39:27,366
and now those constraints create
a conflict with the screen size.


923
00:39:29,736 --> 00:39:34,046
The third type of issue is
misplaced views and this happens


924
00:39:34,046 --> 00:39:37,186
when you resize or you
reposition your view


925
00:39:37,186 --> 00:39:39,656
in Interface Builder without
updating its constraints.


926
00:39:40,436 --> 00:39:42,536
So, let's say that now that
I have four constraints


927
00:39:42,536 --> 00:39:46,446
that fully specify my imageViews
layout and it's not ambiguous,


928
00:39:46,446 --> 00:39:48,856
it does not have any
conflicts but then I decided,


929
00:39:48,856 --> 00:39:50,646
I really want to have
it centered vertically


930
00:39:50,646 --> 00:39:51,376
in that container.


931
00:39:51,376 --> 00:39:54,576
So, I just drag it down to the
center in Interface Builder


932
00:39:54,776 --> 00:39:57,236
and not it's misplaced because
I still have that constraint


933
00:39:57,236 --> 00:39:59,626
at the top saying it should
be 20 points from the top.


934
00:40:00,466 --> 00:40:02,406
So, interface builder
doesn't automatically update


935
00:40:02,406 --> 00:40:03,326
your constraints.


936
00:40:03,376 --> 00:40:05,686
And that's because it doesn't
know what your intent is.


937
00:40:05,686 --> 00:40:06,566
It doesn't know whether you'd--


938
00:40:06,566 --> 00:40:09,386
whether I want to update
that height constraint


939
00:40:09,386 --> 00:40:12,106
and just stretch it down to the
middle or that I want to get rid


940
00:40:12,106 --> 00:40:15,036
of it and replace it with a
vertical centering constraint.


941
00:40:15,526 --> 00:40:17,586
So, rather than pick one
of those options for you,


942
00:40:17,586 --> 00:40:19,816
it just makes it really easy
to update your misplaced view.


943
00:40:20,486 --> 00:40:25,056
All right, so-- so those were
the three different types


944
00:40:25,056 --> 00:40:28,566
of intermediate states and we've
added a ton of new features


945
00:40:28,566 --> 00:40:31,226
to Xcode to help you quickly
debug and resolve these issues.


946
00:40:31,226 --> 00:40:32,576
And the best way to show
you those features are


947
00:40:32,576 --> 00:40:36,246
with the demo, so I'm going
to head over to Xcode now.


948
00:40:36,246 --> 00:40:37,446
OK, let's start with
top one here.


949
00:40:37,726 --> 00:40:39,636
I'll select and drag
up on its [inaudible].


950
00:40:39,876 --> 00:40:42,756
OK, so when I did that,
a couple things happened.


951
00:40:43,896 --> 00:40:46,206
First I got that dashed
rectangle and it tells me


952
00:40:46,206 --> 00:40:47,406
that my button is misplaced.


953
00:40:48,196 --> 00:40:49,956
And at runtime its
frame is going to be


954
00:40:49,956 --> 00:40:50,866
where you see the dashes.


955
00:40:52,126 --> 00:40:55,536
Also, over here my height
constraint turned orange


956
00:40:55,726 --> 00:40:56,906
and I got this little badge.


957
00:40:56,996 --> 00:41:00,246
So, that tells me that it's
currently 32 point shorter


958
00:41:00,246 --> 00:41:01,776
than the height of the
button in the canvas


959
00:41:02,196 --> 00:41:04,016
and that it explains
why it's misplaced.


960
00:41:04,016 --> 00:41:05,616
I need to update that
height constraint.


961
00:41:06,466 --> 00:41:09,106
So, I could do that by selecting
the height constraint and going


962
00:41:09,106 --> 00:41:11,306
over the inspector and adding
32 points to its value.


963
00:41:11,846 --> 00:41:13,886
But this is a very
common type of operation.


964
00:41:13,886 --> 00:41:15,196
So, we've got a short
cut for doing that.


965
00:41:15,686 --> 00:41:20,686
So instead, I'm going to head
down here, and what I'm going


966
00:41:20,686 --> 00:41:23,836
to do is use this command
here, Update Constraints.


967
00:41:24,856 --> 00:41:27,516
So, this looks at your
selected view, and it looks


968
00:41:27,516 --> 00:41:28,986
at all the constraints
that are touching it,


969
00:41:28,986 --> 00:41:30,436
and it updates their values


970
00:41:30,436 --> 00:41:31,856
to reflect its current
frame in the canvas.


971
00:41:32,726 --> 00:41:35,156
So when I click that, it's going
to update my height constraint


972
00:41:35,156 --> 00:41:38,426
over there, and you can see
now it's no longer misplaced.


973
00:41:39,116 --> 00:41:43,956
All right, let's move
on to the other buttons.


974
00:41:43,956 --> 00:41:46,476
I could follow the exact
same, the back exacts in step,


975
00:41:46,476 --> 00:41:49,976
so I could just resize them and
update their height constraints.


976
00:41:50,336 --> 00:41:52,336
But then I'd have to make sure
I made them all exactly the


977
00:41:52,336 --> 00:41:52,856
same height.


978
00:41:53,486 --> 00:41:54,226
So instead, what I'm going


979
00:41:54,226 --> 00:41:55,796
to do is create an Equal
Heights constraint.


980
00:41:56,556 --> 00:42:00,836
I'm going to Control-Drag down
here and choose Equal Heights.


981
00:42:00,916 --> 00:42:03,976
So, this constraint is going to
make the system enforce the fact


982
00:42:03,976 --> 00:42:05,006
that they all have
the same height.


983
00:42:05,576 --> 00:42:07,896
So, I choose that,
I get a conflict.


984
00:42:08,576 --> 00:42:10,746
The reason why I got a conflict
is I still have this old height


985
00:42:10,746 --> 00:42:12,806
constraint here,
and it's telling me


986
00:42:12,806 --> 00:42:15,166
that it's 43 points tall.


987
00:42:15,496 --> 00:42:18,346
So, now I have that constraint
saying it should be 43 points,


988
00:42:18,706 --> 00:42:20,846
and I also went and added
that Equal Heights constraint,


989
00:42:21,096 --> 00:42:22,026
saying it should
be the same height


990
00:42:22,026 --> 00:42:24,066
as the Top button
which is 75 points.


991
00:42:25,036 --> 00:42:26,836
So, I need to delete
one of these constraints


992
00:42:26,836 --> 00:42:27,736
to resolve this conflict.


993
00:42:28,736 --> 00:42:30,816
I'm just going to delete
that old height constraint


994
00:42:30,866 --> 00:42:35,356
because it's-- I don't
need that anymore.


995
00:42:35,446 --> 00:42:36,466
All right, so I did that.


996
00:42:36,466 --> 00:42:41,156
I got rid of the conflict, but
now my button is still misplaced


997
00:42:41,156 --> 00:42:44,556
because its-- the frame in
the canvas hasn't-- has--


998
00:42:44,556 --> 00:42:46,946
is no longer reflecting that
Equal Heights constraint.


999
00:42:48,376 --> 00:42:50,426
So, I could resolve
this by going


1000
00:42:50,426 --> 00:42:52,146
into the button's size inspector


1001
00:42:52,616 --> 00:42:54,986
and adding 32 points
to its height.


1002
00:42:55,096 --> 00:42:58,106
But again, this is a very
common type of operation,


1003
00:42:58,106 --> 00:42:59,766
so we've added another
shortcut for doing that.


1004
00:43:00,196 --> 00:43:02,106
And that's over here in
the bottom of the canvas,


1005
00:43:02,436 --> 00:43:04,136
back in our Auto Layout menu.


1006
00:43:04,136 --> 00:43:06,886
So this time, I'm going
to choose Update Frames.


1007
00:43:08,106 --> 00:43:11,626
Update Frames resizes and
repositions your views according


1008
00:43:11,626 --> 00:43:13,526
to their constraints,
so it makes their frame


1009
00:43:13,526 --> 00:43:15,676
in the canvas match
their frame at runtime.


1010
00:43:16,686 --> 00:43:21,116
When I choose that, now my
button is no longer misplaced


1011
00:43:21,116 --> 00:43:25,366
and it's resized
just like I wanted.


1012
00:43:25,456 --> 00:43:27,016
All right, let's do the same
thing for the Middle button.


1013
00:43:27,016 --> 00:43:29,226
I'm going to start by deleting
its height constraints,


1014
00:43:29,226 --> 00:43:31,466
so it doesn't-- so I don't
run into that conflict.


1015
00:43:31,866 --> 00:43:35,246
And I'm going to
Control-Drag down and add


1016
00:43:35,246 --> 00:43:39,046
that Equal Heights constraint.


1017
00:43:39,046 --> 00:43:41,396
OK, so now my Middle
button is misplaced


1018
00:43:42,126 --> 00:43:46,256
because I have an updated site
and by virtue of growing taller,


1019
00:43:46,256 --> 00:43:47,926
it's going to push apart
those other two buttons.


1020
00:43:48,176 --> 00:43:50,026
So now actually if I
select these buttons,


1021
00:43:50,026 --> 00:43:51,606
you can see they're
all misplaced.


1022
00:43:51,606 --> 00:43:53,516
They're all either in the wrong
position or have the wrong set.


1023
00:43:54,216 --> 00:43:56,906
So, let's go back to the
menu and update their frames.


1024
00:43:59,496 --> 00:44:02,406
This time, I want to
point out the fact


1025
00:44:02,566 --> 00:44:04,796
that this menu is
divided into two halves,


1026
00:44:05,146 --> 00:44:06,016
so we're zooming down here.


1027
00:44:06,576 --> 00:44:08,626
It's divided into two halves.


1028
00:44:08,816 --> 00:44:10,896
On the top half, we
have command that apply


1029
00:44:10,896 --> 00:44:13,586
to the currently selected
view, and on the bottom half,


1030
00:44:13,986 --> 00:44:16,066
we have commands that
apply to all views


1031
00:44:16,066 --> 00:44:17,926
in the current scene
in your story board.


1032
00:44:18,896 --> 00:44:23,286
So in this case, I want to
choose update all the frames


1033
00:44:23,386 --> 00:44:24,846
in my splash screen
view controller.


1034
00:44:24,886 --> 00:44:26,546
So that's going to apply
that update frames command


1035
00:44:26,546 --> 00:44:27,556
to all three buttons at once.


1036
00:44:28,496 --> 00:44:33,526
When I do that, it resizes or
repositions all three buttons,


1037
00:44:33,526 --> 00:44:34,856
and now they're not
misplaced anymore.


1038
00:44:34,856 --> 00:44:35,086
[ Applause ]


1039
00:44:35,086 --> 00:44:42,516
OK, so you just saw a
couple different ways


1040
00:44:42,546 --> 00:44:44,646
to resolve misplaced views.


1041
00:44:44,986 --> 00:44:47,036
Now, I'm going to move
on to ambiguous frames.


1042
00:44:47,736 --> 00:44:48,916
And to that, I'm going
to head over here


1043
00:44:48,916 --> 00:44:50,256
to my load game view controller.


1044
00:44:50,816 --> 00:44:55,006
OK, so this is a
table view controller,


1045
00:44:55,006 --> 00:44:56,326
and it has a prototype cell.


1046
00:44:57,116 --> 00:44:59,226
That prototype cell is going
to get reused at runtime


1047
00:44:59,226 --> 00:45:01,376
for every saved game
that the player can load.


1048
00:45:02,236 --> 00:45:03,876
And the cell has a
couple of labels here,


1049
00:45:03,876 --> 00:45:07,856
and those represent the name,
the name of my character


1050
00:45:07,856 --> 00:45:09,486
and the date that I last
played with that character.


1051
00:45:10,406 --> 00:45:11,396
And when I select these labels,


1052
00:45:11,396 --> 00:45:13,406
you can see they currently don't
have any constraints on them,


1053
00:45:13,666 --> 00:45:16,296
so at runtime, they're going to
have fixed sizes, fixed frames,


1054
00:45:16,296 --> 00:45:17,756
fixed positions and sizes.


1055
00:45:18,626 --> 00:45:21,776
So, I want to hit Build and Run
now, and so you can take a look


1056
00:45:22,316 --> 00:45:23,806
at this table view without,


1057
00:45:23,806 --> 00:45:25,066
before I start adding
constraints.


1058
00:45:25,066 --> 00:45:30,856
All right, so here's our splash
screen, I'm just going to tap


1059
00:45:30,856 --> 00:45:33,006
on Load Game, and
here's our table view.


1060
00:45:33,006 --> 00:45:35,586
And so you can see all the
labels are getting clipped,


1061
00:45:35,586 --> 00:45:37,886
and that's because
those static sizes


1062
00:45:37,886 --> 00:45:39,526
that we gave them
are just too short


1063
00:45:39,526 --> 00:45:41,196
to fit their content at runtime.


1064
00:45:41,756 --> 00:45:43,956
So, let's go back to IB
and add some constraints


1065
00:45:43,956 --> 00:45:45,056
to let them grow dynamically.


1066
00:45:48,736 --> 00:45:50,456
[pause] Let's start with
our date label here.


1067
00:45:50,656 --> 00:45:52,706
I'm just going to
Control-Drag over


1068
00:45:52,736 --> 00:45:55,206
and add a leading space
constraint, that's just going


1069
00:45:55,206 --> 00:45:56,416
to pin it to the left
side of the cell.


1070
00:45:56,976 --> 00:46:00,466
And when I did that, it gave
me an orange constraint.


1071
00:46:00,996 --> 00:46:04,746
It's orange because my
date label is ambiguous,


1072
00:46:05,536 --> 00:46:11,446
and I can also see this at
the top of the canvas up here


1073
00:46:11,446 --> 00:46:14,876
in the-- in our mini navigator.


1074
00:46:15,136 --> 00:46:16,826
So, this button here
is a mini navigator


1075
00:46:16,826 --> 00:46:17,966
and it gives you a quick summary


1076
00:46:17,966 --> 00:46:19,716
of all the unresolved
issues in your document.


1077
00:46:20,026 --> 00:46:22,896
So when I click that, it tells
me the vertical position is


1078
00:46:22,896 --> 00:46:24,026
ambiguous for my date label.


1079
00:46:24,496 --> 00:46:28,906
So, that makes sense because
we've only added a single


1080
00:46:29,196 --> 00:46:30,946
horizontal constraint.


1081
00:46:30,946 --> 00:46:32,356
So, we need to add
more constraints


1082
00:46:32,356 --> 00:46:33,966
to fully specify its position.


1083
00:46:34,266 --> 00:46:37,186
I could keep adding
constraints to each of my labels


1084
00:46:37,186 --> 00:46:38,846
until they're unambiguous,
but instead I'm going


1085
00:46:38,846 --> 00:46:39,766
to use another shortcut.


1086
00:46:40,076 --> 00:46:42,876
So, when I head back to this
menu, and this time I'm going


1087
00:46:42,876 --> 00:46:45,016
to choose Add Missing
constraints


1088
00:46:45,016 --> 00:46:46,076
and Load Game Table at the cell.


1089
00:46:46,136 --> 00:46:46,996
So, it's going to apply


1090
00:46:46,996 --> 00:46:49,306
that same Add Missing
constraints command


1091
00:46:49,306 --> 00:46:51,626
that Kevin showed you, and
it's going to apply it to all--


1092
00:46:51,626 --> 00:46:52,646
both my labels at once.


1093
00:46:52,886 --> 00:46:56,346
So when I choose that,
my constraints turn blue


1094
00:46:56,556 --> 00:46:58,466
and you can see now I
have four constraints.


1095
00:46:59,156 --> 00:47:02,256
And these are enough to
fully specify the layout


1096
00:47:02,256 --> 00:47:04,146
of my two labels.


1097
00:47:05,656 --> 00:47:07,516
So, I got a leading
space constraint.


1098
00:47:07,516 --> 00:47:08,716
I got a top space constraint.


1099
00:47:08,926 --> 00:47:11,086
I got a baseline alignment
constraint that's going


1100
00:47:11,086 --> 00:47:12,366
to align the two
labels vertically.


1101
00:47:12,726 --> 00:47:16,086
And I got a little horizontal
spacing constraint between them.


1102
00:47:16,496 --> 00:47:19,286
So, you might be wondering
why I didn't get any with


1103
00:47:19,286 --> 00:47:21,796
or height constraints, and
that gets back to the idea


1104
00:47:21,796 --> 00:47:24,716
of this intrinsic content
size that we get from UILabel.


1105
00:47:24,716 --> 00:47:26,946
So at runtime, it's going
to infer its size based


1106
00:47:26,946 --> 00:47:29,996
on its content and that's
going to let it grow and resize


1107
00:47:29,996 --> 00:47:32,356
and our labels won't
be clipped anymore.


1108
00:47:33,236 --> 00:47:34,766
So, let's see what
that looks like.


1109
00:47:42,156 --> 00:47:44,856
[Pause] All right, so now
our labels are no longer


1110
00:47:44,856 --> 00:47:45,436
getting clipped.


1111
00:47:46,266 --> 00:47:49,086
The first two cells look
great and the third cell,


1112
00:47:49,086 --> 00:47:50,546
I have a character with
a really long name,


1113
00:47:50,946 --> 00:47:53,276
and that's just running right
off the edge of the cell,


1114
00:47:54,056 --> 00:47:57,046
and it's actually occluding
my disclosure indicator here.


1115
00:47:58,236 --> 00:48:00,196
So, what I want to do
is add a little padding


1116
00:48:00,196 --> 00:48:01,556
on the right side, so that


1117
00:48:01,556 --> 00:48:04,116
that name label gets
clipped before it runs


1118
00:48:04,116 --> 00:48:06,026
over in the disclosure
indicator, so let's do that.


1119
00:48:06,076 --> 00:48:12,166
All right, so I'll
just control-drag over


1120
00:48:12,166 --> 00:48:13,476
and choose trailing space.


1121
00:48:14,046 --> 00:48:16,366
And that gave me a bit
more padding that I wanted,


1122
00:48:16,366 --> 00:48:19,846
so I'm just going to double
click it and choose 40 points.


1123
00:48:21,196 --> 00:48:22,806
So I did that, I
got a new issue.


1124
00:48:24,026 --> 00:48:25,296
This is a new type of ambiguity.


1125
00:48:26,426 --> 00:48:27,866
And it's ambiguous
because if you add


1126
00:48:27,866 --> 00:48:30,506
up the 3 horizontal constraints
we have and the widths


1127
00:48:30,506 --> 00:48:32,346
of the two labels,
it doesn't quite add


1128
00:48:32,346 --> 00:48:33,456
up to the full width
of the cell.


1129
00:48:34,086 --> 00:48:36,836
And so one of those labels
needs to be stretched to fill


1130
00:48:36,836 --> 00:48:39,196
in the extra space, and I
haven't told Interface Builder


1131
00:48:39,196 --> 00:48:41,266
which one I want to resize yet.


1132
00:48:42,076 --> 00:48:44,946
For situations like this when
you encounter a new issue,


1133
00:48:45,066 --> 00:48:46,726
and maybe you're not
familiar with it,


1134
00:48:46,726 --> 00:48:47,986
you're not sure how
to resolve it.


1135
00:48:47,986 --> 00:48:49,826
You want to get some
suggestions on how to fix it.


1136
00:48:50,186 --> 00:48:52,466
You can always head over to the
Interface Builder outline view,


1137
00:48:52,556 --> 00:48:53,476
and get some information.


1138
00:48:53,826 --> 00:48:55,246
So, let's do that.


1139
00:48:57,806 --> 00:48:59,916
If you look here by my
load game view controller,


1140
00:48:59,916 --> 00:49:01,946
you can see I have
this button here.


1141
00:49:02,236 --> 00:49:04,806
And that's-- that indicates


1142
00:49:04,886 --> 00:49:07,226
that I have unresolved Auto
Layout issues in that scene.


1143
00:49:07,956 --> 00:49:10,866
When I click on that,
the AL view slides over


1144
00:49:11,326 --> 00:49:13,236
and I get a list of
the unresolved issues.


1145
00:49:14,166 --> 00:49:16,906
Here's telling tell me I have
content priority ambiguity.


1146
00:49:17,396 --> 00:49:21,746
All right, and I can find


1147
00:49:21,746 --> 00:49:25,016
out what content
priority ambiguity is by--


1148
00:49:25,246 --> 00:49:26,606
there we go, clicking
on this button here.


1149
00:49:26,686 --> 00:49:28,696
It gives me a detailed
explanation


1150
00:49:28,696 --> 00:49:30,116
of content priority ambiguity.


1151
00:49:30,876 --> 00:49:35,796
Oh, OK. And here in the second
paragraph, it says to fix,


1152
00:49:35,796 --> 00:49:38,106
I need to increase or
decrease the content priority


1153
00:49:38,106 --> 00:49:38,576
of my labels.


1154
00:49:38,996 --> 00:49:40,746
So, you could think
of content priority


1155
00:49:40,746 --> 00:49:42,956
as how strongly a
view wants to remain


1156
00:49:42,956 --> 00:49:44,286
at its intrinsic content size?


1157
00:49:45,006 --> 00:49:47,996
And in this case, I want my
Name label to get stretched


1158
00:49:47,996 --> 00:49:49,886
or clipped more easily
than my Date label.


1159
00:49:50,236 --> 00:49:51,936
So, I wanted the content
priority to be lower


1160
00:49:51,936 --> 00:49:53,346
than my Date label's
content priority.


1161
00:49:57,236 --> 00:50:01,116
If I click on this button
here, it gives me a suggestion


1162
00:50:01,436 --> 00:50:05,226
for how I might want
to fix this issue.


1163
00:50:05,436 --> 00:50:08,946
So, it's offering to
decrease the content priority


1164
00:50:08,946 --> 00:50:09,676
of my Name label.


1165
00:50:09,966 --> 00:50:11,586
And wants it to make--
wants to make it lower


1166
00:50:11,586 --> 00:50:13,906
than my Date label's priority,
and that's exactly what I want.


1167
00:50:13,956 --> 00:50:15,536
So, I'm just going to
choose Change Priority.


1168
00:50:16,066 --> 00:50:21,606
And when I did that, oh, you
can see my labels are no longer


1169
00:50:21,606 --> 00:50:22,366
marked as ambiguous.


1170
00:50:22,366 --> 00:50:23,256
They have blue constraints.


1171
00:50:23,326 --> 00:50:32,966
So, let's hit Build and Run
and take a look at that.


1172
00:50:32,966 --> 00:50:33,176
[ Pause ]


1173
00:50:33,176 --> 00:50:33,796
OK, there we go.


1174
00:50:33,866 --> 00:50:36,616
So now, it's getting clipped
with a little bit of padding,


1175
00:50:36,776 --> 00:50:40,616
and it's no longer occluding
that disclosure indicator.


1176
00:50:40,616 --> 00:50:46,826
All right, so just saw a couple
different types of ambiguity,


1177
00:50:47,276 --> 00:50:48,986
and I showed you a
couple of different ways


1178
00:50:48,986 --> 00:50:50,296
to resolve that ambiguity.


1179
00:50:50,636 --> 00:50:52,126
There's just one more
feature I'd like to show you


1180
00:50:52,416 --> 00:50:54,506
which is useful when you
defined your own custom


1181
00:50:54,506 --> 00:50:56,696
controlling code.


1182
00:50:56,756 --> 00:51:00,076
And so for this example,
let's imagine that instead


1183
00:51:00,076 --> 00:51:01,036
of this Date label here.


1184
00:51:01,376 --> 00:51:03,696
I want to use my own
custom data control


1185
00:51:03,696 --> 00:51:04,736
that I've implemented in code.


1186
00:51:05,406 --> 00:51:07,236
Actually, I already have a
scene and the story board set


1187
00:51:07,236 --> 00:51:09,466
up that way, so I'm going
to scroll over down here.


1188
00:51:10,056 --> 00:51:15,856
OK, so this is the exact same
table view only we have replaced


1189
00:51:15,856 --> 00:51:17,626
that Date label with UIView,


1190
00:51:17,626 --> 00:51:19,716
and that UIView has
its custom class set


1191
00:51:19,716 --> 00:51:22,696
to my date control class.


1192
00:51:22,876 --> 00:51:24,586
You can see when I select
it, I already have a bunch


1193
00:51:24,586 --> 00:51:26,546
of constraints, and I
can get more details


1194
00:51:26,546 --> 00:51:28,516
on those constraints in the
size inspector over here.


1195
00:51:29,656 --> 00:51:31,816
And in particular, I want to
point out that it has a width


1196
00:51:31,816 --> 00:51:32,536
and a height constraint.


1197
00:51:33,626 --> 00:51:36,096
So, earlier I mentioned
you don't want to add--


1198
00:51:36,096 --> 00:51:38,236
you don't want to add explicit
width or height constraints


1199
00:51:38,476 --> 00:51:40,516
to views that define
intrinsic content sizes


1200
00:51:40,516 --> 00:51:43,926
because then you risk clipping
or getting somewhere in padding.


1201
00:51:45,116 --> 00:51:47,936
And my date control does define
an intrinsic content size.


1202
00:51:49,116 --> 00:51:50,576
However, Interface
Builder only knows


1203
00:51:50,576 --> 00:51:53,366
about the built-in
system controls.


1204
00:51:53,366 --> 00:51:55,266
It doesn't know about this
intrinsic content size


1205
00:51:55,266 --> 00:51:56,306
that I have implemented in code.


1206
00:51:57,236 --> 00:52:04,366
And when I delete these
height constraints,


1207
00:52:04,366 --> 00:52:07,246
my view is ambiguous because
Interface Builder doesn't have


1208
00:52:07,246 --> 00:52:09,446
enough information to know
what it size should be.


1209
00:52:10,646 --> 00:52:12,776
So for situations like this
where you know you want


1210
00:52:12,776 --> 00:52:16,396
to use information at runtime to
get your intrinsic content size,


1211
00:52:16,986 --> 00:52:19,086
you can tell Interface
Builder, it's OK, you don't need


1212
00:52:19,086 --> 00:52:21,996
to warn me about an
ambiguous size, and you can do


1213
00:52:21,996 --> 00:52:24,446
that by giving in a placeholder
intrinsic content size.


1214
00:52:24,446 --> 00:52:26,706
So, I'm going to click on this
button and choose Placeholder.


1215
00:52:27,866 --> 00:52:29,336
And now, I've just
told Interface Builder


1216
00:52:29,336 --> 00:52:31,936
to use this size as my
intrinsic content size,


1217
00:52:31,936 --> 00:52:33,966
and it's OK if I don't have
width or height constraints.


1218
00:52:34,316 --> 00:52:36,356
And when I did that,
it's no longer ambiguous.


1219
00:52:36,856 --> 00:52:41,186
[ Applause ]


1220
00:52:41,686 --> 00:52:43,766
All right, so you just saw
a bunch of different ways,


1221
00:52:43,766 --> 00:52:44,906
a bunch of different
tools we've added


1222
00:52:44,906 --> 00:52:46,846
to help you resolve
Auto Layout issues.


1223
00:52:48,266 --> 00:52:49,886
First, you can use
the canvas decorations


1224
00:52:49,946 --> 00:52:52,566
to see how your view is
misplaced or ambiguous


1225
00:52:53,386 --> 00:52:56,366
or you can get a quick look
at all the unresolved issues


1226
00:52:56,366 --> 00:53:00,216
in your document using the mini
navigator, issue navigator.


1227
00:53:01,276 --> 00:53:03,196
If you want to quickly
update the constraints


1228
00:53:03,196 --> 00:53:05,076
on your misplaced view
or add constraints


1229
00:53:05,076 --> 00:53:09,086
to an ambiguous view, you can
use the Canvas Resolving menu


1230
00:53:09,086 --> 00:53:10,066
at the bottom of the canvas


1231
00:53:10,686 --> 00:53:13,656
or if you want some more
information about your issue,


1232
00:53:13,746 --> 00:53:15,686
you can always head over to the
Interface Builder outline view


1233
00:53:15,686 --> 00:53:17,106
to get more detailed help.


1234
00:53:18,656 --> 00:53:21,146
So, that wraps up
the new workflows


1235
00:53:21,146 --> 00:53:22,286
for Auto Layout in Xcode 5.


1236
00:53:23,126 --> 00:53:24,466
Before we finish, I just want


1237
00:53:24,466 --> 00:53:27,736
to add one quick note
on compatibility.


1238
00:53:27,736 --> 00:53:30,656
So all the features we discussed
today are fully compatible


1239
00:53:30,656 --> 00:53:33,766
with any previous OS version
that supports Auto Layout,


1240
00:53:34,736 --> 00:53:37,226
or we use these great features,
and you'd be using Xcode 5,


1241
00:53:37,946 --> 00:53:40,736
and your Interface Builder
document won't be compatible


1242
00:53:40,736 --> 00:53:41,956
with previous versions of Xcode.


1243
00:53:42,746 --> 00:53:45,636
If you really need your,
[inaudible] story board


1244
00:53:45,636 --> 00:53:47,716
to be backwards compatibility,
you can always downgrade it


1245
00:53:47,716 --> 00:53:49,806
in the File Inspector, but
then you won't have access


1246
00:53:49,806 --> 00:53:50,506
to these features.


1247
00:53:51,016 --> 00:53:55,476
And of course and along with
the new Auto Layout workflows


1248
00:53:55,476 --> 00:53:56,796
and of course support for iOS 7,


1249
00:53:57,446 --> 00:53:59,466
Xcode 5 brings along
a new readable


1250
00:53:59,466 --> 00:54:01,056
and diff-able XML
format for this.


1251
00:54:01,056 --> 00:54:01,156
[ Applause ]


1252
00:54:01,156 --> 00:54:09,396
If you'd like more information,


1253
00:54:09,396 --> 00:54:12,056
you can contact the Dev
Tools Evangelist, Dave DeLong


1254
00:54:12,776 --> 00:54:14,146
or you can post it
on developer forums.


1255
00:54:15,526 --> 00:54:18,366
We'll be having auto
or-- we also have--


1256
00:54:18,366 --> 00:54:20,746
we also recommend you checkout
the Auto Layout related sessions


1257
00:54:20,746 --> 00:54:23,606
from last year's conference, or
the Interface Builder session


1258
00:54:23,606 --> 00:54:24,366
for this year's conference.


1259
00:54:25,136 --> 00:54:26,266
And with that, thank you.

