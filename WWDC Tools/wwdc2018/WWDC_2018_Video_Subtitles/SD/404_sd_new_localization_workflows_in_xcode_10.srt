1
00:00:06,516 --> 00:00:14,500
[ Music ]


2
00:00:21,516 --> 00:00:25,566
[ Applause ]


3
00:00:26,066 --> 00:00:27,066
>> Good morning, everyone.


4
00:00:27,196 --> 00:00:28,476
Thank you so much for coming to


5
00:00:28,476 --> 00:00:29,216
our session.


6
00:00:29,266 --> 00:00:30,446
My name is Sara Radi.


7
00:00:30,446 --> 00:00:31,636
I'm a software engineer in the


8
00:00:31,636 --> 00:00:33,576
Localization Team at Apple and


9
00:00:33,576 --> 00:00:34,746
today we'll be joined by my


10
00:00:34,746 --> 00:00:36,526
colleagues, Vivian and Chris, to


11
00:00:36,526 --> 00:00:37,996
talk about new location


12
00:00:37,996 --> 00:00:39,646
workflows with Xcode 10.


13
00:00:41,146 --> 00:00:42,486
So first I would like to start


14
00:00:42,486 --> 00:00:44,136
with a quick overview of how the


15
00:00:44,136 --> 00:00:45,906
localization process used to


16
00:00:45,906 --> 00:00:47,486
work before Xcode 10.


17
00:00:48,926 --> 00:00:50,856
Then I will introduce the Xcode


18
00:00:50,856 --> 00:00:52,486
Localization Catalog, which is


19
00:00:52,486 --> 00:00:54,786
the new format for exports and


20
00:00:54,786 --> 00:00:56,706
imports in your localizations in


21
00:00:56,706 --> 00:00:57,556
Xcode 10.


22
00:00:58,446 --> 00:01:00,026
Finally, Chris will talk about


23
00:01:00,026 --> 00:01:02,276
how to localize Siri Shortcuts


24
00:01:02,376 --> 00:01:03,906
by using an Intent definition


25
00:01:03,936 --> 00:01:05,936
file which is a new file format


26
00:01:06,026 --> 00:01:07,546
we introduced this year as well


27
00:01:07,756 --> 00:01:08,646
in Xcode 10.


28
00:01:10,036 --> 00:01:11,536
So let's get started with a


29
00:01:11,566 --> 00:01:12,576
quick overview.


30
00:01:15,236 --> 00:01:17,666
So before Xcode 10, if you had a


31
00:01:17,716 --> 00:01:19,166
project that contains


32
00:01:19,166 --> 00:01:20,996
localizations that your


33
00:01:20,996 --> 00:01:22,676
application supports, we look


34
00:01:22,716 --> 00:01:24,276
for strings base localizable


35
00:01:24,276 --> 00:01:25,696
resources in your project.


36
00:01:26,176 --> 00:01:27,746
So these strings can be defined


37
00:01:27,746 --> 00:01:29,026
in your source code, your


38
00:01:29,116 --> 00:01:30,546
storyboard files, your strings


39
00:01:30,546 --> 00:01:31,606
files, or your strings


40
00:01:31,606 --> 00:01:32,186
dictionaries.


41
00:01:32,786 --> 00:01:34,466
So once we identify these


42
00:01:34,466 --> 00:01:36,426
resources, we extract strings


43
00:01:36,476 --> 00:01:38,786
from them and we export them in


44
00:01:38,786 --> 00:01:39,766
an XLIFF format.


45
00:01:40,386 --> 00:01:42,556
So XLIFF is an industry standard


46
00:01:42,556 --> 00:01:44,296
and most localizers are already


47
00:01:44,296 --> 00:01:45,056
familiar with.


48
00:01:45,636 --> 00:01:46,536
So that's what you will be


49
00:01:46,586 --> 00:01:48,246
sending over for translations.


50
00:01:49,936 --> 00:01:51,546
So once you get your XLIFF files


51
00:01:51,546 --> 00:01:54,216
back translated on imports, we


52
00:01:54,216 --> 00:01:55,356
add them to localizable


53
00:01:55,356 --> 00:01:57,596
resources in your Xcode projects


54
00:01:57,596 --> 00:01:59,346
with the new translations that


55
00:01:59,346 --> 00:02:01,036
are provided in the XLIFF files.


56
00:02:01,646 --> 00:02:02,356
So that is pretty


57
00:02:02,446 --> 00:02:03,576
straightforward process.


58
00:02:06,386 --> 00:02:08,216
Now, the XLIFF format provides a


59
00:02:08,216 --> 00:02:09,856
lot of benefits for you as a


60
00:02:09,856 --> 00:02:10,536
developer.


61
00:02:11,136 --> 00:02:12,916
First, it helps you to extract


62
00:02:13,266 --> 00:02:14,726
the localization work from your


63
00:02:14,766 --> 00:02:16,396
code so you don't have to make


64
00:02:16,596 --> 00:02:18,266
any language assumptions in your


65
00:02:18,336 --> 00:02:18,886
source code.


66
00:02:20,266 --> 00:02:21,776
XLIFF files also holds the


67
00:02:21,836 --> 00:02:23,896
content to be localized from


68
00:02:23,896 --> 00:02:25,736
your development language along


69
00:02:25,736 --> 00:02:27,306
with the translations so your


70
00:02:27,306 --> 00:02:28,696
translators can do their work


71
00:02:28,946 --> 00:02:31,096
right in the XLIFF files that


72
00:02:31,096 --> 00:02:32,006
you have provided.


73
00:02:32,836 --> 00:02:35,246
In addition to that, instead of


74
00:02:35,246 --> 00:02:37,096
handing over multiple file types


75
00:02:37,096 --> 00:02:38,736
and keep track of them, XLIFF is


76
00:02:38,736 --> 00:02:40,406
a really nice tool that


77
00:02:40,486 --> 00:02:41,926
consolidates strings from


78
00:02:41,926 --> 00:02:43,556
different resources and


79
00:02:43,556 --> 00:02:45,186
different file types into one


80
00:02:45,436 --> 00:02:46,536
single document.


81
00:02:48,506 --> 00:02:50,466
But what XLIFF does not provide


82
00:02:50,466 --> 00:02:52,126
your localizers, it does not


83
00:02:52,126 --> 00:02:53,846
give them that visual and


84
00:02:53,906 --> 00:02:55,046
functional context.


85
00:02:56,296 --> 00:02:57,806
It does not provide the resource


86
00:02:57,806 --> 00:02:59,266
data like assets in your


87
00:02:59,266 --> 00:02:59,786
project.


88
00:02:59,886 --> 00:03:01,326
For example, a storyboard file


89
00:03:01,326 --> 00:03:02,956
will be very helpful for your


90
00:03:02,956 --> 00:03:05,416
localizers to picture how your


91
00:03:05,416 --> 00:03:06,356
UI is laid out in your


92
00:03:06,356 --> 00:03:07,496
development language.


93
00:03:08,176 --> 00:03:11,336
It also does not provide with


94
00:03:11,336 --> 00:03:13,176
the custom metadata about the


95
00:03:13,176 --> 00:03:14,956
generated XLIFF.


96
00:03:15,326 --> 00:03:16,826
And finally, the XLIFF we


97
00:03:16,826 --> 00:03:18,336
generate today does not have


98
00:03:18,456 --> 00:03:20,146
size and length restrictions


99
00:03:20,146 --> 00:03:21,836
attributes and that might be


100
00:03:21,836 --> 00:03:23,646
very helpful for your localizers


101
00:03:24,066 --> 00:03:25,586
to know if a given string will


102
00:03:25,586 --> 00:03:26,986
be showing on a Watch screen or


103
00:03:26,986 --> 00:03:28,636
an iPhone screen or an iPad


104
00:03:28,636 --> 00:03:30,156
screen to make decisions about


105
00:03:30,156 --> 00:03:31,596
the length of the translation.


106
00:03:33,606 --> 00:03:36,136
So why is context important for


107
00:03:36,136 --> 00:03:37,116
your localizers?


108
00:03:37,166 --> 00:03:40,226
So if we take a look at this


109
00:03:40,226 --> 00:03:43,026
example from a travel app that


110
00:03:43,026 --> 00:03:44,646
we will be showing you later in


111
00:03:44,646 --> 00:03:47,196
our demo, so if you look at the


112
00:03:47,326 --> 00:03:48,746
string that says "Book" on the


113
00:03:48,746 --> 00:03:51,366
right corner of the Navigation


114
00:03:51,366 --> 00:03:53,856
bar, it's kind of clear to all


115
00:03:53,856 --> 00:03:55,346
of us here in the room that


116
00:03:55,346 --> 00:03:56,626
"book" refers to something


117
00:03:56,716 --> 00:03:58,796
related to travels because we


118
00:03:58,796 --> 00:04:00,626
have that visual context right


119
00:04:00,626 --> 00:04:02,106
in front of us that says start


120
00:04:02,166 --> 00:04:04,026
day and dates, number of


121
00:04:04,106 --> 00:04:05,666
travelers and the price.


122
00:04:07,036 --> 00:04:08,726
But if you send your translators


123
00:04:08,896 --> 00:04:11,136
an XLIFF files, the only thing


124
00:04:11,136 --> 00:04:12,616
they see there is just the


125
00:04:12,746 --> 00:04:14,196
string "Book" and that don't


126
00:04:14,196 --> 00:04:16,046
have that visual context that we


127
00:04:16,046 --> 00:04:17,526
were looking at earlier.


128
00:04:17,856 --> 00:04:20,666
So Book can refer to two


129
00:04:20,666 --> 00:04:21,356
different things.


130
00:04:21,935 --> 00:04:23,936
It can be a noun in the context


131
00:04:23,936 --> 00:04:26,726
of reading a book or it can be a


132
00:04:26,726 --> 00:04:28,966
verb in the context of booking a


133
00:04:28,966 --> 00:04:31,586
hotel room somewhere or a flight


134
00:04:31,646 --> 00:04:33,246
ticket or travel in general.


135
00:04:33,846 --> 00:04:35,446
I actually asked our Russian


136
00:04:35,446 --> 00:04:36,936
translator if he can translate


137
00:04:36,936 --> 00:04:38,386
the word "book" for me without


138
00:04:38,386 --> 00:04:39,936
giving him any additional


139
00:04:39,936 --> 00:04:42,176
context and he came up with all


140
00:04:42,176 --> 00:04:43,426
these different options.


141
00:04:43,786 --> 00:04:45,756
So without giving him that extra


142
00:04:45,756 --> 00:04:47,186
context, it would be very


143
00:04:47,186 --> 00:04:48,756
difficult for him to decide


144
00:04:48,976 --> 00:04:50,586
which string to show in the UI


145
00:04:50,586 --> 00:04:52,266
for Russian users, for example.


146
00:04:53,516 --> 00:04:55,266
Context can also be important


147
00:04:55,306 --> 00:04:57,166
for your localizers to decide


148
00:04:57,166 --> 00:04:58,156
about the length of the


149
00:04:58,156 --> 00:04:58,976
translations they are using.


150
00:04:59,046 --> 00:05:02,436
So if we take a look at this


151
00:05:02,436 --> 00:05:04,646
example, so I have this phrase


152
00:05:04,646 --> 00:05:06,196
that says, "Booking confirmed"


153
00:05:06,396 --> 00:05:08,416
in English and it fits just fine


154
00:05:08,686 --> 00:05:10,446
on a Watch screen, but in


155
00:05:10,446 --> 00:05:12,086
French, for example, it


156
00:05:12,176 --> 00:05:12,716
truncates.


157
00:05:13,956 --> 00:05:15,256
So first of all, when it


158
00:05:15,256 --> 00:05:16,536
truncates, it doesn't look that


159
00:05:16,536 --> 00:05:18,846
nice in the UI and sometimes the


160
00:05:18,846 --> 00:05:20,366
truncation can change the


161
00:05:20,366 --> 00:05:21,996
meaning of the word.


162
00:05:22,436 --> 00:05:23,826
It can even be offensive for


163
00:05:23,826 --> 00:05:24,556
your users.


164
00:05:24,936 --> 00:05:26,736
It can be like funny, like in


165
00:05:26,736 --> 00:05:28,576
this example, like the phase


166
00:05:28,576 --> 00:05:30,896
does not say that your booking


167
00:05:30,896 --> 00:05:31,926
was confirmed anymore.


168
00:05:31,926 --> 00:05:33,366
It says our booking was stupid


169
00:05:33,366 --> 00:05:34,306
which is not what I really


170
00:05:34,306 --> 00:05:34,826
wanted.


171
00:05:35,756 --> 00:05:39,626
So we see that context is very


172
00:05:39,626 --> 00:05:40,976
important to provide to your


173
00:05:40,976 --> 00:05:43,386
customers or to your localizers


174
00:05:43,666 --> 00:05:45,016
to ship high-quality


175
00:05:45,526 --> 00:05:46,426
localization.


176
00:05:47,476 --> 00:05:49,156
So now I would like to introduce


177
00:05:49,456 --> 00:05:51,416
the Xcode Localization Catalog,


178
00:05:51,606 --> 00:05:53,506
which is the new format for


179
00:05:53,506 --> 00:05:55,646
exporting and importing your


180
00:05:55,646 --> 00:05:58,596
localizations in Xcode 10.


181
00:05:59,286 --> 00:06:01,126
So what is an Xcode Localization


182
00:06:01,126 --> 00:06:01,606
Catalog?


183
00:06:02,146 --> 00:06:04,666
It is a new type of localization


184
00:06:04,666 --> 00:06:07,046
artifact that has that .xcloc


185
00:06:07,046 --> 00:06:07,806
extension.


186
00:06:08,746 --> 00:06:11,246
It is produced by the export


187
00:06:11,246 --> 00:06:13,056
localization command in Xcode,


188
00:06:13,056 --> 00:06:14,316
so it's the same command that


189
00:06:14,316 --> 00:06:16,106
used to export XLIFF files


190
00:06:16,386 --> 00:06:17,596
before Xcode 10.


191
00:06:18,126 --> 00:06:20,396
And it is consumed by the import


192
00:06:20,396 --> 00:06:21,606
localization command.


193
00:06:22,736 --> 00:06:24,546
And the main thing about the


194
00:06:24,546 --> 00:06:27,126
Localization Catalog is that it


195
00:06:27,206 --> 00:06:29,826
supports all of your localizable


196
00:06:29,986 --> 00:06:32,076
assets, which means anything


197
00:06:32,076 --> 00:06:34,296
that you mark as localizable in


198
00:06:34,296 --> 00:06:36,076
Xcode projects, it will be


199
00:06:36,126 --> 00:06:37,686
supported by Localization


200
00:06:37,686 --> 00:06:39,376
Catalog and that is beyond


201
00:06:39,756 --> 00:06:40,496
strings files.


202
00:06:41,516 --> 00:06:45,976
[ Applause ]


203
00:06:46,476 --> 00:06:47,946
Another important thing about


204
00:06:47,946 --> 00:06:50,236
the Localization Catalog is that


205
00:06:50,596 --> 00:06:52,236
it provides that additional


206
00:06:52,476 --> 00:06:54,806
contextual information for your


207
00:06:54,806 --> 00:06:55,566
localizers.


208
00:06:57,256 --> 00:06:58,176
So we built the Xcode


209
00:06:58,176 --> 00:07:00,086
Localization Catalog on top of


210
00:07:00,086 --> 00:07:01,106
the XLIFF format.


211
00:07:02,026 --> 00:07:03,416
So if we take a look at our


212
00:07:03,416 --> 00:07:05,696
example earlier, so all of our


213
00:07:05,826 --> 00:07:07,206
strings base localizable


214
00:07:07,206 --> 00:07:09,416
resources will be extracted in


215
00:07:09,416 --> 00:07:11,726
an XLIFF format and anything


216
00:07:11,796 --> 00:07:13,406
else that you have marked as


217
00:07:13,406 --> 00:07:16,116
localizable in your project will


218
00:07:16,116 --> 00:07:17,906
be supported by the Localization


219
00:07:17,906 --> 00:07:21,006
Catalog and exported in an xcloc


220
00:07:21,756 --> 00:07:23,326
along with the XLIFF files that


221
00:07:23,356 --> 00:07:24,336
contains the strings.


222
00:07:25,416 --> 00:07:27,066
So let's take a look closely at


223
00:07:27,066 --> 00:07:29,176
what is inside a Localization


224
00:07:29,176 --> 00:07:29,706
Catalog.


225
00:07:30,226 --> 00:07:33,156
So inside your xcloc, you will


226
00:07:33,156 --> 00:07:36,536
find a contents.json file, which


227
00:07:36,536 --> 00:07:38,656
contains metadata about the


228
00:07:38,656 --> 00:07:40,486
exported Localization Catalog.


229
00:07:40,906 --> 00:07:43,286
So it has information like the


230
00:07:43,286 --> 00:07:45,106
development language of your


231
00:07:45,106 --> 00:07:47,806
application, the target language


232
00:07:47,806 --> 00:07:49,456
of the exported Localization


233
00:07:49,456 --> 00:07:50,006
Catalog.


234
00:07:50,746 --> 00:07:52,046
It has information about the


235
00:07:52,046 --> 00:07:53,416
tool that generated that


236
00:07:53,416 --> 00:07:54,506
Localization Catalog.


237
00:07:54,506 --> 00:07:55,846
In this case, it's Xcode, so you


238
00:07:55,846 --> 00:07:57,436
will find information like the


239
00:07:57,436 --> 00:07:58,756
version number and the build


240
00:07:58,756 --> 00:07:59,936
number of Xcode.


241
00:08:00,596 --> 00:08:02,536
And finally, it has the version


242
00:08:02,536 --> 00:08:04,196
number of the exported


243
00:08:04,196 --> 00:08:05,426
Localization Catalog.


244
00:08:06,356 --> 00:08:09,166
Next inside the generated xcloc,


245
00:08:09,986 --> 00:08:11,986
you will find Localized Contents


246
00:08:11,986 --> 00:08:12,696
directory.


247
00:08:13,136 --> 00:08:14,876
And Localized Contents contains


248
00:08:14,976 --> 00:08:16,436
all of your localizable


249
00:08:16,436 --> 00:08:18,886
resources in the project and


250
00:08:18,886 --> 00:08:20,816
this is the main directory where


251
00:08:20,816 --> 00:08:22,566
your localizers will be doing


252
00:08:22,566 --> 00:08:23,326
their work in.


253
00:08:24,836 --> 00:08:26,986
So inside Localized Contents, as


254
00:08:26,986 --> 00:08:29,736
I mentioned, you will find an


255
00:08:29,736 --> 00:08:32,096
XLIFF document that has all the


256
00:08:32,145 --> 00:08:34,456
project localized strings as


257
00:08:34,456 --> 00:08:36,606
well as non-strings localizable


258
00:08:36,806 --> 00:08:38,826
assets like images, for example,


259
00:08:38,826 --> 00:08:40,265
if you want to localize those.


260
00:08:40,996 --> 00:08:42,246
So those assets will be


261
00:08:42,246 --> 00:08:44,176
organized into the same file


262
00:08:44,246 --> 00:08:46,276
system hierarchy as your Xcode


263
00:08:46,356 --> 00:08:48,096
projects inside the Localization


264
00:08:48,096 --> 00:08:48,616
Catalog.


265
00:08:49,786 --> 00:08:51,956
And your localizers can also use


266
00:08:52,066 --> 00:08:54,306
Localized Content to override


267
00:08:54,486 --> 00:08:57,016
any resources specifically for


268
00:08:57,016 --> 00:08:58,726
the language like interface


269
00:08:58,726 --> 00:09:00,336
builder files, for example.


270
00:09:00,826 --> 00:09:05,206
Next, inside the Localization


271
00:09:05,206 --> 00:09:07,176
Catalog, we generate a Source


272
00:09:07,246 --> 00:09:08,976
Contents directory and this is


273
00:09:08,976 --> 00:09:11,356
mainly provided for context.


274
00:09:12,156 --> 00:09:14,336
So Source Contents contains


275
00:09:14,606 --> 00:09:16,336
assets that were used to produce


276
00:09:16,336 --> 00:09:18,056
the Localized Contents like


277
00:09:18,156 --> 00:09:19,576
storyboards for example that


278
00:09:19,576 --> 00:09:20,656
will be helpful for your


279
00:09:20,656 --> 00:09:23,096
localizers to see how your UI is


280
00:09:23,096 --> 00:09:24,366
laid out in your development


281
00:09:24,366 --> 00:09:25,366
language so they can make


282
00:09:25,366 --> 00:09:27,486
decisions about the length of


283
00:09:27,486 --> 00:09:28,416
the translations.


284
00:09:29,366 --> 00:09:30,816
So even if your localized


285
00:09:30,856 --> 00:09:32,006
strings are coming from your


286
00:09:32,106 --> 00:09:34,166
source code, we do not generate


287
00:09:34,466 --> 00:09:36,086
your source code inside the


288
00:09:36,186 --> 00:09:37,086
Source Contents.


289
00:09:38,016 --> 00:09:39,676
So those assets that are mainly


290
00:09:39,676 --> 00:09:41,686
provided for context will be


291
00:09:41,686 --> 00:09:43,546
also organized into the same


292
00:09:43,546 --> 00:09:44,956
file system hierarchy are your


293
00:09:44,956 --> 00:09:46,316
Xcode project inside the


294
00:09:46,316 --> 00:09:48,616
Localization Catalog and, as I


295
00:09:48,616 --> 00:09:50,026
mentioned, this is mainly


296
00:09:50,026 --> 00:09:51,776
provided for context even if


297
00:09:51,776 --> 00:09:53,566
your localizers go and change


298
00:09:53,566 --> 00:09:55,956
your source context on import,


299
00:09:55,956 --> 00:09:58,026
Xcode will just ignore them and


300
00:09:58,026 --> 00:10:00,246
will not import these resources


301
00:10:00,766 --> 00:10:01,936
back into your projects.


302
00:10:03,116 --> 00:10:05,726
Finally, inside your


303
00:10:05,726 --> 00:10:07,166
Localization Catalog, you will


304
00:10:07,166 --> 00:10:09,426
find a Notes directory and this


305
00:10:09,426 --> 00:10:11,646
is mainly provided for you to


306
00:10:11,646 --> 00:10:13,766
give any additional contextual


307
00:10:13,766 --> 00:10:15,946
information for your localizers.


308
00:10:16,816 --> 00:10:18,546
That can be screenshots data


309
00:10:18,626 --> 00:10:21,486
from your UI Attachments for


310
00:10:21,486 --> 00:10:22,046
example.


311
00:10:22,976 --> 00:10:25,176
It can be a Readme file or a


312
00:10:25,176 --> 00:10:28,016
movie that explains information


313
00:10:28,016 --> 00:10:30,276
about your app or anything


314
00:10:30,276 --> 00:10:31,476
really you think that will be


315
00:10:31,476 --> 00:10:34,026
important for your localizers.


316
00:10:34,576 --> 00:10:35,476
So that was the Xcode


317
00:10:35,476 --> 00:10:37,286
Localization Catalog structure.


318
00:10:37,996 --> 00:10:40,026
And we have been also working on


319
00:10:40,026 --> 00:10:42,156
updating the Xcode build command


320
00:10:42,156 --> 00:10:42,836
line tools.


321
00:10:43,206 --> 00:10:45,196
So now on exports, we generate


322
00:10:45,196 --> 00:10:46,966
an Xcode Localization Catalog.


323
00:10:47,456 --> 00:10:49,086
And on imports, the imports


324
00:10:49,086 --> 00:10:51,406
command is backwards compatible.


325
00:10:51,596 --> 00:10:53,386
So if you still have those old


326
00:10:53,386 --> 00:10:54,626
XLIFF files, you can still


327
00:10:54,626 --> 00:10:55,946
important them back into your


328
00:10:56,016 --> 00:10:58,226
project or you can import back


329
00:10:58,506 --> 00:11:00,436
the new Localization Catalog.


330
00:11:01,306 --> 00:11:03,126
And with that, I would like to


331
00:11:03,126 --> 00:11:04,736
hand it over to Vivian to give


332
00:11:04,736 --> 00:11:06,046
you a demonstration about the


333
00:11:06,046 --> 00:11:07,126
Localization Catalog.


334
00:11:07,176 --> 00:11:07,886
Thank you so much.


335
00:11:08,516 --> 00:11:12,916
[ Applause ]


336
00:11:13,416 --> 00:11:13,976
>> Thanks, Sara.


337
00:11:19,036 --> 00:11:20,776
Alright, so we've been working


338
00:11:20,776 --> 00:11:23,226
on a travel app and what makes


339
00:11:23,226 --> 00:11:25,246
this special is it's the first


340
00:11:25,246 --> 00:11:27,506
app to let you plan vacations to


341
00:11:27,506 --> 00:11:28,256
other planets.


342
00:11:28,866 --> 00:11:30,256
So we call it Vacation Planet.


343
00:11:30,546 --> 00:11:31,156
Let's take a look.


344
00:11:32,596 --> 00:11:33,966
Alright, so on the splash screen


345
00:11:33,966 --> 00:11:35,626
we have this lovely logo with


346
00:11:35,666 --> 00:11:37,706
the name of our app.


347
00:11:37,706 --> 00:11:38,576
And I'm just going to click


348
00:11:38,576 --> 00:11:38,996
Browse here.


349
00:11:40,116 --> 00:11:41,146
Alright, so we can book a


350
00:11:41,276 --> 00:11:43,816
flight, an expedition, a cruise,


351
00:11:44,046 --> 00:11:45,546
or an entire vacation package.


352
00:11:45,666 --> 00:11:46,806
Let's go to Mars.


353
00:11:49,106 --> 00:11:50,406
Okay, now I need to choose where


354
00:11:50,406 --> 00:11:52,536
on Mars to go and I think we


355
00:11:52,536 --> 00:11:53,966
should check in on the NASA


356
00:11:53,966 --> 00:11:55,106
Curiosity Rover.


357
00:11:55,106 --> 00:11:56,416
So let's go to Gale Creator.


358
00:11:56,936 --> 00:11:59,036
We should definitely go after


359
00:11:59,106 --> 00:11:59,946
the conference.


360
00:12:00,816 --> 00:12:03,686
And let's go for a month.


361
00:12:03,686 --> 00:12:05,236
It's a really fast spaceship.


362
00:12:05,236 --> 00:12:07,546
I'm going to take Sara and Chris


363
00:12:07,546 --> 00:12:08,706
with me, so three travelers.


364
00:12:09,726 --> 00:12:11,346
That's a really cheap trip to


365
00:12:11,346 --> 00:12:11,636
Mars.


366
00:12:12,956 --> 00:12:14,256
Alright, here's that Book button


367
00:12:14,256 --> 00:12:15,046
you saw earlier.


368
00:12:15,956 --> 00:12:17,116
And great, our booking is


369
00:12:17,116 --> 00:12:17,656
confirmed.


370
00:12:18,276 --> 00:12:20,106
Now, of course, there's people


371
00:12:20,106 --> 00:12:21,806
all over Earth who would love to


372
00:12:21,806 --> 00:12:23,656
visit Mars and they don't all


373
00:12:23,656 --> 00:12:25,506
use their iOS devices in


374
00:12:25,506 --> 00:12:26,096
English.


375
00:12:26,436 --> 00:12:27,336
So we're going to need to


376
00:12:27,336 --> 00:12:29,166
localize the app.


377
00:12:29,166 --> 00:12:32,756
Let's go into Xcode and do that.


378
00:12:32,756 --> 00:12:34,626
Alright, so I just need to


379
00:12:34,626 --> 00:12:36,866
select my project here.


380
00:12:36,866 --> 00:12:38,286
And under Info, under


381
00:12:38,286 --> 00:12:40,796
Localizations, click Plus, and


382
00:12:40,796 --> 00:12:41,986
we're going to add French for


383
00:12:41,986 --> 00:12:42,526
starters.


384
00:12:44,666 --> 00:12:47,086
Okay. So my storyboards are


385
00:12:47,086 --> 00:12:48,756
localizable by default, so


386
00:12:48,756 --> 00:12:49,586
they're already checked.


387
00:12:50,076 --> 00:12:51,356
And a have a localizable


388
00:12:51,476 --> 00:12:53,306
stringsdict that I also already


389
00:12:53,306 --> 00:12:54,406
marked localizable.


390
00:12:54,586 --> 00:12:55,916
So I just need to click Finish.


391
00:12:56,046 --> 00:12:59,656
Alright, at this point, Xcode


392
00:12:59,686 --> 00:13:01,696
has created the fr.lproj in my


393
00:13:01,696 --> 00:13:04,106
project and for by storyboards


394
00:13:04,556 --> 00:13:06,586
has created strings files with


395
00:13:06,586 --> 00:13:08,446
copies of my English strings.


396
00:13:09,796 --> 00:13:12,936
So also copy my image because I


397
00:13:12,936 --> 00:13:14,506
have not marked it localizable.


398
00:13:14,736 --> 00:13:15,336
So let's do that.


399
00:13:16,416 --> 00:13:17,356
Over the right, just lick


400
00:13:17,356 --> 00:13:17,866
Localize.


401
00:13:18,096 --> 00:13:19,696
There's no content shared


402
00:13:19,696 --> 00:13:21,116
between the languages in this


403
00:13:21,166 --> 00:13:21,516
file.


404
00:13:21,706 --> 00:13:23,396
So I need to put it in English


405
00:13:23,876 --> 00:13:24,896
because that's my development


406
00:13:24,896 --> 00:13:25,436
language.


407
00:13:26,346 --> 00:13:29,296
Click Localize and check French


408
00:13:29,296 --> 00:13:30,246
to make that copy.


409
00:13:31,316 --> 00:13:32,276
Alright, there it is.


410
00:13:33,466 --> 00:13:35,556
Okay, now I'm ready to export


411
00:13:35,556 --> 00:13:36,456
for localization.


412
00:13:37,336 --> 00:13:39,926
I'll just select my project, go


413
00:13:39,926 --> 00:13:42,246
to Editor, Export for


414
00:13:42,246 --> 00:13:43,136
Localization.


415
00:13:44,296 --> 00:13:45,396
Alright, I'm going to call this


416
00:13:45,396 --> 00:13:46,916
vacationplanetloc, so I don't


417
00:13:46,916 --> 00:13:48,356
have to type out localization,


418
00:13:49,196 --> 00:13:50,606
and double check that I'm


419
00:13:50,606 --> 00:13:53,746
exporting for French and click


420
00:13:53,806 --> 00:13:54,036
Save.


421
00:13:55,156 --> 00:13:57,116
So now Xcode generates that


422
00:13:57,116 --> 00:13:58,986
Xcode Localization Catalog for


423
00:13:58,986 --> 00:14:01,166
me and we can go into Finder and


424
00:14:01,166 --> 00:14:03,006
look at it.


425
00:14:03,236 --> 00:14:05,126
Alright, here we go.


426
00:14:05,866 --> 00:14:07,556
Here is my French Xcode


427
00:14:07,556 --> 00:14:09,206
Localization Catalog with that


428
00:14:09,396 --> 00:14:10,596
.xcloc extension.


429
00:14:11,596 --> 00:14:13,406
And inside, as Sara said,


430
00:14:13,976 --> 00:14:15,886
there's the contents.json with


431
00:14:15,886 --> 00:14:17,106
metadata about my Xcode


432
00:14:17,106 --> 00:14:18,196
Localization Catalog.


433
00:14:19,386 --> 00:14:20,496
Next, we have Localized


434
00:14:20,576 --> 00:14:21,106
Contents.


435
00:14:21,296 --> 00:14:23,866
So in here, I have an XLIFF, the


436
00:14:23,866 --> 00:14:25,936
same as if I had used Xcode 9.


437
00:14:26,586 --> 00:14:29,686
You can see here it has all of


438
00:14:29,686 --> 00:14:33,556
my strings and here we can see


439
00:14:33,556 --> 00:14:34,586
highlighted in red the


440
00:14:34,586 --> 00:14:36,006
untranslated copies of the


441
00:14:36,006 --> 00:14:36,646
English.


442
00:14:37,146 --> 00:14:39,926
And also in Localized Contents


443
00:14:40,976 --> 00:14:42,436
mimicking the file hierarchy of


444
00:14:42,436 --> 00:14:44,466
my project, I have that logo


445
00:14:44,466 --> 00:14:44,996
image.


446
00:14:45,586 --> 00:14:47,856
So next let's look at Source


447
00:14:47,896 --> 00:14:48,456
Contents.


448
00:14:49,126 --> 00:14:50,836
This likewise mimics the file


449
00:14:50,836 --> 00:14:52,676
hierarchy of my Xcode project.


450
00:14:53,346 --> 00:14:55,666
So I have my storyboards that


451
00:14:55,666 --> 00:14:56,996
are in base and I have the


452
00:14:56,996 --> 00:14:58,716
English for my info plist


453
00:14:58,886 --> 00:15:00,986
strings, my localizable.strings


454
00:15:01,036 --> 00:15:02,356
for the strings defined in code,


455
00:15:03,056 --> 00:15:05,246
my localizable stringsdict and


456
00:15:05,246 --> 00:15:06,546
the English version of the


457
00:15:06,546 --> 00:15:06,976
image.


458
00:15:07,826 --> 00:15:09,806
So the last part of Xcode


459
00:15:09,806 --> 00:15:11,556
Localization Catalog is the


460
00:15:11,556 --> 00:15:12,366
Notes folder.


461
00:15:12,896 --> 00:15:14,486
And Xcode doesn't put anything


462
00:15:14,486 --> 00:15:17,906
in here, but yesterday, I ran my


463
00:15:17,906 --> 00:15:20,106
XCUI tests, which are a really


464
00:15:20,106 --> 00:15:22,556
easy way to create screenshots.


465
00:15:23,886 --> 00:15:26,086
And all my screenshots are saved


466
00:15:26,576 --> 00:15:28,196
as attachments to my test.


467
00:15:28,576 --> 00:15:29,606
So we can go back and look at my


468
00:15:29,606 --> 00:15:32,236
test results, see them.


469
00:15:32,806 --> 00:15:35,756
So for instance, I have my


470
00:15:35,906 --> 00:15:37,436
splash screen added as an


471
00:15:37,436 --> 00:15:38,386
attachment here.


472
00:15:38,926 --> 00:15:40,866
There we go.


473
00:15:41,376 --> 00:15:42,976
Alright, so I'm just going to


474
00:15:42,976 --> 00:15:45,856
pull these up in Finder and copy


475
00:15:45,856 --> 00:15:47,306
them into the Notes folder.


476
00:15:47,426 --> 00:15:48,986
So select Show in Finder.


477
00:15:50,146 --> 00:15:52,266
Alright, Show Package Contents,


478
00:15:52,526 --> 00:15:53,576
look at Attachments.


479
00:15:54,366 --> 00:15:55,146
There they are.


480
00:15:56,556 --> 00:16:00,746
Copy and Paste.


481
00:16:02,766 --> 00:16:04,046
And I think this Travel Details


482
00:16:04,046 --> 00:16:05,276
one is going to be particularly


483
00:16:05,276 --> 00:16:06,626
helpful because it has that


484
00:16:06,626 --> 00:16:09,646
troublesome Book button in it.


485
00:16:09,916 --> 00:16:11,866
Alright, now I'm ready to send


486
00:16:11,866 --> 00:16:14,166
my entire Xcode Localization


487
00:16:14,166 --> 00:16:16,306
Catalog off to my localizers.


488
00:16:16,856 --> 00:16:19,986
Now the great thing is they're


489
00:16:19,986 --> 00:16:21,426
really fast and they're already


490
00:16:21,426 --> 00:16:21,796
done.


491
00:16:21,796 --> 00:16:23,016
So we can go ahead and import


492
00:16:23,016 --> 00:16:23,896
those translations.


493
00:16:24,356 --> 00:16:26,466
Just going to go back to my


494
00:16:26,466 --> 00:16:26,946
project.


495
00:16:28,196 --> 00:16:29,196
Make sure I have the project


496
00:16:29,246 --> 00:16:29,776
selected.


497
00:16:30,716 --> 00:16:32,136
And as before, go to Editor and


498
00:16:32,836 --> 00:16:34,736
this time choose Import


499
00:16:34,736 --> 00:16:35,536
Localizations.


500
00:16:36,736 --> 00:16:38,476
Okay? So I'm going to pick my


501
00:16:38,476 --> 00:16:40,056
Return to Xcode Localization


502
00:16:40,056 --> 00:16:40,566
Catalog.


503
00:16:41,406 --> 00:16:42,056
Click Open.


504
00:16:42,556 --> 00:16:45,256
And now I get a comparison view


505
00:16:45,256 --> 00:16:46,776
the same as in Xcode 9 that


506
00:16:46,916 --> 00:16:48,486
shows me any warnings, errors,


507
00:16:48,486 --> 00:16:49,766
and changes regarding my


508
00:16:49,886 --> 00:16:50,366
strings.


509
00:16:50,906 --> 00:16:52,616
So here, it's just warning me I


510
00:16:52,616 --> 00:16:54,116
didn't get any translations for


511
00:16:54,116 --> 00:16:55,606
my infoplist.strings.


512
00:16:56,016 --> 00:16:56,706
But that's okay.


513
00:16:56,766 --> 00:16:57,696
I didn't ask for those


514
00:16:57,696 --> 00:16:59,066
translations, so I'm just going


515
00:16:59,066 --> 00:17:00,166
to ignore this warning.


516
00:17:00,706 --> 00:17:02,746
I can also check on what's


517
00:17:02,746 --> 00:17:03,156
changing.


518
00:17:03,156 --> 00:17:04,096
So here if we look at the


519
00:17:04,215 --> 00:17:05,406
storyboard, we can see I'm


520
00:17:05,406 --> 00:17:07,496
getting real French translations


521
00:17:07,915 --> 00:17:09,616
to replace those copies of the


522
00:17:09,616 --> 00:17:10,726
English in the strings.


523
00:17:12,175 --> 00:17:13,306
So I'm just going to click


524
00:17:13,306 --> 00:17:13,726
Import.


525
00:17:15,296 --> 00:17:16,786
And just like that, all of the


526
00:17:16,786 --> 00:17:18,746
translations for my strings and


527
00:17:18,746 --> 00:17:20,616
non-strings resources are in the


528
00:17:20,616 --> 00:17:21,976
right place in my project.


529
00:17:22,516 --> 00:17:28,726
[ Applause ]


530
00:17:29,226 --> 00:17:30,436
Alright, so let's double check


531
00:17:30,436 --> 00:17:30,836
on that.


532
00:17:31,616 --> 00:17:32,736
I'll just do spot check of a


533
00:17:32,736 --> 00:17:33,696
couple files.


534
00:17:33,696 --> 00:17:35,866
Okay, main.strings.


535
00:17:35,906 --> 00:17:37,256
That looks like French to me.


536
00:17:37,256 --> 00:17:38,356
I don't actually speak it.


537
00:17:39,456 --> 00:17:40,866
Let's check the image.


538
00:17:41,076 --> 00:17:42,776
Yes, that's also in French.


539
00:17:42,776 --> 00:17:44,966
Okay, so let's run through the


540
00:17:44,966 --> 00:17:47,216
app one more time in French and


541
00:17:47,216 --> 00:17:48,896
make sure everything looks good.


542
00:17:49,346 --> 00:17:51,496
So to do that, I'm going to


543
00:17:51,496 --> 00:17:53,996
select my Active Scheme, choose


544
00:17:53,996 --> 00:17:54,826
Edit Scheme.


545
00:17:56,046 --> 00:17:58,636
Set the application language to


546
00:17:58,636 --> 00:18:00,696
French and the application


547
00:18:00,696 --> 00:18:02,106
region to France.


548
00:18:02,756 --> 00:18:04,506
Now I'm ready to run.


549
00:18:05,516 --> 00:18:06,836
We're going to stop the English


550
00:18:06,836 --> 00:18:07,646
from running.


551
00:18:08,576 --> 00:18:11,216
Okay? So in just a moment here,


552
00:18:11,216 --> 00:18:12,796
we should get our app entirely


553
00:18:12,796 --> 00:18:13,456
in French.


554
00:18:14,056 --> 00:18:16,566
Okay, looks good so far.


555
00:18:16,566 --> 00:18:17,316
I'm just going to go through


556
00:18:17,316 --> 00:18:18,376
really fast so I can go check on


557
00:18:18,376 --> 00:18:19,126
that Book button.


558
00:18:20,156 --> 00:18:21,796
Alright, Browse, let's go to


559
00:18:21,796 --> 00:18:22,636
Mars again.


560
00:18:22,986 --> 00:18:24,166
I really like Gale Creator.


561
00:18:24,746 --> 00:18:25,626
Okay, great.


562
00:18:26,056 --> 00:18:27,426
That Book button was translated


563
00:18:27,426 --> 00:18:27,866
correctly.


564
00:18:27,866 --> 00:18:28,996
It was probably really helpful


565
00:18:28,996 --> 00:18:30,746
that I included screenshot of


566
00:18:30,746 --> 00:18:31,306
this part.


567
00:18:31,986 --> 00:18:33,886
If we check on the dates here,


568
00:18:34,736 --> 00:18:36,396
alright, I did not have to send


569
00:18:36,396 --> 00:18:37,806
a list of months to my


570
00:18:37,806 --> 00:18:38,616
translators.


571
00:18:39,086 --> 00:18:40,976
Instead, I used this nice date


572
00:18:40,976 --> 00:18:42,426
picker that in turn uses a


573
00:18:42,506 --> 00:18:43,986
formatter and I got these


574
00:18:43,986 --> 00:18:45,436
localizations for free.


575
00:18:46,816 --> 00:18:48,376
And likewise, by using a


576
00:18:48,376 --> 00:18:50,236
formatter for the price, I got


577
00:18:50,266 --> 00:18:51,596
the correct number formatting


578
00:18:51,706 --> 00:18:53,116
and the price given in Euros.


579
00:18:54,436 --> 00:18:56,676
Alright, so that was super easy


580
00:18:56,876 --> 00:18:58,886
to get my strings and non-string


581
00:18:58,886 --> 00:19:01,466
resources all in French as


582
00:19:01,466 --> 00:19:02,806
easily as I would've done with


583
00:19:02,806 --> 00:19:04,406
just the string resources in


584
00:19:04,586 --> 00:19:05,246
Xcode 9.


585
00:19:05,576 --> 00:19:07,126
So with that, let's go back to


586
00:19:07,166 --> 00:19:08,876
the slides and wrap up our


587
00:19:08,876 --> 00:19:11,366
discussion of Xcode Localization


588
00:19:11,366 --> 00:19:11,836
Catalog.


589
00:19:12,516 --> 00:19:19,266
[ Applause ]


590
00:19:19,766 --> 00:19:21,906
Alright, so we have introduced


591
00:19:21,906 --> 00:19:23,686
the Xcode Localization Catalog


592
00:19:23,686 --> 00:19:26,346
as Xcode's new standard for


593
00:19:26,346 --> 00:19:28,746
localization export and import.


594
00:19:29,856 --> 00:19:31,286
It provides more flexibility for


595
00:19:31,286 --> 00:19:33,146
your translators and allows you


596
00:19:33,146 --> 00:19:34,676
to conveniently provide more


597
00:19:34,676 --> 00:19:37,036
visual and functional context to


598
00:19:37,036 --> 00:19:38,326
better help them generate


599
00:19:38,326 --> 00:19:40,346
high-quality translations the


600
00:19:40,466 --> 00:19:41,316
first time.


601
00:19:41,876 --> 00:19:44,366
It has increased file type


602
00:19:44,406 --> 00:19:45,926
support, so you can export and


603
00:19:45,926 --> 00:19:47,876
import your non-string resources


604
00:19:48,206 --> 00:19:49,696
as easily as you've been doing


605
00:19:49,696 --> 00:19:50,566
with your string based


606
00:19:50,566 --> 00:19:51,216
resources.


607
00:19:51,826 --> 00:19:54,766
We've also updated Xcode build


608
00:19:54,886 --> 00:19:56,796
to use the Xcode Localization


609
00:19:56,796 --> 00:19:57,986
Catalog for continuous


610
00:19:57,986 --> 00:19:59,076
integration support.


611
00:20:00,116 --> 00:20:02,176
And if you have content out for


612
00:20:02,176 --> 00:20:04,256
localization right now, don't


613
00:20:04,256 --> 00:20:05,736
worry, you can still import


614
00:20:05,736 --> 00:20:07,026
those XLIFFs when they come back


615
00:20:07,026 --> 00:20:09,556
to you both Xcode and Xcode


616
00:20:09,556 --> 00:20:11,256
Build are backwards compatible.


617
00:20:12,496 --> 00:20:14,606
Alright, so with that, I'm going


618
00:20:14,606 --> 00:20:16,556
to hand it over to Chris to talk


619
00:20:16,556 --> 00:20:18,756
to you about localizing intent


620
00:20:18,756 --> 00:20:20,056
definition files for the


621
00:20:20,056 --> 00:20:21,616
creation of Siri Shortcuts.


622
00:20:22,516 --> 00:20:27,796
[ Applause ]


623
00:20:28,296 --> 00:20:29,186
>> Thank you, Vivian.


624
00:20:29,686 --> 00:20:30,796
Wow, that's really awesome.


625
00:20:31,366 --> 00:20:32,306
I'm really looking forward to


626
00:20:32,306 --> 00:20:33,146
that trip to Mars.


627
00:20:33,706 --> 00:20:36,526
So I'm going to be showing you


628
00:20:36,726 --> 00:20:38,656
how to localize Siri Shortcuts


629
00:20:38,746 --> 00:20:40,476
by localizing your intent


630
00:20:40,476 --> 00:20:41,306
definitions.


631
00:20:41,766 --> 00:20:44,886
And your intent definitions are


632
00:20:44,886 --> 00:20:46,546
created in intent definition


633
00:20:46,646 --> 00:20:47,996
files in Xcode.


634
00:20:48,716 --> 00:20:50,146
And these are what you use to


635
00:20:50,146 --> 00:20:51,876
define your custom intents for


636
00:20:51,876 --> 00:20:52,886
Siri Shortcuts.


637
00:20:53,516 --> 00:20:54,916
They're just files with an


638
00:20:54,916 --> 00:20:57,166
intent definition extension that


639
00:20:57,166 --> 00:20:59,406
have a custom editor in Xcode.


640
00:21:00,186 --> 00:21:02,626
And we've designed them to take


641
00:21:02,626 --> 00:21:04,796
advantage of base localization


642
00:21:05,386 --> 00:21:07,036
so when you go to translate your


643
00:21:07,036 --> 00:21:08,816
intents, you don't have a bunch


644
00:21:08,816 --> 00:21:10,256
of different intent definition


645
00:21:10,256 --> 00:21:13,096
files, one per language, you


646
00:21:13,096 --> 00:21:15,226
just use strings files to


647
00:21:15,226 --> 00:21:17,376
localize the strings that are in


648
00:21:17,376 --> 00:21:18,486
your intent definitions.


649
00:21:19,396 --> 00:21:22,626
And, of course, we also support


650
00:21:22,786 --> 00:21:25,876
stringsdict files for a variety


651
00:21:25,876 --> 00:21:28,236
of cases like pluralization


652
00:21:28,236 --> 00:21:29,796
rules and variable-width


653
00:21:29,796 --> 00:21:30,446
strings.


654
00:21:31,936 --> 00:21:33,636
And if you haven't yet, I


655
00:21:33,746 --> 00:21:35,176
strongly encourage you to check


656
00:21:35,176 --> 00:21:36,776
out the Introduction to Siri


657
00:21:36,776 --> 00:21:38,606
Shortcuts Session that happened


658
00:21:38,606 --> 00:21:39,766
yesterday and that's available


659
00:21:39,766 --> 00:21:40,336
for streaming.


660
00:21:40,336 --> 00:21:43,916
Now let's take a quick walk


661
00:21:44,226 --> 00:21:45,716
through the Intent Definition


662
00:21:45,816 --> 00:21:46,256
Editor.


663
00:21:46,806 --> 00:21:47,986
Here we have an intent


664
00:21:47,986 --> 00:21:49,396
definition for our Vacation


665
00:21:49,456 --> 00:21:53,286
Planet application and we have


666
00:21:53,286 --> 00:21:54,736
an intent for booking a


667
00:21:54,736 --> 00:21:55,376
vacation.


668
00:21:56,336 --> 00:21:57,496
Of course, one of the things


669
00:21:57,496 --> 00:21:58,726
that you'll want to localize in


670
00:21:58,726 --> 00:22:01,056
your intent is the title and the


671
00:22:01,056 --> 00:22:02,276
description of the intent


672
00:22:02,276 --> 00:22:02,886
itself.


673
00:22:03,206 --> 00:22:05,836
But most of what you're going to


674
00:22:05,836 --> 00:22:07,656
be localizing for your intent


675
00:22:07,656 --> 00:22:09,756
definition are the shortcut


676
00:22:09,856 --> 00:22:13,036
types that are composed together


677
00:22:13,346 --> 00:22:15,346
from the intents parameters.


678
00:22:15,866 --> 00:22:18,816
And of course, when an intent is


679
00:22:18,816 --> 00:22:20,836
invoked, it produces a response


680
00:22:20,836 --> 00:22:22,846
as well and these can also be


681
00:22:22,846 --> 00:22:25,676
customized with Response


682
00:22:25,796 --> 00:22:27,576
Templates and these Response


683
00:22:27,666 --> 00:22:29,266
Templates are localized in


684
00:22:29,266 --> 00:22:31,076
exactly the same way as your


685
00:22:31,076 --> 00:22:33,836
shortcut types.


686
00:22:33,936 --> 00:22:35,436
Now let's take a deeper look at


687
00:22:35,436 --> 00:22:37,116
the actual structure of an


688
00:22:37,116 --> 00:22:38,816
intent and what's localizable


689
00:22:38,816 --> 00:22:39,196
within it.


690
00:22:40,376 --> 00:22:42,426
An intent is really a collection


691
00:22:42,426 --> 00:22:43,776
of parameters that have a


692
00:22:43,776 --> 00:22:45,136
variety of types.


693
00:22:45,696 --> 00:22:46,866
So they can have types like


694
00:22:47,106 --> 00:22:49,486
integer or string and you saw


695
00:22:49,486 --> 00:22:50,776
yesterday that they also support


696
00:22:50,776 --> 00:22:53,916
custom objects and they support


697
00:22:53,916 --> 00:22:55,776
enumerations that are defined


698
00:22:55,776 --> 00:22:57,776
right in your intent definition.


699
00:22:58,256 --> 00:23:02,036
And these parameters are


700
00:23:02,036 --> 00:23:04,706
combined together into different


701
00:23:04,706 --> 00:23:07,486
shortcut types that have a nice


702
00:23:07,486 --> 00:23:09,016
human readable title.


703
00:23:09,586 --> 00:23:13,816
And of course, responses are


704
00:23:13,816 --> 00:23:15,506
also collections of properties


705
00:23:15,746 --> 00:23:17,846
that have well understood types


706
00:23:18,126 --> 00:23:20,976
again like string or integer and


707
00:23:21,226 --> 00:23:23,786
can also have types from your


708
00:23:23,786 --> 00:23:24,636
enumerations.


709
00:23:25,226 --> 00:23:27,456
And when you go to localize your


710
00:23:27,456 --> 00:23:29,156
intent definition, the things


711
00:23:29,156 --> 00:23:29,806
that you're going to be


712
00:23:29,806 --> 00:23:31,826
localizing the most are your


713
00:23:31,826 --> 00:23:34,066
shortcut types and your response


714
00:23:34,166 --> 00:23:34,666
templates.


715
00:23:35,026 --> 00:23:36,516
And for the most part, what


716
00:23:36,516 --> 00:23:37,756
we're going to talk about today


717
00:23:37,886 --> 00:23:39,276
is how to localize your shortcut


718
00:23:39,276 --> 00:23:42,096
types because you localize your


719
00:23:42,096 --> 00:23:43,786
response templates in exactly


720
00:23:43,786 --> 00:23:44,606
the same way.


721
00:23:45,196 --> 00:23:48,066
So here's an example from our


722
00:23:48,066 --> 00:23:50,036
Vacation Planet app.


723
00:23:50,396 --> 00:23:52,036
This is the shortcut type for


724
00:23:52,036 --> 00:23:56,296
booking a trip and that type of


725
00:23:56,296 --> 00:23:57,946
trip there is actually a


726
00:23:57,986 --> 00:23:59,546
placeholder for one of our


727
00:23:59,546 --> 00:24:00,316
enumerations.


728
00:24:00,846 --> 00:24:03,096
This enumeration lets you book a


729
00:24:03,186 --> 00:24:04,776
flight or it lets you book a


730
00:24:04,816 --> 00:24:06,396
cruise, or it lets you book a


731
00:24:06,396 --> 00:24:07,486
vacation package.


732
00:24:07,816 --> 00:24:10,216
And when Xcode goes to localize


733
00:24:10,486 --> 00:24:12,336
your intent definition file,


734
00:24:12,466 --> 00:24:13,646
when you press that localize


735
00:24:13,646 --> 00:24:14,876
button that Vivian showed you,


736
00:24:15,776 --> 00:24:18,116
what's going to happen is Xcode


737
00:24:18,606 --> 00:24:22,046
will produce one each of its


738
00:24:22,046 --> 00:24:25,136
strings for the members of that


739
00:24:25,136 --> 00:24:25,886
enumeration.


740
00:24:26,356 --> 00:24:30,066
And that happens to work because


741
00:24:30,136 --> 00:24:31,926
of the particular words we


742
00:24:31,926 --> 00:24:32,706
chose.


743
00:24:34,336 --> 00:24:36,786
Because our template says "Book


744
00:24:36,786 --> 00:24:38,676
a flight" and uses that


745
00:24:38,676 --> 00:24:41,316
indefinite article, we can or


746
00:24:41,686 --> 00:24:44,106
"Book a type" and uses that


747
00:24:44,106 --> 00:24:46,106
indefinite article, we can book


748
00:24:46,106 --> 00:24:47,986
a flight, book a cruise, or book


749
00:24:47,986 --> 00:24:49,606
a vacation package because they


750
00:24:49,646 --> 00:24:51,326
all start with consonants


751
00:24:51,526 --> 00:24:52,676
because that's the rule in


752
00:24:52,676 --> 00:24:53,186
English.


753
00:24:53,696 --> 00:24:55,966
But what happens if I add a new


754
00:24:56,286 --> 00:24:57,946
value to my enumeration to


755
00:24:57,946 --> 00:24:59,496
represent booking an expedition,


756
00:24:59,496 --> 00:24:59,966
say to Mars?


757
00:25:02,316 --> 00:25:05,136
Well, Xcode is just going to


758
00:25:05,136 --> 00:25:06,656
generate in its strings file


759
00:25:07,786 --> 00:25:10,996
"Book a expedition" which isn't


760
00:25:10,996 --> 00:25:12,546
really very grammatical.


761
00:25:13,516 --> 00:25:14,746
Fortunately, though, these


762
00:25:14,746 --> 00:25:16,266
strings files are keyed by


763
00:25:16,266 --> 00:25:19,956
well-defined IDs and stable IDs


764
00:25:20,346 --> 00:25:21,926
so you can just go into the


765
00:25:21,926 --> 00:25:24,996
strings file and change it so


766
00:25:24,996 --> 00:25:26,466
that it's properly grammatical.


767
00:25:27,826 --> 00:25:29,586
Now English isn't the only


768
00:25:29,586 --> 00:25:31,416
language that has this kind of


769
00:25:31,416 --> 00:25:32,476
grammatical agreement.


770
00:25:33,116 --> 00:25:34,396
Different languages, of course,


771
00:25:34,476 --> 00:25:35,596
have different grammatical


772
00:25:35,596 --> 00:25:36,036
agreement.


773
00:25:36,276 --> 00:25:37,686
So you'll need to do the same


774
00:25:37,686 --> 00:25:39,776
kind of thing say in French,


775
00:25:40,176 --> 00:25:41,626
where you'll need to make the


776
00:25:41,686 --> 00:25:44,006
gender of the article agree with


777
00:25:44,006 --> 00:25:45,846
the gender of the noun that it's


778
00:25:45,846 --> 00:25:48,046
referring to.


779
00:25:48,336 --> 00:25:50,486
Now let's take a quick look at a


780
00:25:50,486 --> 00:25:51,856
more complex example.


781
00:25:52,716 --> 00:25:55,816
Here we have a shortcut type for


782
00:25:55,816 --> 00:25:57,736
booking a vacation for some


783
00:25:57,736 --> 00:26:00,106
number of people and once again,


784
00:26:00,246 --> 00:26:01,526
when generating that strings


785
00:26:01,526 --> 00:26:03,706
file, Xcode, well, it's going to


786
00:26:03,706 --> 00:26:05,546
combine together the template


787
00:26:06,246 --> 00:26:08,106
with the values from the


788
00:26:08,106 --> 00:26:08,866
enumeration.


789
00:26:09,326 --> 00:26:10,876
However, it's not going to


790
00:26:10,876 --> 00:26:13,056
generate one string for every


791
00:26:13,086 --> 00:26:15,016
possible integer as well.


792
00:26:16,256 --> 00:26:18,716
Instead, it's going to leave the


793
00:26:18,716 --> 00:26:20,066
strings that it generates with a


794
00:26:20,066 --> 00:26:21,756
placeholder in them that the


795
00:26:21,756 --> 00:26:24,496
shortcut system will replace at


796
00:26:24,496 --> 00:26:24,866
runtime.


797
00:26:25,186 --> 00:26:29,446
And once again, this looks like


798
00:26:29,446 --> 00:26:30,376
it should be reasonable.


799
00:26:30,456 --> 00:26:32,986
Right? it says, you know, book a


800
00:26:32,986 --> 00:26:35,536
vacation or book a flight for


801
00:26:35,656 --> 00:26:36,566
some number of people.


802
00:26:37,066 --> 00:26:41,076
And in our strings file, we get


803
00:26:41,076 --> 00:26:42,716
that generated ID and that


804
00:26:42,716 --> 00:26:44,226
string that says, oh, book a


805
00:26:44,226 --> 00:26:46,376
cruise for some number of people


806
00:26:46,606 --> 00:26:48,666
with that placeholder still in


807
00:26:49,196 --> 00:26:51,526
there; however, when I go to


808
00:26:51,526 --> 00:26:53,796
book a cruise for just myself to


809
00:26:53,796 --> 00:26:57,386
celebrate a great WWDC, what's


810
00:26:57,386 --> 00:26:59,206
going to be shown as an actual


811
00:26:59,206 --> 00:27:01,666
shortcut is the string "Book a


812
00:27:01,666 --> 00:27:04,696
cruise for 1 people" which isn't


813
00:27:04,696 --> 00:27:05,796
grammatical English.


814
00:27:07,146 --> 00:27:08,936
However, these support


815
00:27:09,046 --> 00:27:11,796
stringsdict files as well so you


816
00:27:11,796 --> 00:27:14,116
can do all of the pluralization


817
00:27:14,116 --> 00:27:16,746
that you need and have the


818
00:27:16,856 --> 00:27:18,766
system take care of it for you.


819
00:27:20,426 --> 00:27:23,076
Here in the stringsdict file, we


820
00:27:23,076 --> 00:27:26,706
have the dictionary itself keyed


821
00:27:26,706 --> 00:27:29,156
by that string that I showed you


822
00:27:29,336 --> 00:27:31,196
from the strings file.


823
00:27:31,566 --> 00:27:33,506
You can either use that or you


824
00:27:33,506 --> 00:27:37,196
can use the ID as the key.


825
00:27:37,196 --> 00:27:40,676
And then we've produced another


826
00:27:40,676 --> 00:27:42,576
string that is what is actually


827
00:27:42,576 --> 00:27:44,236
going to be shown in the user


828
00:27:44,236 --> 00:27:44,906
interface.


829
00:27:46,376 --> 00:27:48,366
And here, we're referring to


830
00:27:48,366 --> 00:27:50,656
another variable which can then


831
00:27:50,656 --> 00:27:52,816
be substituted for either the


832
00:27:52,816 --> 00:27:55,976
one or other cases based on


833
00:27:56,046 --> 00:27:57,956
English's pluralization rules.


834
00:27:58,466 --> 00:28:02,156
And to learn more about


835
00:28:02,156 --> 00:28:04,276
stringsdict files, you should


836
00:28:04,276 --> 00:28:05,826
see our session from last year


837
00:28:05,826 --> 00:28:08,076
Localizing with Xcode 9 that's


838
00:28:08,076 --> 00:28:09,876
available in the WWDC


839
00:28:09,876 --> 00:28:10,566
application.


840
00:28:12,936 --> 00:28:15,096
Here, if I go to book my cruise


841
00:28:15,096 --> 00:28:17,536
now, this operating system will


842
00:28:17,536 --> 00:28:19,646
say, oh, I'm booking for one


843
00:28:19,646 --> 00:28:22,026
person, so let's use the case


844
00:28:22,496 --> 00:28:24,866
for one and I get a properly


845
00:28:24,866 --> 00:28:25,936
grammatical phrase.


846
00:28:26,836 --> 00:28:28,946
And similarly, if I want to book


847
00:28:28,946 --> 00:28:30,836
a cruise for all of us, you


848
00:28:31,186 --> 00:28:33,186
know, after all I'm not the only


849
00:28:33,186 --> 00:28:37,506
one up here, the system will say


850
00:28:37,626 --> 00:28:39,646
"Book a cruise for 3 people."


851
00:28:40,166 --> 00:28:45,676
Now let's talk about intents


852
00:28:45,676 --> 00:28:47,366
that are created in code.


853
00:28:48,446 --> 00:28:49,826
If you're creating an intent in


854
00:28:49,826 --> 00:28:52,106
code to donate it to the system,


855
00:28:52,806 --> 00:28:55,216
that isn't necessarily the point


856
00:28:55,216 --> 00:28:57,116
at which a shortcut will be


857
00:28:57,116 --> 00:28:57,786
displayed.


858
00:28:58,076 --> 00:29:00,136
That can be displayed far off at


859
00:29:00,206 --> 00:29:01,576
some point in the future based


860
00:29:01,576 --> 00:29:02,776
on the user's actions.


861
00:29:04,246 --> 00:29:07,106
So we have a new API that


862
00:29:07,106 --> 00:29:09,316
creates a deferred localizable


863
00:29:09,316 --> 00:29:12,516
string that will be localized at


864
00:29:12,516 --> 00:29:13,946
the point where the string is


865
00:29:13,946 --> 00:29:15,306
presented to the user.


866
00:29:16,006 --> 00:29:19,376
And this is necessary because


867
00:29:19,446 --> 00:29:21,226
donating an intent to the system


868
00:29:21,226 --> 00:29:23,136
is really telling the system,


869
00:29:23,216 --> 00:29:25,026
hey, the user performed some


870
00:29:25,026 --> 00:29:27,696
action in my application that


871
00:29:27,696 --> 00:29:29,886
you might want to offer them


872
00:29:29,886 --> 00:29:31,896
again at some other point.


873
00:29:33,026 --> 00:29:35,506
And, fortunately, this API is


874
00:29:35,506 --> 00:29:37,346
extremely simple to use.


875
00:29:37,746 --> 00:29:39,976
It's just one call added to NS


876
00:29:39,976 --> 00:29:42,396
String that you can use to wrap


877
00:29:42,436 --> 00:29:43,776
the string that you're going to


878
00:29:43,776 --> 00:29:45,856
assign to that intent you


879
00:29:45,856 --> 00:29:49,366
created in code.


880
00:29:50,056 --> 00:29:52,786
So let's talk quickly about what


881
00:29:52,786 --> 00:29:53,376
we've seen.


882
00:29:54,146 --> 00:29:56,216
We've seen that Xcode combines


883
00:29:56,216 --> 00:29:58,076
your shortcut types with the


884
00:29:58,246 --> 00:30:00,126
enumerations that you've defined


885
00:30:00,126 --> 00:30:01,556
in your intent definition when


886
00:30:01,556 --> 00:30:02,856
it's generating the strings


887
00:30:02,856 --> 00:30:02,976
files.


888
00:30:03,146 --> 00:30:08,106
And you can use both strings and


889
00:30:08,166 --> 00:30:10,356
stringsdict files to localize


890
00:30:10,356 --> 00:30:11,106
your shortcuts.


891
00:30:11,586 --> 00:30:14,796
And if you're creating an intent


892
00:30:14,886 --> 00:30:16,836
in code to donate it to the


893
00:30:16,916 --> 00:30:18,716
system, to inform the system of


894
00:30:18,716 --> 00:30:19,986
a user action that might be


895
00:30:19,986 --> 00:30:23,066
repeated, you can use deferred


896
00:30:23,066 --> 00:30:26,616
Localized Intents String to wrap


897
00:30:26,616 --> 00:30:28,236
that string in such a way that


898
00:30:28,236 --> 00:30:29,476
it'll be localized when it's


899
00:30:29,476 --> 00:30:31,526
presented to the user, not at


900
00:30:31,526 --> 00:30:32,826
the point where it's created in


901
00:30:32,826 --> 00:30:33,626
your application.


902
00:30:33,626 --> 00:30:35,416
So if the user changes their


903
00:30:35,416 --> 00:30:37,546
phone's language in between when


904
00:30:37,546 --> 00:30:39,196
you've donated that intent, and


905
00:30:39,196 --> 00:30:40,996
when a shortcut is displayed, it


906
00:30:41,146 --> 00:30:43,416
still follows the user's phone


907
00:30:43,416 --> 00:30:43,976
language.


908
00:30:44,546 --> 00:30:49,566
Now when you define strings in a


909
00:30:49,616 --> 00:30:51,566
stringsdict file, they are


910
00:30:51,566 --> 00:30:53,146
actually going to be preferred


911
00:30:53,146 --> 00:30:53,876
at runtime.


912
00:30:54,626 --> 00:30:56,046
That means you can do the


913
00:30:56,046 --> 00:30:58,266
majority of your localization in


914
00:30:58,266 --> 00:31:00,246
your strings files for all of


915
00:31:00,246 --> 00:31:01,636
the cases where you don't need


916
00:31:01,636 --> 00:31:04,506
things like plural agreement and


917
00:31:04,506 --> 00:31:06,416
then you can just provide a


918
00:31:06,466 --> 00:31:08,336
strings file or a stringsdict


919
00:31:08,336 --> 00:31:10,666
file with the same name as your


920
00:31:10,666 --> 00:31:12,876
intent definition as an


921
00:31:12,986 --> 00:31:13,656
override.


922
00:31:14,276 --> 00:31:16,996
And when you create that


923
00:31:16,996 --> 00:31:18,956
stringsdict file, you can use


924
00:31:19,316 --> 00:31:21,966
either the strings themselves or


925
00:31:21,966 --> 00:31:23,836
the strings IDs that Xcode


926
00:31:23,836 --> 00:31:26,296
assigns as keys in your strings


927
00:31:26,296 --> 00:31:29,276
file as the Localized String Key


928
00:31:29,346 --> 00:31:30,936
and string somewhat measure of


929
00:31:31,036 --> 00:31:32,456
stability in case you actually


930
00:31:32,456 --> 00:31:34,556
decide to change things in your


931
00:31:34,556 --> 00:31:35,536
intent definition.


932
00:31:36,056 --> 00:31:39,926
So now, I'd like to bring Vivian


933
00:31:39,926 --> 00:31:41,896
back up to show you exactly how


934
00:31:41,896 --> 00:31:43,126
to do this, how this whole


935
00:31:43,126 --> 00:31:44,976
process works in Xcode.


936
00:31:45,516 --> 00:31:50,846
[ Applause ]


937
00:31:51,346 --> 00:31:51,966
>> Thanks, Chris.


938
00:32:02,956 --> 00:32:05,656
Alright, so once you go to Mars


939
00:32:05,656 --> 00:32:06,936
once, you're probably going to


940
00:32:06,936 --> 00:32:08,656
want to go again and again and


941
00:32:08,656 --> 00:32:10,506
again because those trips are


942
00:32:10,506 --> 00:32:11,636
really cheap, as we saw.


943
00:32:12,716 --> 00:32:14,036
And it would be nice if our app


944
00:32:14,036 --> 00:32:16,086
could suggest additional trips


945
00:32:16,206 --> 00:32:18,486
to these frequent fliers and


946
00:32:18,486 --> 00:32:19,736
give them a shortcut to book the


947
00:32:19,736 --> 00:32:20,596
next vacation.


948
00:32:20,846 --> 00:32:22,706
So with that in mind, I've added


949
00:32:22,706 --> 00:32:24,526
an intent definition to our


950
00:32:24,526 --> 00:32:25,036
project.


951
00:32:25,146 --> 00:32:28,606
Let's go look at it.


952
00:32:29,166 --> 00:32:30,136
Okay, here's our intent


953
00:32:30,136 --> 00:32:30,756
definition.


954
00:32:31,456 --> 00:32:33,136
So we have a custom intent


955
00:32:33,246 --> 00:32:35,946
called "Book Item," has a title,


956
00:32:36,666 --> 00:32:40,026
a description, and down here is


957
00:32:40,026 --> 00:32:41,566
the actual suggestion.


958
00:32:42,106 --> 00:32:45,386
So it is book a type for


959
00:32:45,546 --> 00:32:46,756
travelers, people.


960
00:32:46,806 --> 00:32:47,736
Like Chris said, it's a


961
00:32:47,736 --> 00:32:49,436
combination of parameters.


962
00:32:50,516 --> 00:32:52,836
So we can see travelers is an


963
00:32:52,836 --> 00:32:57,406
integer and type is defined in


964
00:32:57,406 --> 00:32:59,026
this enum here, so we can see it


965
00:32:59,026 --> 00:33:01,376
can be a flight, a cruise, a


966
00:33:01,376 --> 00:33:03,146
vacation package, or an


967
00:33:03,146 --> 00:33:03,956
expedition.


968
00:33:05,136 --> 00:33:06,776
Now if our user follows through


969
00:33:06,776 --> 00:33:08,186
with a suggestion and books


970
00:33:08,186 --> 00:33:09,636
another trip, we need to give


971
00:33:09,636 --> 00:33:10,916
them some kind of feedback.


972
00:33:11,446 --> 00:33:13,196
So for that we have a response


973
00:33:13,376 --> 00:33:15,226
and there's just a success or a


974
00:33:15,226 --> 00:33:17,226
failure message as to whether we


975
00:33:17,226 --> 00:33:18,616
could book their trip.


976
00:33:19,196 --> 00:33:20,446
And this is likewise a


977
00:33:20,446 --> 00:33:22,156
combination of parameters.


978
00:33:22,726 --> 00:33:25,276
Now, of course, since we have


979
00:33:25,276 --> 00:33:27,226
user facing strings, we need to


980
00:33:27,226 --> 00:33:28,036
localize them.


981
00:33:28,316 --> 00:33:28,956
So let's do that.


982
00:33:29,686 --> 00:33:31,786
Just like I did for the image, I


983
00:33:31,786 --> 00:33:33,756
just go to the right here, click


984
00:33:33,756 --> 00:33:34,316
Localize.


985
00:33:35,286 --> 00:33:36,986
Now intent definition files are


986
00:33:36,986 --> 00:33:38,126
going to be like interface


987
00:33:38,196 --> 00:33:39,796
builder files where we have one


988
00:33:39,796 --> 00:33:41,766
intent definition and all of our


989
00:33:41,766 --> 00:33:43,686
translations in strings files.


990
00:33:43,786 --> 00:33:45,456
So I want to put it in base.


991
00:33:46,626 --> 00:33:47,576
Click Localize.


992
00:33:48,396 --> 00:33:50,746
Okay. And I want to check


993
00:33:51,216 --> 00:33:51,676
French.


994
00:33:52,766 --> 00:33:54,476
Okay, so at this point, Xcode


995
00:33:54,476 --> 00:33:56,846
has created a strings file for


996
00:33:56,846 --> 00:33:58,416
the French translations to be


997
00:33:58,416 --> 00:33:58,916
put in.


998
00:34:00,106 --> 00:34:01,086
And here we go.


999
00:34:01,086 --> 00:34:03,496
Alright, and you can see as I


1000
00:34:03,496 --> 00:34:06,426
scroll through, it has every


1001
00:34:06,426 --> 00:34:08,516
possible string given the


1002
00:34:08,516 --> 00:34:09,916
possible values for the


1003
00:34:09,916 --> 00:34:12,156
parameters defined in enums.


1004
00:34:13,045 --> 00:34:14,556
This is great because, again, I


1005
00:34:14,556 --> 00:34:16,456
don't speak French but I know


1006
00:34:16,456 --> 00:34:18,386
from the slides that flight and


1007
00:34:18,456 --> 00:34:19,416
cruise have different


1008
00:34:19,416 --> 00:34:20,735
grammatical gender, they're


1009
00:34:20,735 --> 00:34:22,045
going to need different forms of


1010
00:34:22,045 --> 00:34:25,096
the word for "a."


1011
00:34:25,356 --> 00:34:27,306
Alright, but there's still some


1012
00:34:27,306 --> 00:34:29,686
grammar problems I can fix and


1013
00:34:29,686 --> 00:34:30,916
those are the ones in English,


1014
00:34:31,176 --> 00:34:34,926
the case of one person and an


1015
00:34:35,266 --> 00:34:36,106
expedition.


1016
00:34:36,585 --> 00:34:38,436
So to do that, I need, or at


1017
00:34:38,436 --> 00:34:40,275
least to fix the plural case,


1018
00:34:40,676 --> 00:34:41,946
I'm going to add a stringsdict


1019
00:34:41,946 --> 00:34:44,146
file with the same name as my


1020
00:34:44,146 --> 00:34:45,216
intent definition.


1021
00:34:46,406 --> 00:34:47,656
So just go over here to my


1022
00:34:47,656 --> 00:34:48,186
project.


1023
00:34:48,676 --> 00:34:49,936
Create new file.


1024
00:34:51,146 --> 00:34:52,366
And I'm going to use the


1025
00:34:52,366 --> 00:34:53,896
stringsdict template that was


1026
00:34:54,045 --> 00:34:55,116
added in Xcode 9.


1027
00:34:56,696 --> 00:34:57,406
Click Next.


1028
00:34:58,516 --> 00:34:59,536
Alright, here's the important


1029
00:34:59,536 --> 00:34:59,746
part.


1030
00:34:59,746 --> 00:35:00,576
I need to make sure I get the


1031
00:35:00,576 --> 00:35:01,776
name exactly right.


1032
00:35:03,096 --> 00:35:04,196
Intents. Okay.


1033
00:35:06,676 --> 00:35:11,386
Create. Now I don't need to go


1034
00:35:11,386 --> 00:35:13,116
into my French strings file to


1035
00:35:13,186 --> 00:35:15,186
find the ID for my intent.


1036
00:35:15,946 --> 00:35:17,876
I can actually go into the


1037
00:35:17,876 --> 00:35:19,776
intent definition file because


1038
00:35:19,776 --> 00:35:21,186
these are required to be unique.


1039
00:35:21,906 --> 00:35:23,956
I can actually copy directly


1040
00:35:24,026 --> 00:35:29,076
from here, alright, copy, and go


1041
00:35:29,306 --> 00:35:33,966
my stringsdict, and paste.


1042
00:35:35,286 --> 00:35:39,306
Alright, you can see here Xcode


1043
00:35:39,306 --> 00:35:40,346
actually formatted the


1044
00:35:40,346 --> 00:35:42,896
parameters for me when I pasted


1045
00:35:42,896 --> 00:35:44,316
so that this is already ready


1046
00:35:44,616 --> 00:35:45,906
for Siri Shortcuts.


1047
00:35:46,766 --> 00:35:48,496
Okay, so at this point, I'm


1048
00:35:48,496 --> 00:35:49,966
ready to fill in the rest of my


1049
00:35:49,966 --> 00:35:50,906
plural dictionary.


1050
00:35:50,906 --> 00:35:52,566
I'm only going to need one and


1051
00:35:52,566 --> 00:35:53,956
other because I'm doing English.


1052
00:35:53,956 --> 00:35:55,226
So I have singular and plural.


1053
00:35:56,256 --> 00:35:57,796
But like any good cooking show,


1054
00:35:57,796 --> 00:35:59,106
I have the finished file ready.


1055
00:35:59,206 --> 00:36:00,386
So I'm going to swap that in.


1056
00:36:00,886 --> 00:36:04,046
Alright, say goodbye to this


1057
00:36:04,046 --> 00:36:04,446
guy.


1058
00:36:04,446 --> 00:36:08,396
And let's go find the finished


1059
00:36:08,466 --> 00:36:08,726
one.


1060
00:36:16,176 --> 00:36:18,006
There we go.


1061
00:36:18,526 --> 00:36:21,586
Yes, Xcode, I want to make a


1062
00:36:21,586 --> 00:36:22,096
copy.


1063
00:36:23,256 --> 00:36:23,716
There we go.


1064
00:36:24,316 --> 00:36:25,866
Alright, let's look at it.


1065
00:36:28,376 --> 00:36:30,496
So we're going to look at a case


1066
00:36:30,496 --> 00:36:31,836
where I fixed two problems at


1067
00:36:31,836 --> 00:36:32,166
once.


1068
00:36:33,816 --> 00:36:35,906
So if we check Book Expedition,


1069
00:36:36,646 --> 00:36:38,266
the string here is "Book a


1070
00:36:38,266 --> 00:36:42,016
expedition" but then in the


1071
00:36:42,016 --> 00:36:43,006
plural dictionary, I have the


1072
00:36:43,006 --> 00:36:46,056
case of one person or any other


1073
00:36:46,056 --> 00:36:47,256
number of people.


1074
00:36:47,666 --> 00:36:50,166
What I also did here was fix


1075
00:36:50,166 --> 00:36:52,406
that a/an situation so the


1076
00:36:52,406 --> 00:36:53,596
string is actually displayed


1077
00:36:53,596 --> 00:36:54,556
we'll use an.


1078
00:36:55,746 --> 00:36:58,486
Okay. So I have the finished


1079
00:36:58,486 --> 00:36:59,656
version of the app running on my


1080
00:36:59,656 --> 00:36:59,746
phone.


1081
00:36:59,806 --> 00:37:00,816
So let's run through it and


1082
00:37:00,816 --> 00:37:01,686
check the shortcut that's


1083
00:37:01,686 --> 00:37:01,976
created.


1084
00:37:06,576 --> 00:37:08,466
Alright, I'm just going to go to


1085
00:37:08,466 --> 00:37:09,686
the same place as before.


1086
00:37:09,686 --> 00:37:10,856
I really like Gale Creator.


1087
00:37:11,726 --> 00:37:14,386
Okay, Browse, Mars, Gale


1088
00:37:14,386 --> 00:37:17,186
Creator, and let's not go for a


1089
00:37:17,186 --> 00:37:17,386
day.


1090
00:37:17,386 --> 00:37:20,716
We'll go -- Sure, that'll work.


1091
00:37:21,136 --> 00:37:22,286
Okay, this time I'm going to go


1092
00:37:22,286 --> 00:37:23,466
by myself because I want to


1093
00:37:23,466 --> 00:37:24,396
check the one case.


1094
00:37:25,516 --> 00:37:28,216
There. When I tap Book, that


1095
00:37:28,216 --> 00:37:30,326
actually created the shortcut


1096
00:37:30,326 --> 00:37:30,986
and donated it.


1097
00:37:31,406 --> 00:37:32,796
So now we can go look at it.


1098
00:37:33,236 --> 00:37:35,756
you can find these under


1099
00:37:35,896 --> 00:37:39,126
Settings, Siri & Search.


1100
00:37:39,516 --> 00:37:42,066
There. Book an expedition for


1101
00:37:42,066 --> 00:37:43,396
one person.


1102
00:37:45,516 --> 00:37:50,986
[ Applause ]


1103
00:37:51,486 --> 00:37:53,226
Alright, so this is great for


1104
00:37:53,226 --> 00:37:53,636
English.


1105
00:37:53,636 --> 00:37:54,156
I fixed it.


1106
00:37:54,256 --> 00:37:55,236
but I'm still going to need to


1107
00:37:55,236 --> 00:37:57,066
localize this into French.


1108
00:37:57,176 --> 00:37:58,646
And the great thing is, it's


1109
00:37:58,756 --> 00:38:00,296
just as easy as the first demo.


1110
00:38:00,296 --> 00:38:02,606
So we can go back to Xcode.


1111
00:38:03,646 --> 00:38:05,756
Alright. I'm going to make sure


1112
00:38:05,756 --> 00:38:07,196
I localize my stringsdict


1113
00:38:07,196 --> 00:38:08,316
because I didn't do that yet.


1114
00:38:08,506 --> 00:38:09,476
English, yes.


1115
00:38:10,136 --> 00:38:11,066
Check French.


1116
00:38:11,596 --> 00:38:12,866
Otherwise, it won't be exported.


1117
00:38:14,046 --> 00:38:15,846
Okay, so now I just select my


1118
00:38:15,846 --> 00:38:16,726
project again.


1119
00:38:17,716 --> 00:38:18,486
Go to Editor.


1120
00:38:19,266 --> 00:38:20,776
Export for Localization.


1121
00:38:21,616 --> 00:38:22,906
I'm going to call this vacation


1122
00:38:22,906 --> 00:38:25,046
plan loc2 since it's the second


1123
00:38:25,046 --> 00:38:26,386
round of localization.


1124
00:38:27,506 --> 00:38:28,896
Double check, yes, I'm doing


1125
00:38:28,896 --> 00:38:29,596
French again.


1126
00:38:30,276 --> 00:38:30,966
Click Save.


1127
00:38:31,976 --> 00:38:33,566
And now Xcode creates another


1128
00:38:33,566 --> 00:38:35,076
Xcode Localization Catalog.


1129
00:38:35,076 --> 00:38:37,766
So if we go look at it,


1130
00:38:42,556 --> 00:38:44,486
okay, let's check localized


1131
00:38:44,586 --> 00:38:45,176
contents.


1132
00:38:45,246 --> 00:38:47,776
If we look at the XLIFF, you can


1133
00:38:47,776 --> 00:38:50,126
see here highlighted in red are


1134
00:38:50,126 --> 00:38:51,626
all the new strings from the


1135
00:38:51,626 --> 00:38:54,576
intent definition but we also


1136
00:38:54,636 --> 00:38:56,066
have all the translations I


1137
00:38:56,066 --> 00:38:57,326
imported the first time.


1138
00:38:57,516 --> 00:38:59,116
So you can have an incremental


1139
00:38:59,116 --> 00:39:00,566
localization process where you


1140
00:39:00,566 --> 00:39:02,186
develop your apps sum, you get


1141
00:39:02,186 --> 00:39:03,546
that version localized, you make


1142
00:39:03,606 --> 00:39:05,796
some tweaks for version two, and


1143
00:39:05,796 --> 00:39:07,136
you don't lose anything when you


1144
00:39:07,136 --> 00:39:09,386
export for another round of


1145
00:39:09,386 --> 00:39:10,176
localization.


1146
00:39:10,706 --> 00:39:13,466
And this works for the


1147
00:39:13,466 --> 00:39:15,066
non-string resources as well.


1148
00:39:15,436 --> 00:39:16,926
So this will have the French


1149
00:39:16,926 --> 00:39:18,536
version of my image.


1150
00:39:19,896 --> 00:39:21,936
Great. So I can develop my app,


1151
00:39:22,226 --> 00:39:24,236
keep localizing, keep working


1152
00:39:24,296 --> 00:39:26,236
and it's all just as easy as the


1153
00:39:26,236 --> 00:39:29,056
first time and it covers both my


1154
00:39:29,056 --> 00:39:30,426
strings and my non-string


1155
00:39:30,426 --> 00:39:31,876
resources and my intent


1156
00:39:31,876 --> 00:39:33,366
definitions so that I can


1157
00:39:33,426 --> 00:39:34,786
suggest additional trips to


1158
00:39:34,786 --> 00:39:35,176
Mars.


1159
00:39:36,076 --> 00:39:37,736
Alright, so with that, I'm going


1160
00:39:37,736 --> 00:39:38,806
to turn it back over to Chris


1161
00:39:38,806 --> 00:39:40,976
for the last time to summarize.


1162
00:39:41,516 --> 00:39:46,500
[ Applause ]


1163
00:39:50,476 --> 00:39:52,136
>> Thank you again, Vivian.


1164
00:39:53,146 --> 00:39:54,066
Wow, that's really great.


1165
00:39:54,726 --> 00:39:55,716
I'm really looking forward to


1166
00:39:55,716 --> 00:39:56,316
those trips now.


1167
00:39:58,076 --> 00:40:00,806
So as you've seen, Xcode


1168
00:40:00,806 --> 00:40:02,856
Localization Catalogs are our


1169
00:40:02,856 --> 00:40:04,246
new standard in Xcode for


1170
00:40:04,246 --> 00:40:05,126
localization.


1171
00:40:05,636 --> 00:40:08,806
And these support all of the


1172
00:40:08,806 --> 00:40:11,686
localizable resources in your


1173
00:40:11,686 --> 00:40:13,946
project, not just the strings


1174
00:40:13,946 --> 00:40:14,966
based resources.


1175
00:40:15,376 --> 00:40:17,086
And they also provide


1176
00:40:17,316 --> 00:40:20,476
flexibility to provide context


1177
00:40:20,596 --> 00:40:22,186
to localizers, whether that's


1178
00:40:22,246 --> 00:40:23,596
putting in screenshots from your


1179
00:40:23,596 --> 00:40:26,036
tests or putting in readme files


1180
00:40:26,036 --> 00:40:27,646
or movies of the use of your


1181
00:40:27,646 --> 00:40:29,196
application, you can give your


1182
00:40:29,196 --> 00:40:30,986
localizers the context that they


1183
00:40:30,986 --> 00:40:33,796
need to ensure you get exactly


1184
00:40:33,796 --> 00:40:35,466
the right translations the first


1185
00:40:35,466 --> 00:40:35,786
time.


1186
00:40:36,926 --> 00:40:39,176
And you've also seen that Siri


1187
00:40:39,176 --> 00:40:41,546
Shortcuts are easy to localize


1188
00:40:41,616 --> 00:40:42,956
by localizing your intent


1189
00:40:42,996 --> 00:40:46,126
definition files, that these use


1190
00:40:46,126 --> 00:40:48,766
base localization with strings


1191
00:40:48,766 --> 00:40:51,676
files and that you can use


1192
00:40:51,676 --> 00:40:52,936
stringsdict files where


1193
00:40:52,936 --> 00:40:54,476
appropriate to handle things


1194
00:40:54,686 --> 00:40:56,666
like pluralization rules in a


1195
00:40:56,666 --> 00:41:01,026
variety of languages, and that


1196
00:41:01,026 --> 00:41:02,796
when you're creating an intent


1197
00:41:02,906 --> 00:41:05,236
to donate in code, you can use


1198
00:41:05,286 --> 00:41:06,926
deferred localized intent


1199
00:41:06,926 --> 00:41:09,116
strings to ensure that a


1200
00:41:09,116 --> 00:41:10,986
shortcut that's created from


1201
00:41:10,986 --> 00:41:13,986
that donated intent is localized


1202
00:41:13,986 --> 00:41:15,506
at the time that it's displayed


1203
00:41:15,506 --> 00:41:17,196
to the user, rather than at the


1204
00:41:17,196 --> 00:41:18,966
point where you donated it.


1205
00:41:19,496 --> 00:41:21,766
For more information, you can


1206
00:41:21,766 --> 00:41:23,866
see our session page on the WWDC


1207
00:41:23,936 --> 00:41:24,646
website.


1208
00:41:26,476 --> 00:41:28,166
Thank you again so much for


1209
00:41:28,166 --> 00:41:29,796
coming and I hope you continue


1210
00:41:29,796 --> 00:41:31,966
to have a great WWDC.


1211
00:41:32,516 --> 00:41:40,820
[ Applause ]

