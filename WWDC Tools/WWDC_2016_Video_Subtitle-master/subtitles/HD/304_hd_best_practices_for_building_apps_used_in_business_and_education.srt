1
00:00:07,516 --> 00:00:18,500
[ Music ]


2
00:00:26,246 --> 00:00:27,236
>> Good afternoon.


3
00:00:27,866 --> 00:00:29,056
My name is David O'Rourke.


4
00:00:29,446 --> 00:00:29,856
Thank you


5
00:00:30,991 --> 00:00:32,991
[ Applause ]


6
00:00:33,006 --> 00:00:35,176
I think we're at the midpoint
of the conference this week.


7
00:00:35,176 --> 00:00:36,106
How's it going for everyone?


8
00:00:36,956 --> 00:00:37,836
Been worth your time?


9
00:00:37,906 --> 00:00:40,936
I was told something just
before coming on stage


10
00:00:40,936 --> 00:00:42,206
so that there was no pressure.


11
00:00:42,656 --> 00:00:44,386
But apparently you've
all hit favorite


12
00:00:44,426 --> 00:00:46,506
on this presentation
a bit too much.


13
00:00:47,236 --> 00:00:51,416
And so thank you for that,
I hope it's worth your time,


14
00:00:51,416 --> 00:00:52,636
and I think it is
because we put a lot


15
00:00:52,636 --> 00:00:53,356
of work putting this together.


16
00:00:53,606 --> 00:00:55,826
I want to set some expectations
for this presentation.


17
00:00:56,056 --> 00:00:57,596
We will be going
over best practices.


18
00:00:58,006 --> 00:00:59,456
This is going to
be an easy session


19
00:00:59,456 --> 00:01:00,526
for you guys to listen to.


20
00:01:00,526 --> 00:01:02,046
You can put your laptops
down, there's not going


21
00:01:02,046 --> 00:01:02,976
to be a lot of sample code.


22
00:01:03,566 --> 00:01:06,276
This session is to inspire
you as to where to invest


23
00:01:06,776 --> 00:01:09,246
in your future app so that you
can improve the marketability


24
00:01:09,246 --> 00:01:10,796
and approachability
of your application


25
00:01:10,796 --> 00:01:12,176
for as many markets as possible.


26
00:01:12,626 --> 00:01:13,886
The two markets we're focusing


27
00:01:13,886 --> 00:01:16,156
on for this presentation will
be business and education.


28
00:01:16,616 --> 00:01:18,436
So spoiler, there's
going to be a lot


29
00:01:18,436 --> 00:01:19,986
of us going over Shared iPad.


30
00:01:21,046 --> 00:01:23,296
So let's get started,
we'll go into the agenda.


31
00:01:23,376 --> 00:01:26,416
We're going to talk about
modern app design practices,


32
00:01:26,416 --> 00:01:29,036
what some sorts of things
customers can be looking for.


33
00:01:30,236 --> 00:01:32,136
We're then going to branch


34
00:01:32,136 --> 00:01:34,706
out to a quick overview
of the Shared iPad.


35
00:01:34,706 --> 00:01:36,086
How does it work
behind the scenes?


36
00:01:36,086 --> 00:01:37,756
What affect does this
have on your app?


37
00:01:37,756 --> 00:01:39,406
What technologies do
you need to adopt?


38
00:01:39,536 --> 00:01:42,316
That's my third bullet.


39
00:01:42,796 --> 00:01:45,876
And there are some
specific technologies


40
00:01:45,876 --> 00:01:48,016
that we'll be recommending,
and fortunately for you many


41
00:01:48,016 --> 00:01:50,896
of those technologies have been
gone over after this session


42
00:01:50,896 --> 00:01:53,096
or later in the week, so you
can come out of this talk


43
00:01:53,406 --> 00:01:55,586
and go directly in to
hearing the gory details


44
00:01:55,746 --> 00:01:57,616
if you're inspired
to modify your app.


45
00:01:58,356 --> 00:01:59,606
And there's some
new opportunities


46
00:01:59,606 --> 00:02:01,246
to enhance your app, one
that I'm particularly excited


47
00:02:01,246 --> 00:02:02,596
about at the end of
the presentation,


48
00:02:03,066 --> 00:02:05,586
and I think you will be
too because it will again,


49
00:02:05,846 --> 00:02:07,896
offer you a greater opportunity
for your app to be used


50
00:02:07,896 --> 00:02:09,066
in ways you never anticipated.


51
00:02:10,126 --> 00:02:12,366
So let's talk about
modernizing your application.


52
00:02:13,046 --> 00:02:15,846
This is kind of a bedrock
expectation for customers.


53
00:02:16,126 --> 00:02:19,016
We talked to a lot of customers,
they give us a lot of feedback.


54
00:02:19,016 --> 00:02:20,756
It's really strange
when they come up to us


55
00:02:20,756 --> 00:02:21,926
and say why doesn't such


56
00:02:21,926 --> 00:02:24,436
and such an app use
this Apple technology?


57
00:02:24,536 --> 00:02:27,466
So I just want, this is not a
deep insight, but I just want


58
00:02:27,466 --> 00:02:29,566
to remind you guys, you
need to stay current,


59
00:02:29,566 --> 00:02:31,566
you need to stay fresh because
the customers are downloading


60
00:02:31,566 --> 00:02:33,486
other apps from other developers
that have that technology


61
00:02:33,486 --> 00:02:35,316
and then it kind of
provides a discontinuity


62
00:02:35,826 --> 00:02:38,946
or a bad comparison if your
app isn't using the latest


63
00:02:38,946 --> 00:02:39,916
and greatest that Apple offer.


64
00:02:39,946 --> 00:02:42,526
I don't think I need to speak
to any of the developers


65
00:02:42,526 --> 00:02:44,596
in the room, that's why
you're all here a WWDC to find


66
00:02:44,596 --> 00:02:47,376
out what's new, but as a
general ecosystem issue,


67
00:02:47,646 --> 00:02:50,746
staying current has benefits
for you and your customers


68
00:02:50,746 --> 00:02:54,106
and is an expectation
of your customers.


69
00:02:54,106 --> 00:02:57,526
So some example technologies,
by no means the complete list


70
00:02:57,526 --> 00:02:59,006
of technologies that
you could adopt.


71
00:02:59,636 --> 00:03:03,686
Auto Layout, this is still a
relatively new technology it's


72
00:03:03,686 --> 00:03:05,446
been in several iOS
releases now.


73
00:03:05,446 --> 00:03:08,076
But this really helps you
produce a universal app binary


74
00:03:08,076 --> 00:03:13,146
that can work on an iPhone and
an iPad and it helps with a lot


75
00:03:13,146 --> 00:03:16,386
of layout rotation just a whole
bunch of things get taken care


76
00:03:16,386 --> 00:03:18,266
of for you by Auto Layout
if you invest the time.


77
00:03:18,516 --> 00:03:20,356
It even helps with
left to right.


78
00:03:20,816 --> 00:03:23,306
I used to manage contacts
for the desktop and we moved


79
00:03:23,306 --> 00:03:25,656
to Auto Layout and we got
left to right to free,


80
00:03:25,656 --> 00:03:28,236
which was a longstanding,
or right to left,


81
00:03:28,236 --> 00:03:30,206
or the different language
directions for free,


82
00:03:30,206 --> 00:03:32,746
which was a longstanding request
for the desktop contacts app.


83
00:03:32,746 --> 00:03:34,826
So, auto layout has helped
us, it's helped us internally,


84
00:03:35,046 --> 00:03:35,976
it will help you guys.


85
00:03:36,676 --> 00:03:37,996
Accessibility.


86
00:03:38,136 --> 00:03:39,286
I was actually talking


87
00:03:39,286 --> 00:03:40,816
with a former co-worker
just before lunch,


88
00:03:42,516 --> 00:03:44,766
make sure you have accessibility
in your application.


89
00:03:45,106 --> 00:03:48,306
This helps people that couldn't
otherwise use your application.


90
00:03:48,306 --> 00:03:50,186
And they get quite
emotional when they can see


91
00:03:50,186 --> 00:03:53,396
that they can finally use an
app because you're offering apps


92
00:03:53,426 --> 00:03:55,406
to a person that may not
have been able to do anything


93
00:03:55,406 --> 00:03:56,526
with it prior to doing this.


94
00:03:56,526 --> 00:03:58,686
There's some excellent
accessibility labs later this


95
00:03:58,686 --> 00:04:00,306
week if you'd like
to look into it.


96
00:04:01,256 --> 00:04:06,026
Swift. This is the newest
most secure, fastest runtime.


97
00:04:06,416 --> 00:04:09,526
If you aren't looking at Swift,
looking how to adopt Swift,


98
00:04:09,526 --> 00:04:11,436
go to the Swift labs this week.


99
00:04:11,436 --> 00:04:12,256
I think you'll be impressed.


100
00:04:12,256 --> 00:04:14,286
I'm impressed with the
language, it's truly stunning.


101
00:04:14,836 --> 00:04:18,196
I shouldn't have to tell
this audience to adopt Swift,


102
00:04:18,196 --> 00:04:20,745
but it's again another
newer technology


103
00:04:20,745 --> 00:04:22,386
that you should really be
looking at investing in.


104
00:04:23,176 --> 00:04:25,406
AirPlay, particularly
in the education


105
00:04:25,406 --> 00:04:27,086
and business environment,
conference rooms,


106
00:04:27,086 --> 00:04:28,516
big screens behind
the presenter.


107
00:04:28,876 --> 00:04:30,256
People want to share content.


108
00:04:30,746 --> 00:04:32,396
If there's room for
your application


109
00:04:32,396 --> 00:04:34,576
to directly adopt
AirPlay, do so.


110
00:04:34,946 --> 00:04:39,436
If you can just make your app
look more interesting when it's


111
00:04:39,436 --> 00:04:41,736
on AirPlay, maybe being able to
hide certain onscreen elements


112
00:04:41,736 --> 00:04:43,646
when you're sharing
to a conference room.


113
00:04:43,696 --> 00:04:47,776
Thinking about AirPlay as, or
a big screen as a destination


114
00:04:47,776 --> 00:04:49,516
for your application,
you might want


115
00:04:49,516 --> 00:04:52,356
to modify the UI a
little bit or have a mode


116
00:04:52,356 --> 00:04:53,676
that the user can
put something into.


117
00:04:53,676 --> 00:04:55,376
Or you just directly
project AirPlay.


118
00:04:56,656 --> 00:04:58,826
And finally 3D Touch.


119
00:04:58,826 --> 00:05:01,806
This is perhaps the newest
technology, newest hardware.


120
00:05:01,806 --> 00:05:03,836
A lot of opportunity
to accelerate.


121
00:05:03,836 --> 00:05:05,826
I use my 3D Touch
on a daily basis.


122
00:05:05,826 --> 00:05:07,976
It really has made the
OS quicker, snappier.


123
00:05:08,206 --> 00:05:10,186
And whenever I run into
an app, I push hard,


124
00:05:10,186 --> 00:05:12,476
and there isn't you
know anything happening


125
00:05:12,476 --> 00:05:16,346
when I push hard it's a bit
of a discontinuity and it kind


126
00:05:16,346 --> 00:05:17,306
of throws me off my rhythm.


127
00:05:17,636 --> 00:05:18,626
So look into that.


128
00:05:18,626 --> 00:05:20,506
Again, I want to emphasize,
these are not the complete set


129
00:05:20,506 --> 00:05:22,956
of technologies, these are
just some examples of some


130
00:05:22,956 --> 00:05:26,316
of the newest technologies that
some apps may be lagging behind


131
00:05:26,316 --> 00:05:29,476
and this will impact
your ability to market


132
00:05:29,476 --> 00:05:31,356
and sell your app into
business and education.


133
00:05:32,586 --> 00:05:36,746
So let's talk about a feature
that I have a lot to do with


134
00:05:36,746 --> 00:05:38,736
and actually was able to with
a fabulous team putting it


135
00:05:38,736 --> 00:05:41,516
together iOS 9.3
introduced the Shared iPad.


136
00:05:41,826 --> 00:05:44,536
This is a huge game changer
for you as developers


137
00:05:45,236 --> 00:05:47,936
and for education in
that we can deploy iPad,


138
00:05:47,996 --> 00:05:50,386
the best mobile platform,
into schools


139
00:05:50,456 --> 00:05:53,006
and they can now have
multiple students share


140
00:05:53,006 --> 00:05:56,076
and iPad throughout the day
and for different classes.


141
00:05:56,416 --> 00:06:00,426
This offers a huge market for
the developers in the audience,


142
00:06:00,476 --> 00:06:02,486
because if you can make
your app work better


143
00:06:02,486 --> 00:06:03,546
in a Shared iPad
environment, you're going


144
00:06:03,546 --> 00:06:06,596
to have schools licensing
your app in quantities


145
00:06:06,716 --> 00:06:08,626
that had previously been
inconceivable to you.


146
00:06:09,706 --> 00:06:11,316
So let's talk about Shared iPad.


147
00:06:11,316 --> 00:06:14,226
It's introduced with iOS
9.3, it obviously continues


148
00:06:14,226 --> 00:06:15,416
to be supported with iOS 10.


149
00:06:16,136 --> 00:06:20,206
And the major goals was to
allow schools to buy a cart,


150
00:06:20,206 --> 00:06:22,416
how many people have
seen iPad cart?


151
00:06:23,896 --> 00:06:24,766
They're kind of cool.


152
00:06:24,766 --> 00:06:27,186
I saw one for the first
time about 18 months ago.


153
00:06:27,426 --> 00:06:30,296
They load 60 iPads into a little
cart, they roll it into a room


154
00:06:30,296 --> 00:06:31,816
and the students pull the
iPad out, they use it,


155
00:06:31,816 --> 00:06:35,236
they put it back and then the
cart rolls to a different room.


156
00:06:36,066 --> 00:06:38,296
A feature that was missing
until iOS 9.3 was the ability


157
00:06:38,296 --> 00:06:40,196
for the students to have
a personalized experience


158
00:06:40,196 --> 00:06:41,206
on each one of those iPads.


159
00:06:41,656 --> 00:06:43,376
With Shared iPad they
can now have that


160
00:06:43,376 --> 00:06:44,736
and that makes the cart
much more effective.


161
00:06:44,736 --> 00:06:46,486
Lots of schools buy
fewer pieces of hardware


162
00:06:46,486 --> 00:06:48,046
and spend more money
on the software.


163
00:06:48,746 --> 00:06:51,496
I want to repeat that
they can spend more money


164
00:06:52,096 --> 00:06:55,166
on your software because
they're buying fewer pieces


165
00:06:55,166 --> 00:06:55,956
of hardware from us [applause].


166
00:06:57,156 --> 00:07:02,546
So, the way you log in is
using a new Apple ID called a


167
00:07:02,546 --> 00:07:03,026
managed ID.


168
00:07:03,026 --> 00:07:04,526
This is Managed by the school.


169
00:07:04,846 --> 00:07:07,406
They set their own user
list, they bind devices


170
00:07:07,406 --> 00:07:08,186
to their organizations.


171
00:07:08,186 --> 00:07:10,616
And only their accounts
can log onto the iPads.


172
00:07:10,616 --> 00:07:11,406
It's really cool.


173
00:07:11,766 --> 00:07:14,096
If you didn't go to Todd's
session before my session,


174
00:07:14,096 --> 00:07:16,406
I recommend you review
it with the video source.


175
00:07:16,716 --> 00:07:19,006
He talks a lot more
about Managed Apple IDs.


176
00:07:20,176 --> 00:07:22,986
And finally, and
probably the thrust


177
00:07:22,986 --> 00:07:27,426
of this presentation is a Shared
iPad use environment requires


178
00:07:27,426 --> 00:07:29,376
the data be a Cloud.


179
00:07:29,376 --> 00:07:31,656
So we've got the cart,
everyone understand the cart?


180
00:07:32,486 --> 00:07:34,496
Student rolls the
cart in on Monday,


181
00:07:34,496 --> 00:07:35,986
pulls out an iPad, they use it.


182
00:07:37,336 --> 00:07:38,606
Well Tuesday when the cart pulls


183
00:07:38,606 --> 00:07:40,156
in they may not pull
out the same iPad.


184
00:07:40,966 --> 00:07:43,436
If their data's not
been pushed to the Cloud


185
00:07:43,436 --> 00:07:45,896
by your application, they won't
have the experience they had


186
00:07:45,896 --> 00:07:46,466
on Monday.


187
00:07:46,746 --> 00:07:48,576
They'll have a new iPad
experience on Tuesday


188
00:07:48,576 --> 00:07:49,556
and that will depress them.


189
00:07:49,806 --> 00:07:51,326
So we're going to talk a lot


190
00:07:51,326 --> 00:07:53,196
about what technologies
Apple offers


191
00:07:53,276 --> 00:07:54,566
and how Shared iPad works.


192
00:07:55,646 --> 00:07:57,666
So first of all let me
give you a quick overview.


193
00:07:57,666 --> 00:07:59,646
Again, I recommend you
review Todd's session.


194
00:07:59,646 --> 00:08:00,726
There was a live demo of this.


195
00:08:00,726 --> 00:08:03,086
I have some static slides
showing what a login looks like.


196
00:08:03,326 --> 00:08:05,816
So a student pulls an
iPad out of the cart,


197
00:08:05,816 --> 00:08:08,606
they see their grade, the
student that I'm going


198
00:08:08,606 --> 00:08:11,236
to be demonstrating is
Mia, she's a fourth over,


199
00:08:11,836 --> 00:08:13,196
fourth row down on the bottom.


200
00:08:13,396 --> 00:08:16,576
Spent a lot of time with Mia
the past few weeks putting these


201
00:08:16,576 --> 00:08:17,186
slides together.


202
00:08:17,186 --> 00:08:22,256
So Mia taps on her picture,
Mia provides her passcode.


203
00:08:23,146 --> 00:08:25,536
After she's satisfied that she
entered the correct passcode,


204
00:08:25,536 --> 00:08:27,786
the iPad gets ready for her.


205
00:08:27,966 --> 00:08:30,276
If she's used this iPad
before this screen is up there


206
00:08:30,276 --> 00:08:31,616
for a far shorter
period of time.


207
00:08:31,616 --> 00:08:33,166
If she's going to use the
iPad for the first time,


208
00:08:33,616 --> 00:08:35,626
this might take a little
longer as it downloads data


209
00:08:35,626 --> 00:08:36,816
from the cloud to get her ready.


210
00:08:37,876 --> 00:08:40,186
When it's done downloading
data form the Cloud,


211
00:08:40,186 --> 00:08:42,775
or the initial setup
data, Mia uses the iPad


212
00:08:42,775 --> 00:08:44,025
for the entire class session.


213
00:08:44,025 --> 00:08:47,136
She uses Pages, she uses Garage
Band, and she works with it


214
00:08:47,136 --> 00:08:49,106
as her iPad for the
entire session.


215
00:08:49,706 --> 00:08:53,136
When Mia's done, Mia logs out.


216
00:08:54,076 --> 00:08:56,846
This is the opportunity that
the iPad has to push the data


217
00:08:56,846 --> 00:08:58,986
up to the Cloud for any data
that wasn't being pushed


218
00:08:58,986 --> 00:09:00,306
to the Cloud during the session.


219
00:09:00,826 --> 00:09:02,286
And so we're going
to talk a little bit


220
00:09:02,286 --> 00:09:05,096
about what technologies
Apple offers to do that.


221
00:09:05,436 --> 00:09:08,606
So, all of Mia's data has to be
in the Cloud for this to work.


222
00:09:09,616 --> 00:09:13,076
Mia's using a different iPad
possibly from class to class.


223
00:09:13,686 --> 00:09:15,556
My kids have six periods a day.


224
00:09:15,556 --> 00:09:17,456
They might start in
science then go to math.


225
00:09:17,986 --> 00:09:20,386
There might be a different cart
in each one of those classes


226
00:09:20,386 --> 00:09:23,236
and so therefore their data
has to be in the cloud for each


227
00:09:23,286 --> 00:09:24,376
of those iPads to be useful.


228
00:09:25,096 --> 00:09:28,866
Even if they use the same
iPad throughout the course


229
00:09:28,866 --> 00:09:30,856
of the day, or throughout
the course of a week,


230
00:09:31,326 --> 00:09:33,496
the data may be purged by
the iPad because it may need


231
00:09:33,496 --> 00:09:36,856
to expunge users from the iPad
to make room for new users


232
00:09:36,856 --> 00:09:38,316
to log in throughout
the course of the week.


233
00:09:39,246 --> 00:09:43,266
So, iOS provides four core
technologies that I'll be going


234
00:09:43,266 --> 00:09:45,306
over later that you can
adopt, and be telling you


235
00:09:45,306 --> 00:09:47,436
about a fifth technology
that you should be adopting


236
00:09:47,436 --> 00:09:50,046
if you don't use any of
the iOS Cloud technologies.


237
00:09:50,546 --> 00:09:54,966
But let's go over first a
review of the iPad expectations.


238
00:09:56,106 --> 00:09:59,266
So, I get a lot of questions
about this from engineers,


239
00:09:59,266 --> 00:10:01,166
both internally and
here at the conference,


240
00:10:01,166 --> 00:10:01,976
we've been talking to people.


241
00:10:02,146 --> 00:10:03,336
So what is Shared iPad?


242
00:10:03,766 --> 00:10:05,656
Plain and simple,
it's a user switching.


243
00:10:06,136 --> 00:10:08,956
So we are not allowing
multiple users to be logged


244
00:10:08,956 --> 00:10:10,916
onto the iPad simultaneously.


245
00:10:11,166 --> 00:10:13,586
There's only one active user
session at any given time.


246
00:10:13,586 --> 00:10:17,276
For user to log into the
iPad another user has


247
00:10:17,276 --> 00:10:19,176
to log out of the iPad.


248
00:10:19,776 --> 00:10:21,496
So it's really user switching.


249
00:10:22,996 --> 00:10:25,576
What do you as an
app developer see?


250
00:10:26,006 --> 00:10:27,536
You see a single use device.


251
00:10:27,536 --> 00:10:29,846
You do not know you're in
a Shared iPad environment,


252
00:10:29,846 --> 00:10:31,776
you don't need to know you're
in a Shared iPad environment.


253
00:10:31,776 --> 00:10:34,736
Nothing has really changed for
you as an application developer.


254
00:10:35,156 --> 00:10:37,066
You don't need to participate
in this, you don't need


255
00:10:37,066 --> 00:10:37,966
to do anything custom,


256
00:10:37,966 --> 00:10:39,506
other than move your
data into the Cloud.


257
00:10:40,076 --> 00:10:43,566
Signing out is the
moral equivalent


258
00:10:43,956 --> 00:10:45,326
of powering the iPad down.


259
00:10:45,326 --> 00:10:47,776
So your app has shut down, it's
not running in the foreground.


260
00:10:48,006 --> 00:10:50,636
It's just like a
non-shared use iPad


261
00:10:51,006 --> 00:10:52,686
when the user turns
the iPad off.


262
00:10:53,146 --> 00:10:57,016
So if your app works well
between power cycles,


263
00:10:57,566 --> 00:10:59,396
your app will work well in
a Shared iPad environment


264
00:10:59,396 --> 00:11:02,406
as users log in and log out.


265
00:11:03,276 --> 00:11:06,626
User data is cached
on the device.


266
00:11:06,626 --> 00:11:08,776
Internally we started
educating people,


267
00:11:09,246 --> 00:11:11,366
it's like volatile
cache, it's not volatile


268
00:11:11,366 --> 00:11:12,896
when the user's logged
in, it's volatile


269
00:11:12,896 --> 00:11:14,286
after the user's logged out.


270
00:11:14,546 --> 00:11:17,506
So the data may be expunged
off the iPad at any given time,


271
00:11:18,016 --> 00:11:20,556
but while you're logged
in it's a single use iPad.


272
00:11:20,626 --> 00:11:21,846
The data's not going
to disappear


273
00:11:21,846 --> 00:11:22,636
out from underneath you.


274
00:11:22,986 --> 00:11:25,346
And caching has some obvious
benefits for performance.


275
00:11:25,616 --> 00:11:27,586
It works for offline,
these iPads we expect


276
00:11:27,586 --> 00:11:28,806
to be taken on field trips.


277
00:11:29,406 --> 00:11:33,456
And the data will be purged by
iOS when iOS deems it necessary.


278
00:11:34,786 --> 00:11:38,736
So we want you to move your
data to the Cloud so that Mia


279
00:11:38,926 --> 00:11:40,716
as she's visiting different
iPads throughout the course


280
00:11:40,716 --> 00:11:42,966
of the day and different iPads
during the course of the week


281
00:11:42,966 --> 00:11:45,016
and the school year has
a consistent experience


282
00:11:45,686 --> 00:11:47,236
on all the different devices.


283
00:11:47,616 --> 00:11:52,156
The iCloud technologies
that we make available,


284
00:11:52,156 --> 00:11:54,636
or some of the four key
technologies we make available


285
00:11:54,636 --> 00:12:00,706
are CloudKit, iCloud Drive
NSUbiquitousKeyStore, KeyChain.


286
00:12:01,336 --> 00:12:03,806
And as an adjunct NSURLSession.


287
00:12:03,806 --> 00:12:04,886
We'll talk about why that's


288
00:12:04,886 --> 00:12:06,806
on the list here later
in the presentation.


289
00:12:09,006 --> 00:12:12,836
So, you're convinced, there's
a huge market for Shared iPad,


290
00:12:12,916 --> 00:12:14,966
when should I flush my
data, when should I do the,


291
00:12:15,186 --> 00:12:17,996
well the goal is for
you to flush the data


292
00:12:17,996 --> 00:12:20,266
to the Cloud while your app
is still in the foreground.


293
00:12:20,266 --> 00:12:22,626
So as Mia's making changes,
you're writing changes


294
00:12:22,626 --> 00:12:24,626
to the CloudKit, okay you're
updating your Cloud document,


295
00:12:24,626 --> 00:12:26,636
you're doing whatever's
appropriate for that.


296
00:12:27,336 --> 00:12:29,926
You can sync data
during log out,


297
00:12:30,056 --> 00:12:32,756
and you should sync data before
you receive the application will


298
00:12:32,756 --> 00:12:33,916
resign active event.


299
00:12:34,506 --> 00:12:38,626
But, generally we don't want
to put all the data syncing


300
00:12:39,366 --> 00:12:41,716
up on the logout, it will
take the logout too long.


301
00:12:41,716 --> 00:12:44,636
So you should be syncing
while your app's up to date.


302
00:12:44,636 --> 00:12:46,976
You shouldn't be batching
this up to do it later


303
00:12:46,976 --> 00:12:49,196
because you may not get
later if Mia logs out.


304
00:12:49,846 --> 00:12:53,156
There is, if you adopt the
iOS technologies for CloudKit,


305
00:12:53,156 --> 00:12:55,136
Cloud Drive,
NSUbiquitousKeyStore, KeyChain,


306
00:12:55,716 --> 00:12:58,616
Mia's data can be synced even
when Mia's not logged in.


307
00:12:59,236 --> 00:13:03,696
But, we prefer her to exit
clean with no dirty data.


308
00:13:06,696 --> 00:13:08,536
So let's talk a little
bit about CloudKit.


309
00:13:08,666 --> 00:13:11,686
CloudKit was introduced
in I believe iOS 8,


310
00:13:11,726 --> 00:13:12,606
correct me if I'm wrong.


311
00:13:13,416 --> 00:13:16,236
You can sync data, it's
taken care of automatically


312
00:13:16,806 --> 00:13:19,326
and something that's very
important that you adopt,


313
00:13:19,326 --> 00:13:21,896
if you adopt CloudKit
is LongLivedOperations.


314
00:13:22,326 --> 00:13:25,596
These are a subclass
of CKOperation Classes.


315
00:13:25,786 --> 00:13:30,356
The link to the developer
documentation is on screen.


316
00:13:30,356 --> 00:13:32,006
This is important
if you want CloudKit


317
00:13:32,006 --> 00:13:34,216
to sync your data while the
app is not in foreground.


318
00:13:34,596 --> 00:13:36,716
Now, we 've had this feature
and this wasn't unique


319
00:13:36,746 --> 00:13:41,446
to Shared iPad, but we've
leveraged this feature


320
00:13:41,576 --> 00:13:44,176
to also be the mechanism
by which we sync data


321
00:13:44,176 --> 00:13:46,126
when Mia's no longer
logged onto the device.


322
00:13:46,606 --> 00:13:48,566
So if you most your
CloudKit documents


323
00:13:48,566 --> 00:13:52,156
onto LongLivedOperations,
you can get your data


324
00:13:52,156 --> 00:13:54,956
to sync using CloudKit even
when your app's not running,


325
00:13:54,956 --> 00:13:57,706
or in the foreground, or even
when Mia's no longer logged in.


326
00:13:57,976 --> 00:14:01,716
So, if you're going to adopt
CloudKit and you're going


327
00:14:01,716 --> 00:14:04,366
to use CloudKit, I highly
recommend you invest and work


328
00:14:04,366 --> 00:14:06,016
with the CloudKit engineers
while you're here this week,


329
00:14:06,226 --> 00:14:07,836
to understand
LongLivedOperations,


330
00:14:08,046 --> 00:14:11,706
adopt LongLivedOperations, and
make your application compatible


331
00:14:11,706 --> 00:14:13,496
with LongLivedOperations.


332
00:14:14,436 --> 00:14:17,236
Cloud Documents is perhaps
the easiest API to adopt,


333
00:14:17,236 --> 00:14:20,616
for document-based applications
like Keynote or Pages.


334
00:14:20,616 --> 00:14:21,956
There's very little
you need to do,


335
00:14:21,956 --> 00:14:24,116
every managed IP
has an iCloud drive.


336
00:14:24,586 --> 00:14:26,186
iCloud drives automatically
sync.


337
00:14:26,606 --> 00:14:29,006
If you are already a
document based application,


338
00:14:29,146 --> 00:14:31,156
you're good to go for education,


339
00:14:31,156 --> 00:14:32,616
you've done everything
you need to do.


340
00:14:32,966 --> 00:14:36,176
And Mia will have all of your
documents for your app available


341
00:14:36,176 --> 00:14:37,686
on every device that she visits.


342
00:14:38,026 --> 00:14:39,206
So it's simple and easy.


343
00:14:39,466 --> 00:14:41,536
If you're a document-based
application this is the


344
00:14:41,536 --> 00:14:42,506
preferred way to go.


345
00:14:44,606 --> 00:14:46,506
Both of these texts
are sync on demand.


346
00:14:46,506 --> 00:14:48,396
And this is really,
really important.


347
00:14:48,396 --> 00:14:51,856
Mia could have several
gigabytes worth of data stored


348
00:14:51,856 --> 00:14:54,236
in CloudKit, but she
will only page the data


349
00:14:54,236 --> 00:14:56,406
onto the device that
she accesses.


350
00:14:56,906 --> 00:15:00,426
So the device does not have
to download all 2 gigabytes


351
00:15:00,426 --> 00:15:03,106
of Mia's Cloud data in order
for her to use your app,


352
00:15:03,106 --> 00:15:05,716
if your app's only accessing
a few megabytes' worth of data


353
00:15:05,716 --> 00:15:06,546
that you stored in Cloud data,


354
00:15:06,756 --> 00:15:09,016
only your app data would
be pulled onto the device


355
00:15:09,016 --> 00:15:11,076
when your app is launched on
that device for the first time.


356
00:15:11,166 --> 00:15:14,666
So it's very efficient, and if
you think about this at scale,


357
00:15:14,846 --> 00:15:17,846
average US classroom has
30 to 40 students in it,


358
00:15:17,846 --> 00:15:20,206
you've got 30 iPads
all fetching data.


359
00:15:20,206 --> 00:15:23,256
If they all fetch the full 2
gigabytes when they logged on,


360
00:15:23,666 --> 00:15:24,746
it would be relatively hard


361
00:15:24,746 --> 00:15:26,716
for most schools' network
connections to handle that.


362
00:15:27,226 --> 00:15:30,126
So these are the best
[inaudible] technologies,


363
00:15:30,126 --> 00:15:33,346
they only cache the data you
use, the data stored locally.


364
00:15:33,676 --> 00:15:36,116
They're really, really
world-class Cloud technologies


365
00:15:36,116 --> 00:15:38,136
that you can integrate into
your app and get your app


366
00:15:38,176 --> 00:15:40,076
into these important markets.


367
00:15:41,256 --> 00:15:44,446
And CloudKit is suitable
for large datasets.


368
00:15:44,776 --> 00:15:47,246
I don't know what the
definition of large is,


369
00:15:47,246 --> 00:15:49,356
I would recommend you work
with the CloudKit folks to find


370
00:15:49,356 --> 00:15:50,476
out if your dataset's too large.


371
00:15:50,476 --> 00:15:53,706
I don't think they recommend it
for use of iMovie, but maybe.


372
00:15:54,036 --> 00:15:56,886
Maybe for smaller
datasets it would be fine.


373
00:15:57,426 --> 00:16:01,036
I specifically got this quote
from the CloudKit lead engineer,


374
00:16:01,826 --> 00:16:03,986
this is in contrast to
the next technology that's


375
00:16:03,986 --> 00:16:06,756
on the next slide, which is
NSUbiquitousKeyValueStore,


376
00:16:07,156 --> 00:16:08,956
which is meant for
smaller datasets.


377
00:16:08,956 --> 00:16:10,076
So I don't think you need to,


378
00:16:10,076 --> 00:16:12,066
unless you're doing a
video editing application,


379
00:16:12,066 --> 00:16:13,436
I don't think you need
to worry about the size


380
00:16:13,436 --> 00:16:15,386
of the dataset you're
putting in the CloudKit.


381
00:16:15,686 --> 00:16:17,826
That doesn't mean
that you can run amuck


382
00:16:17,826 --> 00:16:20,006
and do really silly
things for performance,


383
00:16:20,636 --> 00:16:23,576
but most applications that
are going to store data


384
00:16:23,666 --> 00:16:26,926
that are reasonable, CloudKits
are perfectly suitable for that.


385
00:16:27,456 --> 00:16:30,076
Let's talk about
NSUbiquitousKeyValueStore.


386
00:16:30,576 --> 00:16:32,426
To use this requires
an entitlement.


387
00:16:33,136 --> 00:16:35,416
It's a drop-in replacement
for NSUser default.


388
00:16:35,416 --> 00:16:37,836
So if you're already
using NSUser defaults,


389
00:16:38,426 --> 00:16:40,476
you're already good to go, it
should be fairly easy for you


390
00:16:40,476 --> 00:16:42,006
to transition to
NSUbiquitousKeyValueStore.


391
00:16:42,006 --> 00:16:44,326
And NSUbiquitousKeyValueStore
the data is stored in the Cloud,


392
00:16:44,326 --> 00:16:46,346
so your app launches, it
stores key values pairs


393
00:16:46,346 --> 00:16:49,856
in the NSUbiquitousKeyStore,
your app quits, it relaunches,


394
00:16:49,856 --> 00:16:51,066
it gets the data
back from Cloud.


395
00:16:51,096 --> 00:16:53,896
Your app on a different
device will get the same,


396
00:16:54,786 --> 00:16:56,826
essentially NSUser
default package


397
00:16:56,826 --> 00:16:58,296
when it launches on
the other device.


398
00:16:58,296 --> 00:17:02,326
It's modelled on
NSDictionary and again talking


399
00:17:02,326 --> 00:17:04,296
to the CloudKit engineering
team,


400
00:17:04,596 --> 00:17:06,366
who originally did
NSUbiquitousKeyStore,


401
00:17:06,366 --> 00:17:09,356
moved on to CloudKit,
smaller payload only please.


402
00:17:09,356 --> 00:17:11,185
This data is not
fetch on demand,


403
00:17:11,185 --> 00:17:12,316
it is fetched during log in.


404
00:17:12,876 --> 00:17:16,195
And we just really
anticipate this


405
00:17:16,195 --> 00:17:19,276
for some lighter weight datasets
used within your application


406
00:17:19,276 --> 00:17:21,256
that are more appropriate
for an NSDictionary.


407
00:17:21,256 --> 00:17:22,656
If you put it in
a NSDisctionary,


408
00:17:22,656 --> 00:17:24,026
put it in an
NSUbiquitousKeyStore,


409
00:17:24,026 --> 00:17:26,806
if it's too big to put it into
an NSDictionary, you might want


410
00:17:26,806 --> 00:17:27,626
to put it into CloudKit.


411
00:17:28,996 --> 00:17:32,206
So, as I mentioned data fetch
is part of the account sign on.


412
00:17:33,106 --> 00:17:35,826
There is a side effect of this,
and we're going to be talking


413
00:17:35,826 --> 00:17:37,136
about later in the presentation,


414
00:17:37,276 --> 00:17:39,866
which is this also prepares
your app to be managed


415
00:17:39,866 --> 00:17:43,656
by application management,
which is the simplest summary is


416
00:17:43,656 --> 00:17:45,586
to talk about deploying
applications in scale.


417
00:17:45,586 --> 00:17:48,416
If I'm an IT administrator
about to deploy 1000 iPads


418
00:17:48,416 --> 00:17:51,606
at a major Fortune 500 company,
and I want to have your app set


419
00:17:51,606 --> 00:17:55,126
up under default circumstance
for the day 1 that I deploy it,


420
00:17:55,486 --> 00:17:57,046
they do it through
application management.


421
00:17:57,046 --> 00:17:59,146
And we'll be talking about
that later in the presentation.


422
00:17:59,626 --> 00:18:02,076
Essentially you can get an
initial application state


423
00:18:02,076 --> 00:18:06,226
distributed to all of the iPads
via NSUbiquitousKeyValueStores.


424
00:18:08,176 --> 00:18:11,816
So, I want to think
of a couple use cases


425
00:18:11,816 --> 00:18:13,606
for NSUbiquitousKeyValueStore
value


426
00:18:14,016 --> 00:18:16,736
or NSUbiquitousKeyValueStore,
that is a mouthful.


427
00:18:17,336 --> 00:18:19,706
The biggest thing
is is let's think


428
00:18:19,706 --> 00:18:23,476
about Mia visiting an iPad,
day 1 of a new school year.


429
00:18:24,336 --> 00:18:26,606
She launches your app, your
app has some setup data.


430
00:18:26,806 --> 00:18:28,346
You want to pick
her favorite color,


431
00:18:28,596 --> 00:18:30,626
maybe have her pick a
picture for her Avatar.


432
00:18:31,776 --> 00:18:34,096
You don't want her
encountering that on every iPad


433
00:18:34,846 --> 00:18:36,246
that she uses throughout
the year.


434
00:18:36,336 --> 00:18:39,076
So an idea use case for
NSUbiquitousKeyValueStore is


435
00:18:39,076 --> 00:18:41,016
to story your app's
initial setup data.


436
00:18:41,666 --> 00:18:43,966
That way as your app is
run on different iPads,


437
00:18:43,966 --> 00:18:46,776
Mia's initial preferences
for your app have been saved


438
00:18:46,776 --> 00:18:48,186
in NSUbiquitousKeyValueStore


439
00:18:48,876 --> 00:18:52,766
and she does not see the
application setup every time she


440
00:18:52,766 --> 00:18:53,766
encounters a new iPad.


441
00:18:54,166 --> 00:18:56,886
An example of places where
we use internal of Apple is,


442
00:18:56,886 --> 00:18:58,716
I'm told by the Stocks
team and the Weather team,


443
00:18:58,716 --> 00:19:01,186
we use NSUbiquitousKeyValueStore
to store the ticker,


444
00:19:01,506 --> 00:19:03,946
list and we use it to
save all the locations


445
00:19:03,946 --> 00:19:04,896
for where you save in Weather.


446
00:19:07,326 --> 00:19:10,586
Keychain. How many people
are using the Keychain


447
00:19:10,586 --> 00:19:11,446
in their application?


448
00:19:12,086 --> 00:19:12,496
Quite a few.


449
00:19:12,896 --> 00:19:14,876
I have excellent news
for you, you're done.


450
00:19:16,076 --> 00:19:19,136
You need do nothing, you can
tune out for the next couple


451
00:19:19,136 --> 00:19:19,916
of minutes and check email.


452
00:19:19,916 --> 00:19:22,246
You don't need to
do anything else.


453
00:19:22,286 --> 00:19:25,066
You're already good to go.


454
00:19:26,056 --> 00:19:28,036
Every Managed Apple
ID has a Keychain


455
00:19:28,276 --> 00:19:31,126
and that Keychain is synced to
every device that they log into.


456
00:19:31,586 --> 00:19:35,756
Obviously the Keychain is
there for secure user data.


457
00:19:35,756 --> 00:19:40,316
And so it's the same API,
same user conventions,


458
00:19:40,316 --> 00:19:42,626
in fact you as an app
cannot tell the difference


459
00:19:42,626 --> 00:19:46,196
between a Shared iPad Keychain
and a normal iCloud Keychain.


460
00:19:46,426 --> 00:19:48,066
Same API, same usage pattern.


461
00:19:48,426 --> 00:19:49,826
A couple of minor things.


462
00:19:49,826 --> 00:19:53,806
Some people do some rare
application store device only


463
00:19:53,806 --> 00:19:54,966
data on the Keychain.


464
00:19:55,146 --> 00:19:56,916
There is no such thing
as device only data


465
00:19:56,916 --> 00:19:58,186
on a Shared iPad Keychain


466
00:19:58,736 --> 00:20:00,976
and we recommend you
only store per user.


467
00:20:01,256 --> 00:20:05,486
And you must set the exportable
flag or the share flag,


468
00:20:05,856 --> 00:20:07,906
otherwise your data will not
be shared up to the thing.


469
00:20:08,416 --> 00:20:11,346
But you should be
storing user credentials,


470
00:20:11,346 --> 00:20:13,336
or user sensitive
information in the Keychain,


471
00:20:13,666 --> 00:20:16,586
you should not be using the
Keychain to store bulk data.


472
00:20:16,796 --> 00:20:20,716
It's kind of the same rules
as NSUbiquitousKeyValueStore.


473
00:20:21,186 --> 00:20:22,546
Don't use it to store bulk data.


474
00:20:22,546 --> 00:20:26,536
If you want to store secure
bulk data, come to the labs,


475
00:20:26,996 --> 00:20:28,506
we can suggest some
different approaches


476
00:20:28,506 --> 00:20:29,456
that will solve that problem.


477
00:20:29,826 --> 00:20:32,106
But yeah, if you're already
using the Keychain, good.


478
00:20:32,676 --> 00:20:34,676
If your app has user
sensitive data


479
00:20:34,676 --> 00:20:36,116
that should probably
be behind a password,


480
00:20:36,116 --> 00:20:38,366
or a little more secure than
just putting it in a data store


481
00:20:38,366 --> 00:20:40,846
like CloudKit or
NSUbiquitousKeyValueStore,


482
00:20:41,196 --> 00:20:43,376
start putting it in the
Keychain, it's easy to adopt.


483
00:20:43,376 --> 00:20:45,456
It makes the data secure and
makes it highly portable.


484
00:20:46,946 --> 00:20:50,626
Finally, on the Cloud
technologies to adopt,


485
00:20:51,216 --> 00:20:54,136
how many of you already have
your own Cloud technologies


486
00:20:54,556 --> 00:20:56,156
that you're using
rather than CloudKit.


487
00:20:56,156 --> 00:20:56,906
I see quite a few.


488
00:20:57,456 --> 00:20:57,776
Very good.


489
00:20:58,546 --> 00:21:00,626
You need to make sure that
either your code or the code


490
00:21:00,626 --> 00:21:02,686
that you're using
uses NSURLsession.


491
00:21:02,756 --> 00:21:05,906
NSURLsession is the
preferred option


492
00:21:05,906 --> 00:21:07,616
for doing all networking on iOS.


493
00:21:08,166 --> 00:21:10,896
And it should be using it
because it does so much for you.


494
00:21:10,896 --> 00:21:12,206
I've been at Apple
quite a while.


495
00:21:12,206 --> 00:21:14,036
I don't want to say how
long, I think a little longer


496
00:21:14,036 --> 00:21:15,726
than Todd has from
the previous session.


497
00:21:16,456 --> 00:21:20,166
It does so many things for you


498
00:21:20,366 --> 00:21:22,456
that you don't even
know that it does.


499
00:21:22,456 --> 00:21:26,246
It does IPv6, it does all the
metricing, and controlling,


500
00:21:26,246 --> 00:21:27,816
and accounting, it
does data throttling,


501
00:21:28,166 --> 00:21:29,436
seamless network transitions.


502
00:21:29,496 --> 00:21:30,956
And, I didn't even
know about this


503
00:21:30,956 --> 00:21:32,176
until I was putting
this slide together,


504
00:21:32,176 --> 00:21:33,206
Cisco Fast Lane support.


505
00:21:33,206 --> 00:21:34,406
How many people know
what that is?


506
00:21:35,476 --> 00:21:36,756
Yeah it's a quality
of service thing


507
00:21:36,756 --> 00:21:38,376
that allows network
administrators


508
00:21:38,376 --> 00:21:39,966
to prioritize network traffic.


509
00:21:40,516 --> 00:21:44,956
And if your app is not
using NSURLsession you have


510
00:21:45,006 --> 00:21:46,446
to do that all yourself.


511
00:21:46,446 --> 00:21:49,226
That's time you're going
to spend learning something


512
00:21:49,226 --> 00:21:50,746
where NSURLsession's
already done that.


513
00:21:50,746 --> 00:21:53,066
So, if you're not going to
use CloudKit, you're not going


514
00:21:53,066 --> 00:21:55,156
to use iCloud Drive, you're
not going to use the Keychain,


515
00:21:55,156 --> 00:21:57,026
and you're not going to use
NSUbiquitousKeyValueStore,


516
00:21:57,026 --> 00:21:59,346
but you're motivated to move
your app into the Cloud,


517
00:22:00,396 --> 00:22:02,886
make sure that the frameworks
you're using, or the frameworks


518
00:22:02,886 --> 00:22:04,706
that you're writing
are using NSURLsession


519
00:22:04,706 --> 00:22:05,766
for all of the networking.


520
00:22:05,966 --> 00:22:09,206
And you will pick a best
of breed network behaviors,


521
00:22:09,836 --> 00:22:11,496
robustness, and resiliency.


522
00:22:13,146 --> 00:22:19,666
So, like the LongLivedOperations
in CloudKit, another advantage


523
00:22:19,666 --> 00:22:23,116
of moving to NSURLsession is
let's go back to user switching,


524
00:22:23,396 --> 00:22:24,556
your app's not in
the foreground.


525
00:22:24,846 --> 00:22:28,556
Your NSURLsession pass are not
running unless you've marked


526
00:22:28,556 --> 00:22:31,596
them as background, or adopted
background configuration.


527
00:22:31,716 --> 00:22:34,736
So, you have your own Cloud
technology, you're not


528
00:22:34,736 --> 00:22:38,056
yet on NSURLsession, but you're
going to move onto NSURLsession.


529
00:22:38,226 --> 00:22:42,086
When you do so you can review
the developer documentation


530
00:22:42,086 --> 00:22:44,496
that talks about how to make
your NSURLsession data run


531
00:22:44,496 --> 00:22:45,106
in the background.


532
00:22:45,106 --> 00:22:47,726
And this has two advantages
to you as an app developer.


533
00:22:48,056 --> 00:22:51,326
Advantage number one, your
data can continue to sync


534
00:22:51,456 --> 00:22:53,146
to your proprietary Cloud store


535
00:22:53,596 --> 00:22:54,936
when your app is not
in the foreground.


536
00:22:56,006 --> 00:22:59,826
And advantage number two, your
data will sync when Mia's logged


537
00:22:59,826 --> 00:23:01,896
out and isn't even
active on your platform.


538
00:23:02,756 --> 00:23:05,466
So if you're not using
NSURLsession, start.


539
00:23:06,206 --> 00:23:08,556
And when you do start
using NSURLsession,


540
00:23:09,236 --> 00:23:11,766
review for background
usage and make sure


541
00:23:11,766 --> 00:23:14,036
that your app can sync data
when it's not in the foreground


542
00:23:14,036 --> 00:23:17,576
or the user isn't even active.


543
00:23:17,766 --> 00:23:18,646
So, let's review.


544
00:23:21,056 --> 00:23:23,096
By now I think I should have
convinced you Cloud based data


545
00:23:23,096 --> 00:23:26,666
is essential for your app in
the new Shared iPad environment,


546
00:23:26,666 --> 00:23:28,106
which we introduced
with iOS 9.3.


547
00:23:28,176 --> 00:23:29,826
This is a huge market worldwide.


548
00:23:29,826 --> 00:23:31,416
We know that it's being
used in Australia.


549
00:23:31,826 --> 00:23:33,246
We know it's being
used it he US.


550
00:23:33,366 --> 00:23:34,506
It's rolling out to Europe.


551
00:23:35,216 --> 00:23:38,396
This allows Managed Apple
IDs to move between devices,


552
00:23:38,396 --> 00:23:40,176
and we want that to be
as seamless an experience


553
00:23:40,176 --> 00:23:42,226
as possible, and you as the
app developers have a role


554
00:23:42,226 --> 00:23:44,326
to play there in getting
your app data into the Cloud.


555
00:23:46,486 --> 00:23:49,706
Apple feels, and I believe we
provide a complete solution.


556
00:23:49,736 --> 00:23:51,746
If you don't have any
of this working yet,


557
00:23:52,336 --> 00:23:53,856
there's nothing you
need to wait for.


558
00:23:53,856 --> 00:23:56,376
iOS has all the baseline
technologies you need


559
00:23:56,376 --> 00:23:57,596
to move your data
into the Cloud.


560
00:23:57,666 --> 00:23:59,026
If you don't feel that way,


561
00:23:59,026 --> 00:24:01,216
come to the lab we'll
try to help you out.


562
00:24:02,876 --> 00:24:04,856
If you're doing your own
networking of any kind,


563
00:24:04,856 --> 00:24:07,456
Cloud based or otherwise,
please use NSURLsession.


564
00:24:07,596 --> 00:24:09,136
A huge amount of
advantages for you


565
00:24:09,136 --> 00:24:10,986
in adopting those technologies.


566
00:24:11,356 --> 00:24:13,616
And you pick up a whole
bunch of functionality.


567
00:24:13,616 --> 00:24:15,126
And again we don't talk
about future features,


568
00:24:15,126 --> 00:24:16,126
like Pod in this session,


569
00:24:16,356 --> 00:24:17,886
but we're not done
with NSURLsession.


570
00:24:17,886 --> 00:24:19,906
As we need more networking,
it's all going to get rolled


571
00:24:19,906 --> 00:24:22,116
into there, and apps that are
already on it are just going


572
00:24:22,116 --> 00:24:24,696
to ride that wave
onto the next round


573
00:24:24,696 --> 00:24:26,696
of feature improvements
to NSURLsession.


574
00:24:27,876 --> 00:24:30,796
So, in addition to the Cloud,


575
00:24:30,796 --> 00:24:32,186
there's some additional
considerations


576
00:24:32,186 --> 00:24:33,526
for Shared iPad that
you need to do.


577
00:24:33,526 --> 00:24:37,666
And this is more about
changing your thinking and less


578
00:24:37,666 --> 00:24:40,976
about specific technologies
you need to adopt.


579
00:24:42,446 --> 00:24:44,006
First of all, there's
data separation


580
00:24:44,006 --> 00:24:44,946
between user accounts.


581
00:24:44,946 --> 00:24:47,836
Now that should seem obvious, or
some people might be going duh,


582
00:24:47,916 --> 00:24:49,806
but I want to talk about
that, because some apps,


583
00:24:50,016 --> 00:24:53,336
iOS 9.3 is the first release
of iOS' for shared users,


584
00:24:53,336 --> 00:24:56,296
and well that's 9 versions of
iOS prior to that that didn't,


585
00:24:56,296 --> 00:24:58,676
and so some apps needed
to support shared users.


586
00:24:58,946 --> 00:25:00,756
And they kind of wrote
their own little user picker


587
00:25:00,756 --> 00:25:01,486
within their app.


588
00:25:01,666 --> 00:25:04,696
So the first thing is, is we
have true data separation.


589
00:25:04,696 --> 00:25:06,286
Mia cannot see Liam's data


590
00:25:06,286 --> 00:25:08,926
and Liam cannot see Mia's
data while they are active


591
00:25:08,926 --> 00:25:09,646
on the device.


592
00:25:10,036 --> 00:25:13,126
Therefore, this is now a tool
you can use as an app developer,


593
00:25:13,126 --> 00:25:14,306
to where you no longer need


594
00:25:14,306 --> 00:25:17,126
to have your own app
or multi-user picker.


595
00:25:17,476 --> 00:25:20,086
There are some applications out
there than when you launch it,


596
00:25:20,086 --> 00:25:22,106
it says are you Mia
or are you Liam,


597
00:25:22,106 --> 00:25:23,346
and you can set multiple
user data.


598
00:25:23,946 --> 00:25:26,086
I think the time
has passed for that.


599
00:25:26,086 --> 00:25:27,986
So if you are doing a
multi-user application,


600
00:25:28,426 --> 00:25:30,946
your app should just run on a
single device, it should run


601
00:25:30,946 --> 00:25:33,276
within the shared user mode
and you'll get data separation


602
00:25:33,276 --> 00:25:36,086
for free and you can retire
the code that's doing that sort


603
00:25:36,086 --> 00:25:37,056
of multi-user management.


604
00:25:37,576 --> 00:25:41,306
And that avoids comingling
data between Liam and Mia,


605
00:25:41,306 --> 00:25:44,856
which is sometimes a
potential privacy issue


606
00:25:44,856 --> 00:25:49,746
if two different students
could see each other's data.


607
00:25:49,896 --> 00:25:51,286
Shared iPads have quotas.


608
00:25:51,286 --> 00:25:53,746
Todd had an excellent animation,
I forgot to rip it off


609
00:25:53,746 --> 00:25:55,476
for my presentation,
my apologies.


610
00:25:56,226 --> 00:25:58,586
iPads will enforce quota.


611
00:25:58,716 --> 00:26:00,626
Now there are two types
of quotas on an iPad.


612
00:26:00,626 --> 00:26:02,826
There's the number of accounts
that can be on a Shared iPad.


613
00:26:02,826 --> 00:26:04,026
That's like six, eight or ten.


614
00:26:04,546 --> 00:26:06,906
And there's the amount of data
that can be stored per account.


615
00:26:07,066 --> 00:26:08,636
Why does this affect
you, as you developers,


616
00:26:09,166 --> 00:26:11,016
well you will be
getting new errors


617
00:26:11,016 --> 00:26:12,756
out of any file system
operations you do.


618
00:26:12,756 --> 00:26:18,046
There's the EDQUOT error,
treat it the same as ENOSPC.


619
00:26:18,516 --> 00:26:21,016
So, instead of getting this
full, you'll get quota errors.


620
00:26:21,476 --> 00:26:23,576
If your app has recovery
mechanisms you have to do


621
00:26:23,576 --> 00:26:25,636
when you're out of disk
space, treat them the same.


622
00:26:25,716 --> 00:26:26,766
But this is a new error code


623
00:26:26,766 --> 00:26:28,376
that you might see more
frequently when running


624
00:26:28,436 --> 00:26:31,836
in a Shared iPad environment.


625
00:26:32,966 --> 00:26:35,346
Another technology that's
really, really interesting


626
00:26:35,536 --> 00:26:38,806
in the case of Shared iPad
is On-Demand Resources.


627
00:26:38,916 --> 00:26:42,966
If your app has On-Demand
Resources, or has assets


628
00:26:42,966 --> 00:26:45,136
that you haven't moved into
Apple's On-Demand Resources


629
00:26:45,136 --> 00:26:46,716
but that you download On-Demand.


630
00:26:47,596 --> 00:26:49,866
If you're downloading them
into the user directory,


631
00:26:49,866 --> 00:26:52,296
and you're on an iPad with eight
users, you've now duplicated


632
00:26:52,296 --> 00:26:53,516
that app resource eight times.


633
00:26:55,116 --> 00:26:57,956
Not only that, you've downloaded
the resource eight times


634
00:26:58,196 --> 00:26:59,686
and that's burdened
the school's network,


635
00:26:59,686 --> 00:27:01,546
multiply that times 30 iPads,


636
00:27:01,546 --> 00:27:03,736
you've now downloaded
that 240 times.


637
00:27:04,706 --> 00:27:06,456
So you really should
consider moving


638
00:27:06,456 --> 00:27:08,116
to using On-Demand Resources.


639
00:27:08,616 --> 00:27:10,746
If your app moves to
On-Demand Resources,


640
00:27:10,746 --> 00:27:13,636
you will only download an
On-Demand Resource once


641
00:27:13,636 --> 00:27:14,456
per device.


642
00:27:14,736 --> 00:27:16,966
It will be downloaded
for all users, current


643
00:27:17,016 --> 00:27:18,426
and future on that device.


644
00:27:18,656 --> 00:27:21,806
And more importantly it will
not be deleted or purged


645
00:27:22,156 --> 00:27:24,166
when a particular
user's account is purged


646
00:27:24,166 --> 00:27:26,586
by the operating system to
make room for new users.


647
00:27:26,676 --> 00:27:29,246
So if you have large
resources, or you have just


648
00:27:29,246 --> 00:27:31,166
in time resources, or
you thinned out your app,


649
00:27:31,506 --> 00:27:36,036
and you're downloading those
resources later, adopt ODR


650
00:27:36,366 --> 00:27:39,186
and you will get the resources
you need onto the iPad just


651
00:27:39,186 --> 00:27:42,026
when you need them and you
will minimize the amount


652
00:27:42,026 --> 00:27:44,446
of impact you've had on that
iPad both local storage,


653
00:27:44,596 --> 00:27:48,456
the user's quota, and the
school or institution's network.


654
00:27:50,016 --> 00:27:53,006
So this is again a
screenshot form the developer


655
00:27:53,006 --> 00:27:55,026
documentation, talking
about On-Demand Resources.


656
00:27:55,496 --> 00:27:57,066
I have it at the end of
the slide, but I'm going


657
00:27:57,066 --> 00:27:57,836
to give you a preview.


658
00:27:57,836 --> 00:28:01,196
I think Thursday is
On-Demand Resources In-Depth.


659
00:28:01,746 --> 00:28:04,666
Highly recommend you attend that
session if you have large assets


660
00:28:04,666 --> 00:28:07,026
that you want to get out of your
app bundle and not download it


661
00:28:07,026 --> 00:28:07,906
into a user directory.


662
00:28:10,776 --> 00:28:12,306
Remote notifications.


663
00:28:13,256 --> 00:28:16,576
Again, the iPad story and the
shared environment is a little


664
00:28:16,576 --> 00:28:20,756
different here than it has
been previously, but not much.


665
00:28:21,336 --> 00:28:24,036
Notifications work the
same as a single user iPad.


666
00:28:24,536 --> 00:28:27,516
So how does the Shared
iPad work?


667
00:28:27,516 --> 00:28:29,616
It works like a single-user
iPad, but logging in is


668
00:28:29,616 --> 00:28:32,216
like powering up the
iPad and logging out is


669
00:28:32,216 --> 00:28:33,586
like powering down the iPad.


670
00:28:34,166 --> 00:28:36,596
You won't get notifications
until an iPad's logged in.


671
00:28:36,596 --> 00:28:37,756
And you won't get notifications


672
00:28:37,756 --> 00:28:40,256
if an iPad's logged
out or powered down.


673
00:28:40,706 --> 00:28:42,366
Same exists for log
in and log out.


674
00:28:43,676 --> 00:28:46,266
So this is very much like your
app being turned on and off


675
00:28:46,266 --> 00:28:48,306
on the device when the device
is powered up or powered down.


676
00:28:50,186 --> 00:28:54,386
Remote notifications will not
be primed if your app runs


677
00:28:54,416 --> 00:28:55,726
at least once per device.


678
00:28:56,136 --> 00:28:58,816
So if Mia has only encountered
the device for the first time,


679
00:28:58,816 --> 00:29:01,126
and your app relies on
push notifications working,


680
00:29:01,126 --> 00:29:04,756
or remote notifications
working, unless she's run


681
00:29:04,756 --> 00:29:06,286
that app least once
on that device,


682
00:29:06,286 --> 00:29:07,626
she will not see
the notifications.


683
00:29:07,916 --> 00:29:10,996
This is just like a non-Shared
iPad, but I think it's going


684
00:29:10,996 --> 00:29:13,656
to come up more often because
changing devices is now


685
00:29:13,656 --> 00:29:14,766
so much more easy for Mia.


686
00:29:16,016 --> 00:29:18,316
And signing out is like
powering off as I said earlier.


687
00:29:18,316 --> 00:29:20,736
You will not receive
remote notifications.


688
00:29:21,526 --> 00:29:24,146
Why did we include a
whole slide about this?


689
00:29:24,506 --> 00:29:27,306
I think there's some apps
out there that may not work


690
00:29:27,306 --> 00:29:29,336
as fluidly or as
smoothly as you might want


691
00:29:29,916 --> 00:29:31,256
without push notifications.


692
00:29:31,256 --> 00:29:34,136
So if you have work flows
or use cases in your app


693
00:29:34,136 --> 00:29:36,506
that really rely on
remote notifications


694
00:29:36,506 --> 00:29:37,776
to trigger something,
something like that.


695
00:29:38,206 --> 00:29:40,506
Think it through
evaluate your app,


696
00:29:40,836 --> 00:29:42,326
and see what changes
you can make.


697
00:29:42,386 --> 00:29:45,236
Because as Mia's moving
from device to device,


698
00:29:45,746 --> 00:29:47,916
she may not get the push
notifications until she thinks


699
00:29:47,916 --> 00:29:49,106
to run your app for
the first time.


700
00:29:49,496 --> 00:29:51,226
And if there's something you
can do to help her with that,


701
00:29:51,226 --> 00:29:54,226
or even just document for the
administrators making deployment


702
00:29:54,226 --> 00:29:56,196
decisions about your app,
this will be very helpful.


703
00:29:57,516 --> 00:30:00,246
So review your usage of
remote notifications and think


704
00:30:00,246 --> 00:30:02,416
about how well your app would
work if Mia's been working


705
00:30:02,416 --> 00:30:04,516
on an iPad on it for
say a whole week.


706
00:30:04,556 --> 00:30:07,666
And then she suddenly gets a new
iPad, will your app work as well


707
00:30:08,196 --> 00:30:11,886
until she launches
it the first time.


708
00:30:12,086 --> 00:30:13,166
Managed Apple ID's.


709
00:30:13,316 --> 00:30:16,106
So this is a new
type of Apple ID.


710
00:30:16,106 --> 00:30:17,636
It's set up by the institution.


711
00:30:18,036 --> 00:30:19,726
The institution controls
the names,


712
00:30:19,726 --> 00:30:22,346
the institution controls the
password, but there's also a set


713
00:30:22,346 --> 00:30:24,176
of different capabilities
associated


714
00:30:24,176 --> 00:30:25,106
with the managed iPad.


715
00:30:26,116 --> 00:30:29,936
The most important that
it has is there are no


716
00:30:29,936 --> 00:30:30,826
commerce features.


717
00:30:30,826 --> 00:30:33,596
There are very few
schools, very few schools


718
00:30:33,836 --> 00:30:35,576
that want the students
purchasing music


719
00:30:35,576 --> 00:30:38,206
on their credit card when
they deploy their application.


720
00:30:38,206 --> 00:30:40,216
So we've turned off the
commerce application,


721
00:30:40,786 --> 00:30:41,896
the commerce and
stuff like that.


722
00:30:42,286 --> 00:30:46,146
The impact for some developers
is I have seen some applications


723
00:30:47,036 --> 00:30:49,776
put functionality
behind a pay wall


724
00:30:50,236 --> 00:30:52,316
or put functionality
behind an in-app purchase.


725
00:30:52,316 --> 00:30:54,086
Schools aren't going to want


726
00:30:54,086 --> 00:30:55,606
to license an application
like that.


727
00:30:55,606 --> 00:30:57,076
They're going to be
deployed into an environment


728
00:30:57,076 --> 00:30:59,216
where the individual Apple
IDs don't have any commerce.


729
00:30:59,386 --> 00:31:00,926
There's no credit card
bound to the account,


730
00:31:01,336 --> 00:31:04,226
your app cannot function
in that environment.


731
00:31:04,476 --> 00:31:05,956
Now, I'm not saying
that you should do this


732
00:31:05,956 --> 00:31:07,906
for your general app, you may
need to do a different app


733
00:31:07,906 --> 00:31:09,086
for schools that you license


734
00:31:09,086 --> 00:31:10,846
that don't require in-app
purchases just for it


735
00:31:10,846 --> 00:31:11,656
to be fully functional.


736
00:31:11,656 --> 00:31:12,936
And you should adjust
your licensing


737
00:31:12,936 --> 00:31:14,056
and pricing appropriately.


738
00:31:14,476 --> 00:31:16,736
But the app itself that the
school deploys should be


739
00:31:16,736 --> 00:31:17,436
fully functional.


740
00:31:18,076 --> 00:31:20,436
So don't want for
commerce activity


741
00:31:20,436 --> 00:31:22,696
to happen before your
app is fully functional.


742
00:31:24,656 --> 00:31:26,506
Also check for specific
frameworks


743
00:31:26,506 --> 00:31:27,446
and features that you need.


744
00:31:27,446 --> 00:31:29,936
Just don't assume that because
they have an iCloud identity


745
00:31:29,936 --> 00:31:30,846
that they have everything.


746
00:31:32,266 --> 00:31:34,016
We've combed through
the operating system


747
00:31:34,016 --> 00:31:36,476
and where things are disabled,


748
00:31:36,476 --> 00:31:38,216
those frameworks will
return appropriate errors.


749
00:31:38,216 --> 00:31:39,576
A concrete example is StoreKit.


750
00:31:40,056 --> 00:31:43,386
If you use StoreKit and you
try to use it while logged


751
00:31:43,386 --> 00:31:44,506
on as a Managed Apple ID,


752
00:31:44,506 --> 00:31:47,126
you will get an appropriate
error telling you StoreKit's


753
00:31:47,126 --> 00:31:48,306
offline or unavailable.


754
00:31:48,576 --> 00:31:51,996
So, don't assume
it's all or nothing,


755
00:31:51,996 --> 00:31:54,006
if I have this then I have
all these other services.


756
00:31:54,006 --> 00:31:55,566
Start checking for
individual frameworks


757
00:31:55,566 --> 00:31:57,496
to be present that you need.


758
00:31:57,596 --> 00:31:59,316
If those frameworks
were to return an error,


759
00:31:59,966 --> 00:32:02,176
how would your app behave
and thank that through


760
00:32:02,176 --> 00:32:05,916
for this type of use case.


761
00:32:06,256 --> 00:32:08,716
Generally, you can follow the
existing practices you've been


762
00:32:08,716 --> 00:32:10,456
following if you're
already compatible with VPP,


763
00:32:10,456 --> 00:32:13,906
which is Volume Purchase Plan,
and device based licensing.


764
00:32:13,906 --> 00:32:16,466
If your app conforms
to VPP licensing


765
00:32:16,466 --> 00:32:19,086
and device based deployment,
you're already most


766
00:32:19,086 --> 00:32:20,956
of the way there, if not
all of the way there.


767
00:32:21,336 --> 00:32:23,746
But for developers that don't
know about VPP and don't know


768
00:32:23,746 --> 00:32:26,006
about device based licensing,
work with us in the labs,


769
00:32:26,006 --> 00:32:26,956
we can bring you up to speed.


770
00:32:27,196 --> 00:32:30,716
This will make your app
more approachable and open


771
00:32:30,716 --> 00:32:31,666
up new markets for you.


772
00:32:32,806 --> 00:32:36,066
And finally a quick shout
out to web developers.


773
00:32:36,576 --> 00:32:38,646
We gave this a lot of thought.


774
00:32:38,646 --> 00:32:39,646
So there is a Keychain.


775
00:32:40,086 --> 00:32:43,506
I love the Safari AutoFill
feature that saves passwords


776
00:32:43,506 --> 00:32:44,856
and syncs them in
the iCloud Keychain,


777
00:32:44,856 --> 00:32:46,986
it made it just hugely
useful when we deployed that.


778
00:32:47,236 --> 00:32:52,106
But we're thinking Mia
logging on to a Shared iPad,


779
00:32:52,106 --> 00:32:54,816
and then logging on
to a personal account,


780
00:32:55,526 --> 00:32:57,786
we may not want that
password saved


781
00:32:57,786 --> 00:32:59,836
in the keychain where
it's stored.


782
00:32:59,836 --> 00:33:02,106
So we've given schools
the ability


783
00:33:02,106 --> 00:33:05,436
to list what particular
websites they want


784
00:33:05,436 --> 00:33:07,356
to save passwords
for in the Keychain.


785
00:33:07,356 --> 00:33:09,436
Now, consider moving
it to a native app.


786
00:33:09,496 --> 00:33:11,696
This is overwhelmingly
the best solution.


787
00:33:12,226 --> 00:33:14,176
And the solution that
our customers expect


788
00:33:14,176 --> 00:33:15,176
and your customers expect.


789
00:33:15,696 --> 00:33:19,266
If, however, you remain
a web-based developer


790
00:33:19,266 --> 00:33:20,206
and web-based content,


791
00:33:20,406 --> 00:33:23,036
at a minimum there's some
documentation update you might


792
00:33:23,036 --> 00:33:25,936
want to remind your customers
to add your domain name


793
00:33:25,936 --> 00:33:28,906
to the Safari domain whitelist
so that as the students set


794
00:33:28,906 --> 00:33:31,606
up your site for the first
time, Safari will prompt them


795
00:33:31,606 --> 00:33:33,316
to save their password,
and it will get saved


796
00:33:33,316 --> 00:33:36,526
into their Managed
Apple ID Keychain.


797
00:33:36,916 --> 00:33:39,316
And then the next time they
visit a different iPad and log


798
00:33:39,316 --> 00:33:40,386
onto your website,
they won't have


799
00:33:40,386 --> 00:33:42,146
to provide their
credentials a second time.


800
00:33:42,186 --> 00:33:44,456
If you do not list your
website or your domain


801
00:33:45,136 --> 00:33:48,336
on this domain whitelist,
Mia would be forced to log


802
00:33:48,336 --> 00:33:50,026
in every time she
encounters a new iPad


803
00:33:50,026 --> 00:33:52,316
and that would be a
frustrating experience


804
00:33:52,316 --> 00:33:53,356
for Mia and the school.


805
00:33:53,436 --> 00:33:55,386
At a minimum there's a
documentation update.


806
00:33:55,426 --> 00:33:59,076
At most, maybe use this as a
notice that it might be time


807
00:33:59,076 --> 00:34:01,366
to consider moving your app
to be native on the platform.


808
00:34:02,466 --> 00:34:04,156
I've been talking
about Shared iPad.


809
00:34:05,316 --> 00:34:07,436
I've been talking
about business.


810
00:34:07,746 --> 00:34:10,106
I've been talking about the
new markets that this opens up.


811
00:34:10,626 --> 00:34:11,646
But I'm also going to point out,


812
00:34:12,255 --> 00:34:15,335
there's nothing here that's
unique to Shared iPad.


813
00:34:15,335 --> 00:34:19,096
My assertion is is that while
Cloud based data is required


814
00:34:19,096 --> 00:34:20,585
for Shared iPad to
work functionally,


815
00:34:21,676 --> 00:34:23,106
all of your users will benefit


816
00:34:23,386 --> 00:34:24,516
from moving your
app to the Cloud.


817
00:34:24,516 --> 00:34:28,146
My wife, just two weeks
ago face planted her iPad.


818
00:34:29,096 --> 00:34:30,976
We took it to the Genius
Bar, they fixed it.


819
00:34:31,176 --> 00:34:33,446
She got a new iPad, she
started setting up her apps.


820
00:34:34,376 --> 00:34:36,456
The apps that didn't
get Cloud data,


821
00:34:36,656 --> 00:34:38,755
didn't get reinstalled
on her app.


822
00:34:38,846 --> 00:34:40,946
She just didn't have time.


823
00:34:41,085 --> 00:34:43,565
And it makes it easy for
them to change devices.


824
00:34:43,565 --> 00:34:45,275
So these changes that
you're going to invest


825
00:34:45,275 --> 00:34:47,366
in are not just investing
for Shared iPad.


826
00:34:47,686 --> 00:34:49,735
This will make it better
for all of your users.


827
00:34:49,735 --> 00:34:51,226
All of your users
have Cloud data.


828
00:34:51,556 --> 00:34:53,396
All of your users
have iCloud documents.


829
00:34:53,396 --> 00:34:54,896
All of your users
have Keychains.


830
00:34:55,315 --> 00:34:58,106
All of your users have
NSUbiquitousKeyStore.


831
00:34:58,436 --> 00:35:02,996
Moving your application
data into the Cloud is going


832
00:35:02,996 --> 00:35:04,836
to make it better for
your entire ecosystem.


833
00:35:05,126 --> 00:35:07,656
And in addition to that
make it more suitable


834
00:35:07,656 --> 00:35:09,106
for education and business use.


835
00:35:09,836 --> 00:35:12,626
So business also
favors the Cloud.


836
00:35:12,626 --> 00:35:15,746
They change devices, they change
employees, they hand new devices


837
00:35:15,746 --> 00:35:17,196
to a different employee
on Monday


838
00:35:17,196 --> 00:35:18,346
than was using it on Tuesday.


839
00:35:18,346 --> 00:35:21,866
If you can make it more rapid
to set up your account and have


840
00:35:21,866 --> 00:35:24,336
that employee's data
online and accessible


841
00:35:24,336 --> 00:35:26,646
on that iPad sooner rather than
later, businesses are going


842
00:35:26,646 --> 00:35:29,276
to consider your app a favorite
choice for them to deploy.


843
00:35:29,856 --> 00:35:33,236
So, my argument is the
Cloud's a long term trend.


844
00:35:33,766 --> 00:35:36,106
If you haven't considered
moving your data to the Cloud,


845
00:35:36,466 --> 00:35:37,446
this might be the year


846
00:35:37,446 --> 00:35:39,666
that that's finally no
longer a tenable position.


847
00:35:40,176 --> 00:35:43,216
If you're already on the Cloud,
review your usage and make sure


848
00:35:43,216 --> 00:35:45,466
that everything is working
well, because we just opened


849
00:35:45,466 --> 00:35:49,926
up a huge new market for
you with Shared iPads.


850
00:35:50,746 --> 00:35:53,356
So you've done all this, you've
moved your user secure data


851
00:35:53,406 --> 00:35:56,216
into the Keychain, you've used
CloudKit to store the bulk data,


852
00:35:56,216 --> 00:35:58,336
because you're not using
NSUbiquitousKeyStore for that.


853
00:35:58,806 --> 00:36:00,366
You've used NSUbiquitousKeyStore


854
00:36:00,366 --> 00:36:01,846
to store your apps
initial settings.


855
00:36:02,516 --> 00:36:04,716
And you took all your custom
networking you moved it


856
00:36:04,716 --> 00:36:05,966
up onto NSURLsession.


857
00:36:05,966 --> 00:36:08,576
You moved up background
tasks for it so that it runs


858
00:36:08,576 --> 00:36:09,556
when your app's not
in the foreground.


859
00:36:09,996 --> 00:36:11,156
Now you need to test it.


860
00:36:11,516 --> 00:36:12,776
Make sure that it
all actually works.


861
00:36:12,776 --> 00:36:14,626
So here's some high-level
recommendations


862
00:36:15,136 --> 00:36:16,236
on how to test for the app.


863
00:36:16,616 --> 00:36:19,046
And there are basically three
methods of testing that all boil


864
00:36:19,046 --> 00:36:21,516
down to the same method, but
we'll go through them one by.


865
00:36:21,516 --> 00:36:22,396
Two devices.


866
00:36:23,146 --> 00:36:24,536
iPad a, iPad b.


867
00:36:24,536 --> 00:36:27,916
You install your app on iPad
a, set up an iCloud identity.


868
00:36:28,386 --> 00:36:29,056
Run your app.


869
00:36:30,356 --> 00:36:31,956
Go through the cycle
of storing your data.


870
00:36:31,956 --> 00:36:34,156
Maybe your stock app, you
store your ticker information,


871
00:36:34,156 --> 00:36:35,906
you do all of that
sort of stuff.


872
00:36:36,576 --> 00:36:37,386
Wait for it to sync.


873
00:36:38,156 --> 00:36:43,166
Launch iPad b, log onto the same
account, launch your application


874
00:36:43,226 --> 00:36:46,056
and see if your data
shows up on iCloud b.


875
00:36:47,016 --> 00:36:49,146
If not commence the
debugging cycle.


876
00:36:49,326 --> 00:36:52,366
If it does work,
great, you're done.


877
00:36:52,416 --> 00:36:54,886
And that will allow you, so
basically two different devices


878
00:36:54,886 --> 00:36:58,466
with the same iCloud identity is
all you need to test to verify


879
00:36:58,466 --> 00:37:00,456
that your app's working in
a Shared iPad environment.


880
00:37:01,186 --> 00:37:04,016
If you don't have two devices,
or you just don't want to bother


881
00:37:04,016 --> 00:37:07,116
with two devices, you can
do the same sort of testing


882
00:37:07,116 --> 00:37:09,076
by adding your app,
setting up all the data,


883
00:37:09,536 --> 00:37:12,266
waiting for the app to sync
the data, delete the app


884
00:37:12,266 --> 00:37:14,136
and add the app back
to the device.


885
00:37:14,296 --> 00:37:15,886
That will pull all
of the data back.


886
00:37:15,926 --> 00:37:17,636
That will pull the
NSUbiquitousKeyValueStore,


887
00:37:17,636 --> 00:37:18,946
the CloudKit, the
Cloud documents.


888
00:37:18,946 --> 00:37:19,966
All of that data will come back.


889
00:37:20,506 --> 00:37:24,216
If all of that data comes back,
again you can check off the box


890
00:37:24,216 --> 00:37:26,406
that says you've moved
your data to the Cloud.


891
00:37:27,706 --> 00:37:29,886
In an extrema case,
and most of you


892
00:37:30,246 --> 00:37:32,196
in the audience realize
this is just a variation


893
00:37:32,196 --> 00:37:33,416
on these things.


894
00:37:33,476 --> 00:37:35,756
If you really want to know
that you've really nailed this,


895
00:37:35,756 --> 00:37:37,956
you can erase the iPad
between testing sessions.


896
00:37:38,266 --> 00:37:39,386
I don't think that's necessary,


897
00:37:39,386 --> 00:37:40,796
but I just put it
here for completeness.


898
00:37:41,386 --> 00:37:43,506
That's really kind
of the acid test.


899
00:37:44,046 --> 00:37:46,136
Set up your iPad get a
whole bunch of data in it.


900
00:37:46,276 --> 00:37:48,236
Trust that your Cloud
is working,


901
00:37:48,416 --> 00:37:51,026
trust that Apple stored the data
for you, blow the device away,


902
00:37:51,326 --> 00:37:52,696
set it up from scratch again.


903
00:37:52,696 --> 00:37:53,816
Does all your data come back?


904
00:37:54,536 --> 00:37:55,136
You're in great shape.


905
00:37:56,356 --> 00:37:58,456
If your app can pass
that sort of test,


906
00:37:59,056 --> 00:38:02,876
you have nailed the Shared iPad
case and made things better


907
00:38:02,876 --> 00:38:04,116
for your consumer users.


908
00:38:05,146 --> 00:38:07,366
So verify all of your
app's functionality.


909
00:38:07,366 --> 00:38:08,736
Verify there's no data loss.


910
00:38:08,736 --> 00:38:10,166
Verify offline works.


911
00:38:10,166 --> 00:38:12,516
So put the iPad into
airplane mode and verify


912
00:38:12,516 --> 00:38:14,756
that your user CloudKit,
that all the data syncs later


913
00:38:14,756 --> 00:38:16,386
when you take it out
of airplane mode.


914
00:38:17,336 --> 00:38:19,716
Verify your app never asks you
for the setup screen again.


915
00:38:20,816 --> 00:38:21,896
A very simple test.


916
00:38:22,166 --> 00:38:23,866
Install your app, run
through the setup screen,


917
00:38:23,866 --> 00:38:25,506
delete your app,
relaunch your app.


918
00:38:25,506 --> 00:38:26,496
Do you get the setup screen?


919
00:38:26,656 --> 00:38:27,276
Not done yet.


920
00:38:27,986 --> 00:38:30,736
So testing's important.


921
00:38:30,736 --> 00:38:32,126
Moving into the Cloud's
a very big deal.


922
00:38:32,456 --> 00:38:34,316
Once it's there I think
you'll be very satisfied


923
00:38:34,316 --> 00:38:35,836
with the results and
here's some help.


924
00:38:35,836 --> 00:38:37,746
If you want more help
or more assistance,


925
00:38:37,986 --> 00:38:39,506
again there's a lab
right after this.


926
00:38:39,816 --> 00:38:41,346
We'll all be there to
answer questions for you.


927
00:38:42,556 --> 00:38:46,856
This was a plea, we
had a lot of this


928
00:38:46,856 --> 00:38:48,796
from the internal developers.


929
00:38:50,136 --> 00:38:52,736
Log out actually tries
to do an orderly shutdown


930
00:38:52,996 --> 00:38:53,816
of everybody's app.


931
00:38:54,546 --> 00:38:57,346
If you're leaking UI background
tasks, logout can't complete.


932
00:38:57,626 --> 00:38:59,366
And this is upsetting to people.


933
00:38:59,816 --> 00:39:03,236
Liam can't log in until Mia's
logout session is finished.


934
00:39:03,236 --> 00:39:05,136
If you're leaking
UI background tasks,


935
00:39:05,426 --> 00:39:07,246
your app cannot be terminated.


936
00:39:07,246 --> 00:39:08,626
It will eventually time out.


937
00:39:08,886 --> 00:39:10,196
It will eventually be killed.


938
00:39:10,336 --> 00:39:11,556
But that's not good for anybody.


939
00:39:11,876 --> 00:39:14,146
So make sure you're not
leaking UI background tasks,


940
00:39:14,146 --> 00:39:15,666
because those will block logout.


941
00:39:20,056 --> 00:39:22,686
So, that's the technologies
you need to adopt


942
00:39:23,636 --> 00:39:25,106
and the changes you
need to make.


943
00:39:25,176 --> 00:39:27,766
And all of these changes make
it better for Shared iPad


944
00:39:27,766 --> 00:39:29,616
and business use
case, but they're kind


945
00:39:29,616 --> 00:39:31,636
of the bare minimum changes
you need to be useful


946
00:39:31,636 --> 00:39:32,456
in those environments.


947
00:39:32,996 --> 00:39:35,726
The work that you're
going to do is also useful


948
00:39:35,726 --> 00:39:37,026
for even your consumer use case.


949
00:39:37,026 --> 00:39:39,576
So the good news is is this
sort of investment is not just


950
00:39:39,576 --> 00:39:42,376
for education and business, it's
also for your consumer use case.


951
00:39:42,576 --> 00:39:44,526
And it will become baseline
for your application.


952
00:39:45,686 --> 00:39:48,036
Now there's opportunities to go
beyond the minimum requirements


953
00:39:48,036 --> 00:39:50,676
of putting your data in the
Cloud and you can really,


954
00:39:50,676 --> 00:39:53,756
really have your app be world
class and be a preferred choice


955
00:39:54,006 --> 00:39:55,356
for potential licensers.


956
00:39:55,596 --> 00:39:58,096
Like going beyond just adopting
the Cloud and adopting some


957
00:39:58,096 --> 00:39:59,466
of the newer technologies
this year.


958
00:40:00,536 --> 00:40:03,226
The first and most exciting
technology, how many people were


959
00:40:03,226 --> 00:40:04,536
in the session before
this with Todd?


960
00:40:05,666 --> 00:40:08,116
Oh, good. A good number,
the classroom app,


961
00:40:08,446 --> 00:40:09,526
one of the most exciting apps.


962
00:40:09,526 --> 00:40:12,466
It's kind of silly but it's
really kind of cool to be God


963
00:40:12,466 --> 00:40:13,646
and sit up there with
the Classroom app


964
00:40:13,646 --> 00:40:16,686
and control an entire lab
form an iPad is really,


965
00:40:16,686 --> 00:40:18,916
really kind of very powerful.


966
00:40:19,856 --> 00:40:21,476
And one of the key technologies


967
00:40:21,476 --> 00:40:24,786
that Classroom app
leverages is Universal Links.


968
00:40:25,846 --> 00:40:28,106
Universal Links is
not new with iOS 9.3,


969
00:40:28,106 --> 00:40:29,346
it was introduced with iOS 9.


970
00:40:30,036 --> 00:40:33,406
And it provides a
feature that allows you


971
00:40:33,406 --> 00:40:37,306
to share external links back to
your application off the device.


972
00:40:37,376 --> 00:40:38,686
It also enables sharing


973
00:40:39,266 --> 00:40:42,756
and searching inside
your app on the device.


974
00:40:42,756 --> 00:40:44,306
It's a huge advantage for
you to adopt Universal Links.


975
00:40:44,656 --> 00:40:48,116
What's new this year is we've
built on Universal Links


976
00:40:48,116 --> 00:40:50,826
as a basic understanding that
a lot of apps support this.


977
00:40:51,636 --> 00:40:53,746
And universal links is
one of the key features


978
00:40:53,966 --> 00:40:57,926
that Classroom leverages
to guide your app,


979
00:40:57,926 --> 00:41:00,296
or control your app while
in a classroom situation.


980
00:41:00,296 --> 00:41:02,066
So if your app supports
Universal Links,


981
00:41:02,586 --> 00:41:05,736
a teacher anywhere in the world
can decide your app is the


982
00:41:05,736 --> 00:41:08,146
coolest app in the world, and
she can integrate your app


983
00:41:08,146 --> 00:41:09,416
into her course curriculum.


984
00:41:09,646 --> 00:41:11,626
And she will then use that
with the Classroom app


985
00:41:11,626 --> 00:41:13,296
to use your app during
the session.


986
00:41:13,296 --> 00:41:16,206
This will make your app world
class and the most desirable app


987
00:41:16,206 --> 00:41:18,056
in the App Store for
the school to license.


988
00:41:18,896 --> 00:41:21,796
If you can't use Universal
Links, it will make it harder


989
00:41:21,866 --> 00:41:24,226
for a teachers to integrate
your app into their curriculum


990
00:41:24,406 --> 00:41:26,256
and harder for them to use
it with the Classroom app.


991
00:41:26,626 --> 00:41:29,286
And therefore this is an
opportunity for you to surprise


992
00:41:29,286 --> 00:41:31,616
and delight your customers


993
00:41:31,616 --> 00:41:32,996
in that your app
will work really well


994
00:41:32,996 --> 00:41:33,956
in a classroom situation.


995
00:41:33,956 --> 00:41:36,866
But the key to this
is Universal Links.


996
00:41:36,866 --> 00:41:39,126
And just like the Cloud stuff
this is beneficial for your app


997
00:41:39,126 --> 00:41:41,116
in or out of a shared
use case environment,


998
00:41:41,406 --> 00:41:43,786
but this is more
evidence that we're piling


999
00:41:43,786 --> 00:41:46,386
on these core technologies
to make your app


1000
00:41:46,386 --> 00:41:50,036
as useful as possible.


1001
00:41:50,626 --> 00:41:53,266
Another new feature
with iOS 9.3.2,


1002
00:41:53,266 --> 00:41:56,056
some app developers do automatic
assessment apps, these are apps


1003
00:41:56,056 --> 00:41:59,606
that do standardized testing
or assessment of a student.


1004
00:41:59,606 --> 00:42:01,286
They put it in full screen
mode, they lock it down.


1005
00:42:01,736 --> 00:42:04,166
We've made some changes to
make this more accessible.


1006
00:42:04,166 --> 00:42:05,946
The biggest change
is you can now be


1007
00:42:05,946 --> 00:42:07,126
in automatic assessment app


1008
00:42:07,126 --> 00:42:08,646
without being on
a supervised iPad.


1009
00:42:08,766 --> 00:42:11,536
You get an entitlement for
this, you can request it.


1010
00:42:11,866 --> 00:42:14,936
And in particular you
can now call an API


1011
00:42:15,536 --> 00:42:17,346
to request different
keyboard features.


1012
00:42:17,346 --> 00:42:19,706
Like you may not want a spelling
app allowing auto correction


1013
00:42:19,706 --> 00:42:21,066
happening while the
student is being assessed


1014
00:42:21,066 --> 00:42:22,226
for their spelling test.


1015
00:42:22,226 --> 00:42:23,666
So apps can now drive this.


1016
00:42:23,906 --> 00:42:25,626
They can request an
entitlement for this


1017
00:42:26,396 --> 00:42:28,856
and more importantly
it's no longer restricted


1018
00:42:28,856 --> 00:42:32,376
to just shared, or supervised
iPads it can run on any iPad.


1019
00:42:32,716 --> 00:42:34,566
And so if you're an
assessment-based application


1020
00:42:34,566 --> 00:42:36,706
or were considering being an
assessment-based application,


1021
00:42:36,706 --> 00:42:39,106
iOS 9.3.2 has opened up
more opportunities for you.


1022
00:42:39,466 --> 00:42:41,486
Again come to the lab, we
can give you more details.


1023
00:42:41,766 --> 00:42:45,006
But that's part of iOS 9.3.2.


1024
00:42:46,696 --> 00:42:48,246
Managed App Configuration.


1025
00:42:49,036 --> 00:42:51,736
This was introduced with iOS 7


1026
00:42:52,516 --> 00:42:54,786
and basically what this
does is allows administrator


1027
00:42:54,786 --> 00:42:58,106
to blast initial app settings
out to thousands, or hundreds,


1028
00:42:58,596 --> 00:43:01,156
or tens of thousands of iPads
so that every app starts


1029
00:43:01,156 --> 00:43:02,536
in an initial configuration.


1030
00:43:02,966 --> 00:43:04,486
It's really simple to adopt.


1031
00:43:05,096 --> 00:43:07,406
There's just an additional
key in your NSUser defaults.


1032
00:43:07,406 --> 00:43:09,256
If you see that key,
the key points


1033
00:43:09,256 --> 00:43:10,836
to an app specific
dictionary that you,


1034
00:43:10,836 --> 00:43:11,936
as the developer, control.


1035
00:43:12,266 --> 00:43:14,496
And the administrator who set


1036
00:43:14,496 --> 00:43:16,776
up those things will provide the
default dictionary for your app.


1037
00:43:18,216 --> 00:43:19,956
The problem was is
there was different ways


1038
00:43:19,956 --> 00:43:22,526
that MDM vendors chose
to send this information,


1039
00:43:22,526 --> 00:43:24,506
configuration this information
on how to package it.


1040
00:43:24,626 --> 00:43:27,986
So new for this year is there's
a community, not affiliated


1041
00:43:27,986 --> 00:43:29,416
with Apple, but we're
a participant,


1042
00:43:29,956 --> 00:43:31,396
where all the various MDM,


1043
00:43:31,576 --> 00:43:34,496
Mobile Device Management server
vendors are standardizing


1044
00:43:34,496 --> 00:43:36,146
the payloads.


1045
00:43:36,606 --> 00:43:38,266
The standardization
efforts documented


1046
00:43:38,266 --> 00:43:39,776
at the URL you see
here on the website.


1047
00:43:40,256 --> 00:43:44,136
The biggest advantage is you
can now have a single app


1048
00:43:44,686 --> 00:43:46,336
that supports multiple
MDM vendors.


1049
00:43:46,336 --> 00:43:48,886
And as I was researching
this presentation and I'm new


1050
00:43:49,236 --> 00:43:51,856
to the device management realm
within the past 18 months.


1051
00:43:51,856 --> 00:43:53,676
I was surprised to find
out that this was the case.


1052
00:43:54,006 --> 00:43:56,906
So right now there's an app
in the App Store, today,


1053
00:43:56,906 --> 00:44:00,166
we're not making this up,
that has this many SKU's.


1054
00:44:00,216 --> 00:44:02,726
Now what I can tell you is
they're not using auto layout


1055
00:44:02,726 --> 00:44:04,016
so that's why they
have a different screen


1056
00:44:04,016 --> 00:44:05,156
on iPhone and an iPad app.


1057
00:44:05,566 --> 00:44:07,596
But the six that you
see, and you see each one


1058
00:44:07,596 --> 00:44:10,806
of these six icons represents
a different MDM server


1059
00:44:11,696 --> 00:44:12,726
that they have to support.


1060
00:44:14,036 --> 00:44:15,846
So, as you can imagine
this is a bit


1061
00:44:15,846 --> 00:44:17,196
of a nightmare for
them to maintain.


1062
00:44:17,196 --> 00:44:19,946
So by moving onto the new app,


1063
00:44:19,946 --> 00:44:23,436
the managed application
consortium, they should be able


1064
00:44:23,436 --> 00:44:26,436
to turn their apps
from this into this.


1065
00:44:26,796 --> 00:44:28,286
They can have one
version for the phone


1066
00:44:28,286 --> 00:44:29,666
that supports all
the MDM vendors


1067
00:44:29,666 --> 00:44:31,276
and they can have one
version for the iPad


1068
00:44:31,936 --> 00:44:32,786
that supports all the MDMs.


1069
00:44:32,786 --> 00:44:34,166
So that would be a
huge advantage alone.


1070
00:44:34,756 --> 00:44:36,556
If they move onto Auto
Layout and use all


1071
00:44:36,556 --> 00:44:38,876
of Apple's latest technologies,
they should be able to do this.


1072
00:44:39,816 --> 00:44:42,116
That would be one
SKU in the App Store


1073
00:44:42,276 --> 00:44:44,166
that supports all the
different screen sizes


1074
00:44:44,436 --> 00:44:48,426
and also can be managed from all
of the major MDM server vendors.


1075
00:44:48,496 --> 00:44:50,436
So if you're going to
go into this market


1076
00:44:50,436 --> 00:44:51,856
and you want your
app to be managed


1077
00:44:52,366 --> 00:44:56,086
through application management,
look into the new consortium,


1078
00:44:56,296 --> 00:44:59,256
work with them and learn
to adopt what they've got.


1079
00:45:01,146 --> 00:45:06,856
So, in conclusion, along with
Shared iPad, I hope to leave you


1080
00:45:06,856 --> 00:45:09,276
with a message that regards
to what market you're selling


1081
00:45:09,276 --> 00:45:13,306
into the iOS ecosystem is rich,
it's vibrant, it's profitable,


1082
00:45:13,776 --> 00:45:14,846
it's open to everybody.


1083
00:45:15,556 --> 00:45:19,556
But it's also very demanding
in that customers expect a lot.


1084
00:45:19,716 --> 00:45:21,856
They expect Auto Layout,
they expect the flexibility,


1085
00:45:21,856 --> 00:45:23,086
they expect you to be on Swift,


1086
00:45:23,086 --> 00:45:24,836
they want AirPlay,
they want 3D touch.


1087
00:45:25,096 --> 00:45:27,506
And this year, new right
over here, SiriKit.


1088
00:45:28,466 --> 00:45:30,306
So that's another technology.


1089
00:45:30,356 --> 00:45:32,756
What can your app do with Siri
that could be revolutionary


1090
00:45:32,756 --> 00:45:34,366
in an educational
business environment


1091
00:45:34,366 --> 00:45:35,396
for you to adopt SiriKit?


1092
00:45:35,476 --> 00:45:37,026
So keep your app fresh.


1093
00:45:37,026 --> 00:45:37,976
Keep your app vibrant.


1094
00:45:38,236 --> 00:45:39,686
Adopt the cloud technologies.


1095
00:45:39,686 --> 00:45:41,476
And what you're doing is
making your app better


1096
00:45:41,476 --> 00:45:43,646
for your consumers and
better for business use


1097
00:45:43,646 --> 00:45:46,326
and institutional use, and
in particular, education.


1098
00:45:46,546 --> 00:45:49,146
So, I appreciate your time.


1099
00:45:49,686 --> 00:45:50,996
I've really enjoyed
speaking to you.


1100
00:45:50,996 --> 00:45:52,296
I'll be happy to
answer questions


1101
00:45:52,296 --> 00:45:53,636
in the lab later
if you have any.


1102
00:45:53,636 --> 00:45:56,386
I have co-workers there and
I have some guidance for you.


1103
00:45:56,386 --> 00:45:58,406
So there will be
links, any links found


1104
00:45:58,406 --> 00:45:59,596
in this session will
be at this link.


1105
00:46:00,146 --> 00:46:03,526
And here's a little roadmap of
either stuff to review on video


1106
00:46:03,526 --> 00:46:05,296
if you've already missed it,
or stuff that's upcoming.


1107
00:46:05,296 --> 00:46:07,386
So we've got What's New in Apple
Device Management, you're going


1108
00:46:07,386 --> 00:46:09,486
to have to review that on
video if you didn't see it.


1109
00:46:09,976 --> 00:46:12,316
Improving Existing Apps
with Modern Best Practices.


1110
00:46:12,616 --> 00:46:15,136
This is at 3 p.m. immediately
following this session.


1111
00:46:15,136 --> 00:46:16,836
So this will be a
more in-depth view


1112
00:46:16,836 --> 00:46:19,306
of the best modern
implementation techniques


1113
00:46:19,306 --> 00:46:19,706
for apps.


1114
00:46:20,156 --> 00:46:23,146
Optimizing the use of On-Demand
Resources is happening Thursday.


1115
00:46:23,766 --> 00:46:26,256
Extending your App with SiriKit
is happening on Thursday.


1116
00:46:26,316 --> 00:46:27,956
What's New in CloudKit,
Thursday.


1117
00:46:28,276 --> 00:46:29,386
CloudKit Best Practices.


1118
00:46:29,386 --> 00:46:30,276
If you're going to move your app


1119
00:46:30,276 --> 00:46:31,646
into the Cloud these are
the engineers that are going


1120
00:46:31,646 --> 00:46:33,376
to tell you in gory
detail how to do it.


1121
00:46:34,586 --> 00:46:37,626
Again, thank you for your time,
and I appreciate you attending.


1122
00:46:38,508 --> 00:46:40,508
[ Applause ]

