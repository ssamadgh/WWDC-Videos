1
00:00:07,516 --> 00:00:16,516
[ Music ]


2
00:00:17,516 --> 00:00:24,696
[ Applause ]


3
00:00:25,196 --> 00:00:27,106
>> Hello, everyone, and welcome


4
00:00:27,316 --> 00:00:28,756
to Building Voice with Siri


5
00:00:28,756 --> 00:00:29,226
Shortcuts.


6
00:00:30,026 --> 00:00:31,866
My name is Amit, and I'm here


7
00:00:31,866 --> 00:00:33,386
today with my colleague Ayaka


8
00:00:33,386 --> 00:00:33,826
Nonaka.


9
00:00:34,036 --> 00:00:36,056
And we are so excited to be here


10
00:00:36,276 --> 00:00:37,796
and talk to you about Shortcuts.


11
00:00:38,866 --> 00:00:41,316
And you all know, shortcuts


12
00:00:41,586 --> 00:00:43,366
allow you to accelerate your


13
00:00:43,366 --> 00:00:45,716
users to the things they value


14
00:00:45,756 --> 00:00:46,896
the most in your apps.


15
00:00:47,666 --> 00:00:49,586
What we are really excited about


16
00:00:50,426 --> 00:00:52,636
is that your users can add these


17
00:00:52,636 --> 00:00:55,176
shortcuts to Siri and perform


18
00:00:55,176 --> 00:00:56,976
them with their voice wherever


19
00:00:56,976 --> 00:00:57,376
they are.


20
00:00:58,196 --> 00:01:00,536
So, it's paramount that we build


21
00:01:00,536 --> 00:01:02,796
a great voice experience for all


22
00:01:02,796 --> 00:01:04,366
of our users accessing them


23
00:01:04,366 --> 00:01:04,946
through voice.


24
00:01:05,525 --> 00:01:06,956
And that's what we'll focus on


25
00:01:07,966 --> 00:01:08,456
today.


26
00:01:08,576 --> 00:01:10,756
So, let's get started.


27
00:01:10,906 --> 00:01:13,486
First, we'll talk about how your


28
00:01:13,486 --> 00:01:15,726
users can add shortcuts to Siri


29
00:01:15,916 --> 00:01:18,066
and how simple it is to write --


30
00:01:18,066 --> 00:01:19,406
use it right away.


31
00:01:20,766 --> 00:01:22,896
Then, we'll talk about how you


32
00:01:22,896 --> 00:01:24,986
can provide downloads that can


33
00:01:24,986 --> 00:01:26,466
be spoken by Siri, through


34
00:01:26,466 --> 00:01:27,396
custom responses.


35
00:01:28,516 --> 00:01:30,456
Then Ayaka will go over some of


36
00:01:30,456 --> 00:01:31,716
the best practices that you


37
00:01:31,716 --> 00:01:33,706
should adopt to create great


38
00:01:33,956 --> 00:01:35,836
voice and UI experiences for


39
00:01:35,836 --> 00:01:36,576
your shortcuts.


40
00:01:37,336 --> 00:01:39,826
And finally, we'll go over how


41
00:01:39,826 --> 00:01:41,826
you can bring the experience of


42
00:01:41,826 --> 00:01:47,236
setting shortcuts to your apps.


43
00:01:47,466 --> 00:01:49,986
So, before we dive into all the


44
00:01:49,986 --> 00:01:52,186
exciting details of adopting


45
00:01:52,186 --> 00:01:54,156
shortcuts and custom responses,


46
00:01:54,936 --> 00:01:56,996
let's take a look at the


47
00:01:56,996 --> 00:01:58,916
experience of setting a shortcut


48
00:01:59,596 --> 00:02:00,156
with Siri.


49
00:02:02,936 --> 00:02:04,976
My teammates and I have been


50
00:02:04,976 --> 00:02:06,776
working on this app called Soup


51
00:02:06,776 --> 00:02:06,966
Chef.


52
00:02:07,746 --> 00:02:09,076
It lets you order soup.


53
00:02:10,616 --> 00:02:13,376
Now Soup Chef adopts all our new


54
00:02:13,376 --> 00:02:16,356
shortcut APIs, and every time a


55
00:02:16,356 --> 00:02:18,836
user places an order, Soup Chef


56
00:02:18,836 --> 00:02:21,526
lets the system know by donating


57
00:02:21,526 --> 00:02:24,016
a custom intent to Siri.


58
00:02:24,796 --> 00:02:27,026
So, yesterday, I ordered some


59
00:02:27,026 --> 00:02:27,666
tomato soup.


60
00:02:27,976 --> 00:02:29,066
And it was really great.


61
00:02:30,206 --> 00:02:32,396
So much so, that I would like to


62
00:02:32,396 --> 00:02:33,116
order it again.


63
00:02:33,976 --> 00:02:35,446
And wouldn't it be great if I


64
00:02:35,446 --> 00:02:36,686
can just do that from Siri?


65
00:02:37,586 --> 00:02:40,566
Well, now we can.


66
00:02:40,756 --> 00:02:41,906
So, when we go to Siri's


67
00:02:41,976 --> 00:02:44,236
Settings UI, you see that Siri's


68
00:02:44,236 --> 00:02:46,586
already suggesting that donated


69
00:02:46,586 --> 00:02:48,496
intent to be created into a


70
00:02:48,496 --> 00:02:48,956
shortcut.


71
00:02:50,066 --> 00:02:52,186
So, let's tap on it.


72
00:02:52,476 --> 00:02:53,716
And we are presented with this


73
00:02:53,716 --> 00:02:55,416
screen, where we can set up a


74
00:02:55,416 --> 00:02:57,506
phrase that you can say to Siri


75
00:02:57,506 --> 00:02:58,536
and perform your shortcut.


76
00:02:58,906 --> 00:03:00,446
There are also a lot of details


77
00:03:00,446 --> 00:03:01,956
on this screen from Soup Chef


78
00:03:01,956 --> 00:03:04,266
that convey to me as a user what


79
00:03:04,266 --> 00:03:05,806
this shortcut would exactly do.


80
00:03:06,596 --> 00:03:07,696
How to get these right, we'll


81
00:03:07,696 --> 00:03:08,996
talk about that in a little bit.


82
00:03:09,596 --> 00:03:11,006
But for now, I would like to


83
00:03:11,006 --> 00:03:12,696
associate a phrase with this


84
00:03:12,696 --> 00:03:13,086
shortcut.


85
00:03:13,686 --> 00:03:14,806
Something that is short.


86
00:03:15,106 --> 00:03:17,036
Something that's memorable and I


87
00:03:17,036 --> 00:03:18,146
can say it again and again.


88
00:03:19,006 --> 00:03:20,946
It's not always easy to come up


89
00:03:20,946 --> 00:03:22,356
with that right in the moment,


90
00:03:22,706 --> 00:03:24,916
so I figure that Soup Chef is


91
00:03:24,916 --> 00:03:27,666
suggesting I call it, Soup Time.


92
00:03:27,666 --> 00:03:28,136
I like that.


93
00:03:28,736 --> 00:03:29,296
I'll take it.


94
00:03:30,846 --> 00:03:33,406
Now, when I record the phrase, I


95
00:03:34,076 --> 00:03:36,916
have a shortcut to order soup


96
00:03:37,156 --> 00:03:37,646
with Siri.


97
00:03:38,406 --> 00:03:39,136
Let's try it out.


98
00:03:40,556 --> 00:03:42,446
Now, when I say to Siri, "Soup


99
00:03:42,826 --> 00:03:45,626
Time," I'm asked to confirm


100
00:03:45,626 --> 00:03:46,556
whether I would like to run the


101
00:03:46,556 --> 00:03:49,296
intent, and when I say, "Yes,"


102
00:03:49,616 --> 00:03:50,776
the order is placed.


103
00:03:50,966 --> 00:03:52,346
And it's that easy.


104
00:03:54,126 --> 00:03:56,446
Your users will set up shortcuts


105
00:03:56,446 --> 00:03:58,176
for things they do most often.


106
00:03:58,736 --> 00:04:00,526
And they can use these shortcuts


107
00:04:00,836 --> 00:04:02,586
wherever they are, from their


108
00:04:02,686 --> 00:04:04,526
iOS devices, from their wrist


109
00:04:04,526 --> 00:04:06,546
using the Apple Watch, in their


110
00:04:06,546 --> 00:04:08,996
homes using the HomePod, as well


111
00:04:08,996 --> 00:04:10,906
as on the go with CarPlay.


112
00:04:12,046 --> 00:04:13,606
So, we should pay a lot of


113
00:04:13,606 --> 00:04:15,606
attention to the voice


114
00:04:15,606 --> 00:04:17,646
experience that they encounter.


115
00:04:18,916 --> 00:04:21,356
Towards that goal, let's talk


116
00:04:21,356 --> 00:04:23,386
about custom responses.


117
00:04:24,556 --> 00:04:27,726
Shortcuts allow you to provide


118
00:04:27,856 --> 00:04:29,846
dialogues that can be spoken by


119
00:04:29,846 --> 00:04:31,626
Siri, and this gives you the


120
00:04:31,626 --> 00:04:33,436
ability to provide relevant


121
00:04:33,476 --> 00:04:35,026
information, important


122
00:04:35,026 --> 00:04:38,196
information, right with voice.


123
00:04:38,586 --> 00:04:40,416
Fundamentally, shortcuts are --


124
00:04:40,416 --> 00:04:42,596
custom responses are template


125
00:04:42,596 --> 00:04:44,036
strings whose structure you


126
00:04:44,036 --> 00:04:45,356
define in the Intent Definition


127
00:04:45,356 --> 00:04:45,606
File.


128
00:04:46,056 --> 00:04:49,166
And based on the type of


129
00:04:49,166 --> 00:04:50,866
information you provide in your


130
00:04:50,866 --> 00:04:53,056
responses, shortcuts can be one


131
00:04:53,056 --> 00:04:53,996
of four types.


132
00:04:55,146 --> 00:04:57,786
The first is a confirmation


133
00:04:57,786 --> 00:04:59,196
custom response.


134
00:05:00,876 --> 00:05:02,476
This gives you the opportunity


135
00:05:02,476 --> 00:05:04,166
to provide critical information


136
00:05:04,466 --> 00:05:06,626
before your users commit to


137
00:05:06,626 --> 00:05:07,546
running the shortcut.


138
00:05:07,906 --> 00:05:12,166
Next, is a success response.


139
00:05:12,766 --> 00:05:14,036
And it gives you a chance to


140
00:05:14,036 --> 00:05:16,146
provide an auxiliary relevant


141
00:05:16,146 --> 00:05:17,826
information, after the shortcut


142
00:05:17,826 --> 00:05:19,806
has run, and the structure of a


143
00:05:19,806 --> 00:05:22,146
success response consists of


144
00:05:22,146 --> 00:05:24,596
Siri letting the users know that


145
00:05:24,716 --> 00:05:26,646
their order was successful, or


146
00:05:26,646 --> 00:05:28,046
their shortcut ran successfully,


147
00:05:28,446 --> 00:05:30,176
followed by any information that


148
00:05:30,176 --> 00:05:32,066
you provide attributed to your


149
00:05:32,736 --> 00:05:32,806
app.


150
00:05:34,536 --> 00:05:36,316
The third type of custom


151
00:05:36,316 --> 00:05:38,156
response is an informational


152
00:05:38,156 --> 00:05:38,686
response.


153
00:05:38,796 --> 00:05:41,466
And we are really excited about


154
00:05:42,176 --> 00:05:42,276
this.


155
00:05:42,496 --> 00:05:44,516
Informational response allows


156
00:05:44,516 --> 00:05:46,086
you to provide information like


157
00:05:46,086 --> 00:05:48,986
transit schedules or ski


158
00:05:48,986 --> 00:05:52,606
forecast right within Siri, with


159
00:05:53,186 --> 00:05:53,436
voice.


160
00:05:53,436 --> 00:05:55,076
This opens the door for a whole


161
00:05:55,076 --> 00:05:57,106
new category of apps which was


162
00:05:57,106 --> 00:05:59,296
not possible before with Siri.


163
00:06:00,796 --> 00:06:03,686
And finally, when things do not


164
00:06:03,686 --> 00:06:06,406
work as expected, custom error


165
00:06:06,406 --> 00:06:07,936
responses give you the


166
00:06:07,936 --> 00:06:09,866
opportunity to explain what went


167
00:06:09,866 --> 00:06:11,856
wrong instead of just saying,


168
00:06:12,366 --> 00:06:13,886
"Something didn't work."


169
00:06:14,106 --> 00:06:16,516
The structure consists of Siri


170
00:06:16,516 --> 00:06:18,296
communicating to the users that


171
00:06:18,296 --> 00:06:19,116
their intent did not


172
00:06:19,116 --> 00:06:21,116
successfully execute, followed


173
00:06:21,116 --> 00:06:23,026
by information from your app,


174
00:06:23,026 --> 00:06:24,756
and the interaction punctuated


175
00:06:24,756 --> 00:06:26,696
by Siri, advising users to


176
00:06:26,696 --> 00:06:30,916
continue in your apps.


177
00:06:31,166 --> 00:06:33,336
Now, that we understand what


178
00:06:33,336 --> 00:06:37,186
custom responses are, let's take


179
00:06:37,186 --> 00:06:39,166
a look at how you would adopt


180
00:06:39,166 --> 00:06:41,066
them in your apps.


181
00:06:42,796 --> 00:06:45,526
Custom responses work hand in


182
00:06:45,526 --> 00:06:47,466
hand with custom intents.


183
00:06:48,436 --> 00:06:50,486
So, the first step is to define


184
00:06:50,486 --> 00:06:52,636
an intent that models the use


185
00:06:52,636 --> 00:06:54,056
case you are trying to create a


186
00:06:54,056 --> 00:06:54,746
shortcut for.


187
00:06:56,016 --> 00:06:58,256
For Soup Chef, we created an


188
00:06:58,256 --> 00:07:00,666
intent called Order Soup, and it


189
00:07:00,666 --> 00:07:02,596
lets you, you guessed it, order


190
00:07:02,596 --> 00:07:02,926
soup.


191
00:07:03,226 --> 00:07:08,316
Alongside the intent, you have


192
00:07:08,316 --> 00:07:09,756
to pick a category for your


193
00:07:09,756 --> 00:07:09,986
intent.


194
00:07:10,566 --> 00:07:12,266
And the category you pick


195
00:07:12,876 --> 00:07:14,746
influences how Siri speaks about


196
00:07:14,746 --> 00:07:17,286
it or what you see across the OS


197
00:07:17,286 --> 00:07:18,246
like the order buttons.


198
00:07:19,076 --> 00:07:20,636
So, pick something that feels


199
00:07:20,636 --> 00:07:22,536
natural, that works well with


200
00:07:22,536 --> 00:07:24,846
your use case.


201
00:07:25,046 --> 00:07:26,936
Once we have defined our custom


202
00:07:26,936 --> 00:07:29,166
intent, let's go over to the


203
00:07:29,166 --> 00:07:31,056
Responses Tab.


204
00:07:31,056 --> 00:07:32,706
And in the Responses Tab, you


205
00:07:32,706 --> 00:07:34,166
see that we already have a


206
00:07:34,166 --> 00:07:36,226
success and failure response


207
00:07:36,226 --> 00:07:36,626
codes.


208
00:07:37,106 --> 00:07:38,676
But these are just a generic


209
00:07:38,676 --> 00:07:39,806
response codes which don't


210
00:07:39,806 --> 00:07:41,096
convey much more information


211
00:07:41,096 --> 00:07:42,506
besides the status of the


212
00:07:42,506 --> 00:07:42,996
operation.


213
00:07:43,846 --> 00:07:45,906
What I would like to do, is let


214
00:07:45,906 --> 00:07:48,096
our users know how long it will


215
00:07:48,096 --> 00:07:50,336
be until their order is ready


216
00:07:50,336 --> 00:07:51,446
and they can to the store and


217
00:07:51,446 --> 00:07:51,806
pick it up.


218
00:07:52,826 --> 00:07:54,476
So, what I want to do is define


219
00:07:54,506 --> 00:07:56,006
a custom success response for


220
00:07:56,086 --> 00:07:56,216
that.


221
00:07:57,186 --> 00:08:00,036
Towards that goal, the next step


222
00:08:00,826 --> 00:08:05,436
is to declare the response


223
00:08:05,486 --> 00:08:07,316
properties that you will use in


224
00:08:07,316 --> 00:08:08,566
your templates to provide


225
00:08:08,566 --> 00:08:11,116
information at run time.


226
00:08:11,446 --> 00:08:12,476
So, if you go over to the


227
00:08:12,476 --> 00:08:15,026
Properties Section, I'm going to


228
00:08:15,026 --> 00:08:16,896
add a Wait Time and a Soup


229
00:08:16,896 --> 00:08:17,366
Property.


230
00:08:17,626 --> 00:08:21,466
With that in place, the only


231
00:08:21,466 --> 00:08:22,396
thing left to do in our


232
00:08:22,396 --> 00:08:24,146
definition of custom responses


233
00:08:25,206 --> 00:08:26,556
is to define the template.


234
00:08:26,956 --> 00:08:28,966
The template is what is spoken


235
00:08:28,966 --> 00:08:29,736
out by Siri.


236
00:08:31,036 --> 00:08:32,895
So, when we look at the template


237
00:08:32,946 --> 00:08:34,446
section of our Intent Definition


238
00:08:34,446 --> 00:08:37,236
File, now I'm going to add my


239
00:08:37,236 --> 00:08:38,135
success template.


240
00:08:38,785 --> 00:08:40,506
Not just that.


241
00:08:41,316 --> 00:08:42,576
Our store is getting a little


242
00:08:42,576 --> 00:08:43,976
popular and we tend to run out


243
00:08:43,976 --> 00:08:44,826
of soup these days.


244
00:08:45,156 --> 00:08:47,096
So, it will be great if instead


245
00:08:47,096 --> 00:08:48,566
of just throwing a random error,


246
00:08:48,836 --> 00:08:50,266
I can let the users know that


247
00:08:50,266 --> 00:08:51,166
the soup is out of stock.


248
00:08:51,826 --> 00:08:54,386
So, I will add another response


249
00:08:54,386 --> 00:08:55,946
code called, "Failure Out of


250
00:08:55,946 --> 00:08:57,916
Stock," with a template that


251
00:08:57,916 --> 00:08:59,416
communicates that the soup is


252
00:08:59,416 --> 00:09:02,806
out of stock.


253
00:09:03,006 --> 00:09:05,376
With that, we have defined our


254
00:09:05,376 --> 00:09:06,296
intent responses.


255
00:09:06,756 --> 00:09:08,526
And when you do that, XCode


256
00:09:08,526 --> 00:09:10,826
automatically cogenerates a


257
00:09:10,886 --> 00:09:12,886
custom response subclass.


258
00:09:13,396 --> 00:09:15,006
This subclass has all the


259
00:09:15,006 --> 00:09:17,336
properties that you defined as


260
00:09:17,336 --> 00:09:19,066
well as custom constructors for


261
00:09:19,066 --> 00:09:20,936
your templates, which take all


262
00:09:20,936 --> 00:09:22,256
the important properties that


263
00:09:22,256 --> 00:09:23,176
you need to construct that


264
00:09:23,176 --> 00:09:23,506
template.


265
00:09:27,116 --> 00:09:29,336
Now the last step that is left


266
00:09:29,336 --> 00:09:31,576
to do, is to use these responses


267
00:09:31,646 --> 00:09:32,666
in our Intent Handler.


268
00:09:34,676 --> 00:09:36,586
Handling a custom intent


269
00:09:37,006 --> 00:09:39,746
comprises of two steps: confirm


270
00:09:40,246 --> 00:09:40,746
and handle.


271
00:09:42,316 --> 00:09:44,906
In confirmation, we are asked


272
00:09:44,906 --> 00:09:46,836
whether we are ready to handle


273
00:09:46,836 --> 00:09:48,196
this intent at this time.


274
00:09:49,306 --> 00:09:51,526
So, we'll first find out whether


275
00:09:51,526 --> 00:09:53,116
the soup the user has requested


276
00:09:53,396 --> 00:09:54,806
is in our menu.


277
00:09:56,286 --> 00:09:57,826
If it is, we'll let the system


278
00:09:57,826 --> 00:09:59,456
know that we are ready to place


279
00:09:59,456 --> 00:09:59,796
the order.


280
00:10:00,976 --> 00:10:02,936
But this is our chance to also


281
00:10:02,936 --> 00:10:04,656
check that the soup is available


282
00:10:04,656 --> 00:10:05,516
right now, and that we can place


283
00:10:05,516 --> 00:10:05,976
the order of that.


284
00:10:06,116 --> 00:10:08,766
So, let's do that.


285
00:10:09,316 --> 00:10:11,196
First, I'll grab a reference to


286
00:10:11,196 --> 00:10:11,936
my menu item.


287
00:10:13,156 --> 00:10:15,036
Then check if it's available.


288
00:10:15,856 --> 00:10:17,626
And if it isn't, I'm going to


289
00:10:17,626 --> 00:10:19,406
call the Completion Handler with


290
00:10:19,406 --> 00:10:21,246
our new custom Failure Out of


291
00:10:21,246 --> 00:10:22,216
Stock Response Code.


292
00:10:22,726 --> 00:10:25,866
If everything looks great, we'll


293
00:10:26,296 --> 00:10:27,526
continue as before.


294
00:10:28,516 --> 00:10:30,216
This is also our chance to


295
00:10:30,216 --> 00:10:32,696
provide custom response --


296
00:10:32,696 --> 00:10:34,176
custom confirmation response.


297
00:10:34,606 --> 00:10:36,026
Support for those will be coming


298
00:10:36,026 --> 00:10:37,176
in upcoming [inaudible].


299
00:10:37,626 --> 00:10:40,176
Alright, that was confirmation.


300
00:10:40,706 --> 00:10:43,596
Now, it's time to handle the


301
00:10:43,596 --> 00:10:43,966
intent.


302
00:10:44,466 --> 00:10:46,276
For us, that means to place the


303
00:10:46,276 --> 00:10:46,956
order for the soup.


304
00:10:47,726 --> 00:10:49,466
So, I'm going to build an order


305
00:10:49,636 --> 00:10:51,256
from all the information that is


306
00:10:51,296 --> 00:10:52,636
present on my intent.


307
00:10:53,946 --> 00:10:55,896
And then place the order with


308
00:10:55,896 --> 00:10:56,616
our Order Manager.


309
00:10:57,256 --> 00:10:58,846
And if it's successful, we'll


310
00:10:58,846 --> 00:11:00,516
let the system know, by calling


311
00:11:00,516 --> 00:11:01,926
the Completion Handler with the


312
00:11:01,926 --> 00:11:04,046
Success Response Code.


313
00:11:04,246 --> 00:11:06,486
However, since we defined the


314
00:11:06,546 --> 00:11:08,106
Custom Success Response


315
00:11:08,166 --> 00:11:10,216
Template, this is our chance to


316
00:11:10,216 --> 00:11:11,416
provide the wait time.


317
00:11:12,516 --> 00:11:13,436
So, let's do just that.


318
00:11:14,006 --> 00:11:17,336
And with that, we have added


319
00:11:17,336 --> 00:11:19,276
support for two really useful


320
00:11:19,276 --> 00:11:21,796
custom responses to our custom


321
00:11:21,796 --> 00:11:22,196
intent.


322
00:11:22,326 --> 00:11:24,866
Let's see how it looks.


323
00:11:25,416 --> 00:11:28,976
So before, all we could let the


324
00:11:28,976 --> 00:11:30,726
users know was, "Your order was


325
00:11:30,766 --> 00:11:31,066
placed."


326
00:11:32,246 --> 00:11:35,466
But now, Siri can speak out that


327
00:11:35,466 --> 00:11:36,896
it will be about 10 minutes


328
00:11:37,406 --> 00:11:38,716
before they should come down to


329
00:11:38,716 --> 00:11:39,176
the store.


330
00:11:39,236 --> 00:11:40,086
And that's really helpful.


331
00:11:40,436 --> 00:11:43,866
The improvement to the usability


332
00:11:43,866 --> 00:11:45,656
is even more stark if you look


333
00:11:45,656 --> 00:11:46,476
at the error case.


334
00:11:47,566 --> 00:11:49,116
Before, "Sorry, there was a


335
00:11:49,116 --> 00:11:50,116
problem with the app."


336
00:11:50,816 --> 00:11:52,896
But now, we can let the users


337
00:11:52,896 --> 00:11:54,396
know that the soup is out of


338
00:11:54,396 --> 00:11:57,196
stock and then they can decide


339
00:11:57,196 --> 00:11:58,636
what they would like to do.


340
00:11:58,636 --> 00:12:00,086
Either, they can go into our app


341
00:12:00,166 --> 00:12:01,786
and order something else or try


342
00:12:01,786 --> 00:12:02,516
again later.


343
00:12:05,896 --> 00:12:08,336
So, you saw that Siri and


344
00:12:08,336 --> 00:12:09,816
shortcuts allowed you to provide


345
00:12:09,816 --> 00:12:13,186
custom dialogues, but that's not


346
00:12:13,186 --> 00:12:13,606
all.


347
00:12:14,246 --> 00:12:16,436
As soup engineers, we work


348
00:12:16,436 --> 00:12:19,656
really hard to build superb


349
00:12:19,896 --> 00:12:21,446
experiences for our users.


350
00:12:22,516 --> 00:12:27,166
[ Applause ]


351
00:12:27,666 --> 00:12:30,886
And wouldn't it be great if we


352
00:12:30,886 --> 00:12:32,756
can bring those experiences from


353
00:12:32,756 --> 00:12:34,616
our apps to our shortcuts


354
00:12:34,856 --> 00:12:36,286
wherever they are run?


355
00:12:36,536 --> 00:12:38,856
With Intents UI extensions, you


356
00:12:38,856 --> 00:12:41,536
can do just that.


357
00:12:41,536 --> 00:12:43,716
Intents UI extensions allow you


358
00:12:43,716 --> 00:12:46,166
to provide custom UI, familiar


359
00:12:46,166 --> 00:12:48,676
UI from your apps, to shortcuts.


360
00:12:48,676 --> 00:12:50,296
And it is displayed all across


361
00:12:50,296 --> 00:12:52,316
the OS, on Lock Screen, in


362
00:12:52,316 --> 00:12:54,286
Search , and of course, within


363
00:12:54,286 --> 00:12:54,646
Siri.


364
00:12:55,996 --> 00:12:57,986
To learn more about how you can


365
00:12:57,986 --> 00:12:59,926
build great, Intents UI


366
00:12:59,926 --> 00:13:01,796
extensions, please take a look


367
00:13:01,936 --> 00:13:04,066
at the WWDC 2017 session,


368
00:13:04,346 --> 00:13:05,686
"What's New in SiriKit?"


369
00:13:06,596 --> 00:13:09,326
So, we built a custom Intents UI


370
00:13:09,326 --> 00:13:11,346
extension for Soup Chef app.


371
00:13:11,676 --> 00:13:13,696
And let's see how that looks.


372
00:13:13,786 --> 00:13:15,506
Again, this is where we started


373
00:13:15,506 --> 00:13:15,846
out with.


374
00:13:16,796 --> 00:13:18,816
But with a custom Intents UI


375
00:13:18,816 --> 00:13:21,376
Extension, now I'm able to show


376
00:13:21,376 --> 00:13:23,836
the users the entire invoice and


377
00:13:23,836 --> 00:13:25,916
convince that we got all the


378
00:13:25,916 --> 00:13:27,476
details right, that it will be


379
00:13:27,476 --> 00:13:29,216
2.95, before they place the


380
00:13:29,216 --> 00:13:30,446
order, which is incredibly


381
00:13:30,446 --> 00:13:30,826
helpful.


382
00:13:32,036 --> 00:13:33,386
Once they place the order,


383
00:13:33,856 --> 00:13:34,986
instead of just saying, "It's


384
00:13:35,036 --> 00:13:37,846
done," we can now show them the


385
00:13:37,876 --> 00:13:40,276
receipt and reaffirm that we got


386
00:13:40,276 --> 00:13:41,706
everything right and it will be


387
00:13:41,706 --> 00:13:42,836
ten minutes before they should


388
00:13:42,836 --> 00:13:45,656
come down there.


389
00:13:45,866 --> 00:13:49,976
Alright, so you saw how easy it


390
00:13:49,976 --> 00:13:52,286
is to add support for Custom UI


391
00:13:52,636 --> 00:13:53,806
and Custom Responses.


392
00:13:54,616 --> 00:13:56,056
Now, let's take a look at how we


393
00:13:56,056 --> 00:13:57,756
did that in Soup Chef.


394
00:14:13,986 --> 00:14:16,096
Alright, what you see here is


395
00:14:16,096 --> 00:14:16,976
our app Soup Chef.


396
00:14:17,496 --> 00:14:20,356
If we go to the Intents


397
00:14:20,356 --> 00:14:22,216
Definition File, you can see


398
00:14:22,216 --> 00:14:24,366
that we have a custom order soup


399
00:14:24,366 --> 00:14:25,166
intent defined.


400
00:14:26,046 --> 00:14:28,446
This intent is off-category


401
00:14:28,686 --> 00:14:29,036
order.


402
00:14:29,576 --> 00:14:32,386
Now, let's look at the response


403
00:14:32,386 --> 00:14:33,776
section that is associated with


404
00:14:33,776 --> 00:14:34,336
my intent.


405
00:14:35,226 --> 00:14:37,266
Here, I have properties and


406
00:14:37,266 --> 00:14:38,006
template sections.


407
00:14:38,556 --> 00:14:40,146
What I would like to do is add


408
00:14:40,376 --> 00:14:42,876
the custom success response that


409
00:14:42,876 --> 00:14:44,036
we just talked about.


410
00:14:44,896 --> 00:14:46,386
So, let's start by adding the


411
00:14:46,386 --> 00:14:47,326
wait time property.


412
00:14:47,756 --> 00:14:50,206
I'll click the Plus button, and


413
00:14:50,206 --> 00:14:52,176
name my property Wait Time.


414
00:14:52,786 --> 00:14:53,896
I'll leave it of the Type


415
00:14:53,896 --> 00:14:56,046
String, so I can format the date


416
00:14:56,226 --> 00:14:57,816
however I see fit before


417
00:14:57,816 --> 00:14:59,176
providing it into the dialogue.


418
00:15:00,676 --> 00:15:02,596
To reaffirm which soup the user


419
00:15:02,596 --> 00:15:04,516
ordered, I'm also going to add


420
00:15:05,056 --> 00:15:05,706
the soup property.


421
00:15:06,466 --> 00:15:08,566
Now, soup is a custom object in


422
00:15:08,566 --> 00:15:09,166
our app.


423
00:15:09,366 --> 00:15:10,766
So, I'm going to select the type


424
00:15:11,256 --> 00:15:11,626
"Custom."


425
00:15:12,136 --> 00:15:15,856
Now, let's take a look at the


426
00:15:15,856 --> 00:15:16,606
response codes.


427
00:15:17,126 --> 00:15:18,886
We have a failure and a success


428
00:15:18,916 --> 00:15:19,126
code.


429
00:15:20,556 --> 00:15:22,006
Here, I'm going to define the


430
00:15:22,006 --> 00:15:23,906
template for our Wait Time


431
00:15:24,166 --> 00:15:25,186
Response Template.


432
00:15:25,186 --> 00:15:27,866
So, let's do that.


433
00:15:28,066 --> 00:15:34,646
"Your Soup Will Be Ready in Wait


434
00:15:35,316 --> 00:15:35,476
Time."


435
00:15:37,116 --> 00:15:39,356
I would also like to add our Out


436
00:15:39,356 --> 00:15:40,466
of Stock Error Code.


437
00:15:41,166 --> 00:15:42,846
For that, I'll click the Plus


438
00:15:42,846 --> 00:15:44,936
Button and create another


439
00:15:44,936 --> 00:15:45,636
response code.


440
00:15:46,126 --> 00:15:49,036
I'll call it "Failure, Out of


441
00:15:49,826 --> 00:15:50,436
Stock."


442
00:15:52,346 --> 00:15:53,716
Since this is an error code,


443
00:15:54,066 --> 00:15:55,836
I'll uncheck the Success


444
00:15:56,026 --> 00:15:56,666
checkbox.


445
00:15:57,726 --> 00:15:59,766
And now, finally, let's define


446
00:15:59,766 --> 00:16:01,156
the template for it.


447
00:16:01,616 --> 00:16:06,866
"Sorry, Soup is Out of Stock."


448
00:16:07,216 --> 00:16:11,666
And with that, we have defined


449
00:16:11,666 --> 00:16:12,876
our custom responses.


450
00:16:13,376 --> 00:16:14,796
Now, let's head over to the


451
00:16:14,796 --> 00:16:15,976
Intent Handler file.


452
00:16:24,656 --> 00:16:27,956
Alright, here we are.


453
00:16:29,116 --> 00:16:30,686
As you see here, we have a


454
00:16:30,686 --> 00:16:32,556
Confirm and a Handle Method.


455
00:16:33,136 --> 00:16:34,356
Let's look at Confirm first.


456
00:16:35,036 --> 00:16:36,776
We find out which soup the user


457
00:16:36,776 --> 00:16:39,926
has requested, and then check


458
00:16:39,926 --> 00:16:41,276
with our menu manager whether


459
00:16:41,276 --> 00:16:42,896
that soup exists on our menu.


460
00:16:43,466 --> 00:16:44,946
If it does, we return the


461
00:16:44,946 --> 00:16:45,866
response code "Ready."


462
00:16:47,066 --> 00:16:48,786
What I would like to do here, is


463
00:16:48,786 --> 00:16:50,926
to check whether that soup item


464
00:16:50,976 --> 00:16:53,016
is available currently to order.


465
00:16:53,446 --> 00:16:55,516
So first, let's grab reference


466
00:16:55,516 --> 00:16:57,206
to the menu item from our menu


467
00:16:57,206 --> 00:16:57,566
manager.


468
00:16:59,116 --> 00:17:00,986
Then, I'm going to check if it's


469
00:17:00,986 --> 00:17:01,466
available.


470
00:17:06,656 --> 00:17:09,086
If it isn't, I'm going to call


471
00:17:09,086 --> 00:17:10,646
the Completion Handler with our


472
00:17:10,646 --> 00:17:12,076
new Failure, Out of Stock Error.


473
00:17:18,096 --> 00:17:20,175
And provided the soup object


474
00:17:20,175 --> 00:17:21,126
that the user requested.


475
00:17:25,215 --> 00:17:27,526
Alright, so we have provided the


476
00:17:27,566 --> 00:17:29,006
custom error code here in


477
00:17:29,006 --> 00:17:29,546
completion.


478
00:17:30,116 --> 00:17:31,206
Let's take a look at Handle.


479
00:17:32,416 --> 00:17:34,926
Handling this intent means


480
00:17:34,926 --> 00:17:35,736
ordering our soup.


481
00:17:36,346 --> 00:17:38,146
So first, we build the Order


482
00:17:38,146 --> 00:17:39,586
Object from Intent.


483
00:17:41,006 --> 00:17:42,976
Then we place the order, using


484
00:17:42,976 --> 00:17:43,736
our order manager.


485
00:17:44,356 --> 00:17:47,166
And finally, let the system know


486
00:17:47,606 --> 00:17:48,626
that the order was successful.


487
00:17:49,556 --> 00:17:50,976
But this is our chance to


488
00:17:50,976 --> 00:17:52,766
provide users with more helpful


489
00:17:52,766 --> 00:17:54,206
information like wait time.


490
00:17:54,656 --> 00:17:55,776
So, let's call the Completion


491
00:17:55,776 --> 00:17:57,316
Handler with our New Custom


492
00:17:57,316 --> 00:17:58,466
Response Code.


493
00:18:03,556 --> 00:18:05,786
This response template takes the


494
00:18:05,786 --> 00:18:07,536
soup and wait time strengths.


495
00:18:08,496 --> 00:18:10,946
So, I'll provide that from my


496
00:18:10,946 --> 00:18:11,356
intent.


497
00:18:19,056 --> 00:18:20,776
And we can grab the wait time


498
00:18:20,916 --> 00:18:21,546
from our order.


499
00:18:24,626 --> 00:18:26,346
And that's it.


500
00:18:27,076 --> 00:18:29,886
So, you saw how easy it is to


501
00:18:29,886 --> 00:18:31,996
add support for custom responses


502
00:18:33,196 --> 00:18:34,186
to our custom intent.


503
00:18:34,916 --> 00:18:37,976
You start by defining a custom


504
00:18:37,976 --> 00:18:39,986
intent that works for your use


505
00:18:39,986 --> 00:18:40,336
case.


506
00:18:40,886 --> 00:18:42,846
You follow it up by defining


507
00:18:43,166 --> 00:18:45,386
custom responses that you want


508
00:18:45,426 --> 00:18:46,166
Siri to speak out.


509
00:18:46,496 --> 00:18:48,516
And finally, you provide them in


510
00:18:48,516 --> 00:18:49,286
your Intent Handler.


511
00:18:50,326 --> 00:18:52,416
Now, I placed that order for


512
00:18:52,416 --> 00:18:54,096
that soup earlier, so I better


513
00:18:54,096 --> 00:18:55,146
head back and get it.


514
00:18:55,926 --> 00:18:59,016
So, please welcome Ayaka Nonaka,


515
00:18:59,016 --> 00:19:01,086
who will talk to you about some


516
00:19:01,086 --> 00:19:02,656
of the best practices that you


517
00:19:02,656 --> 00:19:04,646
should adopt in order to create


518
00:19:04,646 --> 00:19:06,616
great voice and UI experiences


519
00:19:06,786 --> 00:19:07,386
in your apps.


520
00:19:07,716 --> 00:19:09,046
Thank you and welcome Ayaka.


521
00:19:10,516 --> 00:19:14,396
[ Applause ]


522
00:19:14,896 --> 00:19:15,416
>> Thanks so much.


523
00:19:16,516 --> 00:19:19,636
[ Applause ]


524
00:19:20,136 --> 00:19:20,726
Hi, everyone.


525
00:19:21,796 --> 00:19:23,166
So, as Amit just showed you,


526
00:19:23,316 --> 00:19:24,926
it's super easy to get started


527
00:19:24,926 --> 00:19:25,766
with Siri Shortcuts.


528
00:19:26,316 --> 00:19:28,006
Once a shortcut is donated, it


529
00:19:28,006 --> 00:19:29,636
is available for the system to


530
00:19:29,636 --> 00:19:31,196
suggest as a shortcut to use


531
00:19:31,196 --> 00:19:32,576
with Siri straight out of the


532
00:19:32,576 --> 00:19:32,886
box.


533
00:19:32,986 --> 00:19:35,256
I'm going to be showing you some


534
00:19:35,256 --> 00:19:37,176
more new shortcuts APIs, and the


535
00:19:37,176 --> 00:19:38,576
best practices to help bring the


536
00:19:38,776 --> 00:19:39,906
greatest experience to our


537
00:19:39,906 --> 00:19:40,306
users.


538
00:19:40,686 --> 00:19:41,756
And I know you care about this


539
00:19:41,756 --> 00:19:43,216
because your users are going to


540
00:19:43,216 --> 00:19:44,796
notice these small details and


541
00:19:44,796 --> 00:19:46,096
the large amount of care that


542
00:19:46,096 --> 00:19:47,806
you put into your apps.


543
00:19:48,286 --> 00:19:49,446
If you saw the first session,


544
00:19:49,696 --> 00:19:50,676
"Introduction to Siri


545
00:19:50,676 --> 00:19:51,996
Shortcuts," you learned that


546
00:19:51,996 --> 00:19:53,266
there are two ways to donate


547
00:19:53,266 --> 00:19:53,636
shortcuts.


548
00:19:54,406 --> 00:19:55,486
The first way is through NS User


549
00:19:55,486 --> 00:19:56,396
Activity.


550
00:19:57,336 --> 00:19:58,916
User Activities are great if you


551
00:19:58,916 --> 00:20:00,406
want to do a basic integration,


552
00:20:00,696 --> 00:20:02,166
where you just want to open the


553
00:20:02,196 --> 00:20:03,176
app and show your user a


554
00:20:03,176 --> 00:20:04,306
particular piece of content.


555
00:20:04,306 --> 00:20:06,596
And the second way is through


556
00:20:06,596 --> 00:20:07,006
Intents.


557
00:20:07,926 --> 00:20:09,346
Intents are great if you want to


558
00:20:09,346 --> 00:20:10,776
do a deeper integration where


559
00:20:10,776 --> 00:20:11,656
you can run things in the


560
00:20:11,656 --> 00:20:13,526
background and inline within the


561
00:20:13,526 --> 00:20:15,016
Siri experience, so you don't


562
00:20:15,016 --> 00:20:16,596
have to context with your users


563
00:20:16,886 --> 00:20:17,976
out of that to get things done.


564
00:20:18,136 --> 00:20:21,816
And for both NS User Activities


565
00:20:21,816 --> 00:20:23,426
and Intents, there are several


566
00:20:23,496 --> 00:20:24,226
parameters that we can


567
00:20:24,226 --> 00:20:24,676
configure.


568
00:20:25,886 --> 00:20:27,296
The first one is the title.


569
00:20:28,596 --> 00:20:29,756
So, in this case, Order Clam


570
00:20:29,756 --> 00:20:31,636
Chowder, with the subtitle


571
00:20:31,636 --> 00:20:33,386
underneath it and image next to


572
00:20:33,386 --> 00:20:35,656
it, and finally, a suggested


573
00:20:35,716 --> 00:20:37,126
invocation phrase which you'll


574
00:20:37,126 --> 00:20:37,796
get to later.


575
00:20:39,376 --> 00:20:40,276
For each of these, we're going


576
00:20:40,276 --> 00:20:41,736
to go over how best to configure


577
00:20:41,736 --> 00:20:41,936
them.


578
00:20:42,506 --> 00:20:43,686
So, let's get started with the


579
00:20:43,686 --> 00:20:44,786
title and subtitle.


580
00:20:45,426 --> 00:20:47,496
So, when you're thinking about


581
00:20:47,576 --> 00:20:49,516
titles and subtitles, there are


582
00:20:49,516 --> 00:20:50,626
two high-level things that you


583
00:20:50,626 --> 00:20:51,296
should keep in mind.


584
00:20:52,226 --> 00:20:53,646
First, the title should


585
00:20:53,646 --> 00:20:55,066
represent what happens when the


586
00:20:55,066 --> 00:20:56,376
user runs the shortcut.


587
00:20:56,786 --> 00:20:57,826
Your user is going to want to


588
00:20:57,826 --> 00:20:59,526
know exactly what happens before


589
00:20:59,526 --> 00:21:00,696
they run the shortcut or add


590
00:21:00,696 --> 00:21:02,166
that shortcut to use with Siri.


591
00:21:02,236 --> 00:21:05,106
And secondly, the subtitles will


592
00:21:05,106 --> 00:21:06,536
provide more information, but


593
00:21:06,536 --> 00:21:07,426
only if you need it.


594
00:21:08,416 --> 00:21:10,036
So, let's dive into a little bit


595
00:21:10,036 --> 00:21:12,306
more of the details.


596
00:21:12,436 --> 00:21:14,136
The first easy thing to do is


597
00:21:14,136 --> 00:21:14,956
see a sentence case.


598
00:21:15,216 --> 00:21:16,626
This is to make sure that we


599
00:21:16,816 --> 00:21:18,486
provide a consistent experience


600
00:21:18,486 --> 00:21:19,876
across all different apps and


601
00:21:19,876 --> 00:21:20,586
their shortcuts.


602
00:21:21,356 --> 00:21:24,266
Next, it's important to keep the


603
00:21:24,266 --> 00:21:24,996
title concise.


604
00:21:25,456 --> 00:21:26,716
This is because we're dealing


605
00:21:26,716 --> 00:21:27,986
with potentially a limited


606
00:21:27,986 --> 00:21:28,856
amount of [inaudible].


607
00:21:28,916 --> 00:21:31,156
And you can do this by dropping


608
00:21:31,156 --> 00:21:32,806
articles like "a" and "an" if


609
00:21:32,806 --> 00:21:34,606
your language allows for it.


610
00:21:35,456 --> 00:21:37,336
Next, it's super important to


611
00:21:37,336 --> 00:21:38,646
include critical information.


612
00:21:38,906 --> 00:21:39,956
For example, if you have a


613
00:21:39,956 --> 00:21:41,816
payments app that lets you send


614
00:21:41,816 --> 00:21:43,186
money to your friends and you


615
00:21:43,186 --> 00:21:44,266
have a shortcut for that, it's


616
00:21:44,266 --> 00:21:45,886
important to put the dollar


617
00:21:45,886 --> 00:21:47,276
amount or your currency amount


618
00:21:47,276 --> 00:21:47,566
in that.


619
00:21:48,146 --> 00:21:50,086
Probably in the title in this


620
00:21:51,516 --> 00:21:51,626
case.


621
00:21:51,846 --> 00:21:53,096
Next, if we're working with


622
00:21:53,096 --> 00:21:54,306
Intents, it's important to


623
00:21:54,306 --> 00:21:55,256
include a verb.


624
00:21:55,416 --> 00:21:56,276
And if you're working with


625
00:21:56,276 --> 00:21:57,496
English, we should put that at


626
00:21:57,496 --> 00:21:58,626
the beginning and prepend the


627
00:21:58,626 --> 00:21:59,766
verb to your phrase.


628
00:21:59,906 --> 00:22:03,076
And last but not least, to make


629
00:22:03,076 --> 00:22:03,906
sure that we provide the


630
00:22:03,966 --> 00:22:05,316
shortcuts experience to everyone


631
00:22:05,316 --> 00:22:06,856
around the world, it's very


632
00:22:06,856 --> 00:22:07,816
important to localize.


633
00:22:08,486 --> 00:22:10,706
So, not let's take a look at


634
00:22:10,746 --> 00:22:11,526
some things that we should


635
00:22:11,526 --> 00:22:11,916
avoid.


636
00:22:12,796 --> 00:22:13,706
So, the first thing that we


637
00:22:13,706 --> 00:22:14,976
don't need to include, is the


638
00:22:14,976 --> 00:22:15,576
name of your app.


639
00:22:16,316 --> 00:22:18,076
This is because our RUI already


640
00:22:18,076 --> 00:22:19,246
attributes the name of your app,


641
00:22:19,246 --> 00:22:20,466
and by not including this, you


642
00:22:20,466 --> 00:22:21,516
can save even more space.


643
00:22:22,126 --> 00:22:25,226
And second, we don't need to put


644
00:22:25,226 --> 00:22:26,496
duplicate information in the


645
00:22:26,496 --> 00:22:27,996
title and subtitle for similar


646
00:22:27,996 --> 00:22:29,656
reasons to save space and leave


647
00:22:29,656 --> 00:22:30,916
room for critical information.


648
00:22:31,456 --> 00:22:34,636
And lastly, we don't want to use


649
00:22:34,636 --> 00:22:36,056
quotation marks unless you're


650
00:22:36,056 --> 00:22:37,156
actually quoting something


651
00:22:37,156 --> 00:22:38,536
that's going to be used verbatim


652
00:22:38,536 --> 00:22:39,176
in the shortcut.


653
00:22:39,526 --> 00:22:40,716
For example, if you have a


654
00:22:40,896 --> 00:22:42,016
shortcut to send a message, you


655
00:22:42,016 --> 00:22:43,096
can put the content of the


656
00:22:43,096 --> 00:22:45,146
message in the quotation marks.


657
00:22:45,216 --> 00:22:48,596
So, let's take a look at an


658
00:22:48,596 --> 00:22:49,106
example.


659
00:22:49,706 --> 00:22:53,446
This example says, "A clam


660
00:22:53,446 --> 00:22:54,476
chowder from Soup Chef.


661
00:22:54,896 --> 00:22:56,306
The best way to get soup, Soup


662
00:22:56,306 --> 00:22:56,676
Chef."


663
00:22:57,736 --> 00:22:59,346
And just based on what we


664
00:22:59,346 --> 00:23:00,476
learned about, I think we can


665
00:23:00,476 --> 00:23:02,076
all agree that this is not a


666
00:23:02,076 --> 00:23:02,806
good example.


667
00:23:03,356 --> 00:23:04,346
So, let's try to make it better.


668
00:23:05,146 --> 00:23:06,706
So, the first easy thing that we


669
00:23:06,706 --> 00:23:08,526
can do is to drop the "From Soup


670
00:23:08,526 --> 00:23:10,146
Chef," because as you see, Soup


671
00:23:10,146 --> 00:23:11,566
Chef is already attributed in


672
00:23:11,566 --> 00:23:11,876
this UI.


673
00:23:12,686 --> 00:23:15,676
So, now we have "A Clam


674
00:23:15,676 --> 00:23:16,016
Chowder."


675
00:23:17,086 --> 00:23:18,176
But when I'm looking at this,


676
00:23:18,346 --> 00:23:19,526
I'm not sure what's going to


677
00:23:19,576 --> 00:23:20,836
happen when I run the shortcut.


678
00:23:20,836 --> 00:23:23,346
Am I ordering the soup or just


679
00:23:23,346 --> 00:23:23,996
looking at it?


680
00:23:24,286 --> 00:23:24,676
Who knows?


681
00:23:25,176 --> 00:23:26,466
So, let's fix that by adding a


682
00:23:26,466 --> 00:23:26,816
verb.


683
00:23:27,466 --> 00:23:28,376
And while I'm doing that, I'm


684
00:23:28,376 --> 00:23:30,076
also going to drop the article


685
00:23:30,076 --> 00:23:34,526
"a" to save some space.


686
00:23:34,726 --> 00:23:36,066
So now I have "Order Clam


687
00:23:36,066 --> 00:23:36,496
Chowder."


688
00:23:37,746 --> 00:23:38,916
So, when I'm looking at this,


689
00:23:38,916 --> 00:23:40,586
I'm thinking, "I want to order a


690
00:23:40,586 --> 00:23:42,176
Clam Chowder, not a Clam


691
00:23:42,256 --> 00:23:43,666
Chowder, which doesn't sound


692
00:23:43,666 --> 00:23:44,926
very delicious and we're trying


693
00:23:44,926 --> 00:23:46,806
to sell soup here, so that's


694
00:23:46,806 --> 00:23:47,996
really not ideal.


695
00:23:48,746 --> 00:23:51,316
But the good thing is, we can


696
00:23:51,366 --> 00:23:52,886
fix this really easily by simply


697
00:23:52,886 --> 00:23:54,206
dropping the quotation marks.


698
00:23:55,466 --> 00:23:56,586
And now we have, "Order Clam


699
00:23:56,586 --> 00:23:56,976
Chowder."


700
00:23:56,976 --> 00:23:58,316
And I think at this point, our


701
00:23:58,466 --> 00:23:59,606
title's looking pretty good.


702
00:24:00,196 --> 00:24:00,996
But let's take a look at the


703
00:24:00,996 --> 00:24:01,536
subtitle.


704
00:24:02,316 --> 00:24:04,136
The subtitle says, "The best way


705
00:24:04,136 --> 00:24:04,756
to get soup."


706
00:24:05,516 --> 00:24:07,546
But that's basically Soup Chef's


707
00:24:07,576 --> 00:24:07,936
tag line.


708
00:24:07,936 --> 00:24:09,506
I already know that Soup Chef is


709
00:24:09,506 --> 00:24:10,516
the best way to get my soup.


710
00:24:10,846 --> 00:24:12,336
And it's not adding any extra


711
00:24:12,336 --> 00:24:13,816
information that is specific to


712
00:24:13,816 --> 00:24:14,316
the shortcut.


713
00:24:15,236 --> 00:24:18,086
And, so that's already not good,


714
00:24:18,086 --> 00:24:20,816
but a more critically bad thing


715
00:24:20,816 --> 00:24:23,696
is that Soup Chef recently


716
00:24:23,696 --> 00:24:25,096
started offering delivery


717
00:24:25,096 --> 00:24:26,606
service, and I don't know where


718
00:24:26,606 --> 00:24:27,656
I'm getting my soup delivered


719
00:24:27,656 --> 00:24:27,886
to.


720
00:24:28,096 --> 00:24:29,326
Am I getting it to my home, my


721
00:24:29,326 --> 00:24:30,626
office, someone else's office,


722
00:24:30,956 --> 00:24:31,456
no idea.


723
00:24:31,736 --> 00:24:33,346
So, let's fix that by adding a


724
00:24:33,346 --> 00:24:34,326
delivery location.


725
00:24:35,736 --> 00:24:37,216
So, now I have "Order Clam


726
00:24:37,256 --> 00:24:39,136
Chowder to 1 Apple Park Way."


727
00:24:39,206 --> 00:24:41,036
And now I know exactly what


728
00:24:41,036 --> 00:24:42,776
happens when I run the shortcut.


729
00:24:43,216 --> 00:24:43,936
So, that is great.


730
00:24:44,586 --> 00:24:47,626
And in the Settings UI, it might


731
00:24:47,626 --> 00:24:48,466
look something like this.


732
00:24:49,096 --> 00:24:51,336
And this is looking pretty good.


733
00:24:51,336 --> 00:24:52,606
But I think we can do a little


734
00:24:52,606 --> 00:24:53,036
bit better.


735
00:24:53,846 --> 00:24:55,396
So, as you can see, the Soup


736
00:24:55,396 --> 00:24:57,216
Chef app icon is used for both


737
00:24:57,216 --> 00:24:58,586
the Clam Chowder and Tomato Soup


738
00:24:58,586 --> 00:25:00,446
cases, but wouldn't it be great


739
00:25:00,446 --> 00:25:01,986
if we can show an image of a


740
00:25:01,986 --> 00:25:02,996
clam chowder for the clam


741
00:25:02,996 --> 00:25:04,306
chowder case and an image for


742
00:25:04,306 --> 00:25:05,506
the tomato soup for the tomato


743
00:25:05,506 --> 00:25:05,916
soup case?


744
00:25:06,506 --> 00:25:08,676
Sort of like this.


745
00:25:08,896 --> 00:25:10,506
And for this, we provide two


746
00:25:10,506 --> 00:25:10,866
APIs.


747
00:25:11,166 --> 00:25:12,336
One for User Activities and


748
00:25:12,336 --> 00:25:13,286
another for Intents.


749
00:25:13,406 --> 00:25:15,806
So, let's take a look.


750
00:25:16,006 --> 00:25:17,916
So, to set some context, the


751
00:25:17,916 --> 00:25:19,536
user has just viewed one of


752
00:25:19,536 --> 00:25:21,626
their past soup orders and we


753
00:25:21,626 --> 00:25:22,756
want to donate it, so we can


754
00:25:22,756 --> 00:25:24,626
associate it -- we can associate


755
00:25:24,626 --> 00:25:25,546
that with a shortcut.


756
00:25:26,436 --> 00:25:27,606
So, the first thing that we want


757
00:25:27,606 --> 00:25:29,716
to do is create a CS Searchable


758
00:25:29,926 --> 00:25:31,546
Item Attribute Set which by the


759
00:25:31,546 --> 00:25:32,646
way is the same thing that you


760
00:25:32,646 --> 00:25:33,526
want to use if you want to


761
00:25:33,526 --> 00:25:35,166
provide a subtitle to your user


762
00:25:35,166 --> 00:25:36,566
activity, but in this case, I


763
00:25:36,566 --> 00:25:37,786
want to set an image


764
00:25:37,786 --> 00:25:38,046
[inaudible].


765
00:25:38,046 --> 00:25:39,766
First, make an image with


766
00:25:39,766 --> 00:25:40,526
chowder.


767
00:25:41,086 --> 00:25:43,076
Get the PNG data out of it and


768
00:25:43,216 --> 00:25:44,426
set it as the thumbnail data


769
00:25:44,426 --> 00:25:45,606
property on my Attributes.


770
00:25:46,236 --> 00:25:47,486
And next, I'm going to take


771
00:25:47,486 --> 00:25:48,846
those attributes, set it as the


772
00:25:48,846 --> 00:25:50,226
Content Attribute Set on the


773
00:25:50,226 --> 00:25:51,876
User Activity, and finally I'm


774
00:25:51,876 --> 00:25:52,826
going to donate the User


775
00:25:52,826 --> 00:25:54,186
Activity by setting it as the


776
00:25:54,186 --> 00:25:55,786
User Activity property on my


777
00:25:55,786 --> 00:25:56,346
view controller.


778
00:25:56,766 --> 00:25:59,786
So, let's take a look at how it


779
00:25:59,786 --> 00:26:00,586
works during Intents.


780
00:26:01,556 --> 00:26:02,936
For Intents, I'm actually able


781
00:26:02,936 --> 00:26:04,366
to set multiple images.


782
00:26:04,606 --> 00:26:06,256
One for each parameter that is


783
00:26:06,286 --> 00:26:07,166
defined as an intent.


784
00:26:08,046 --> 00:26:10,386
So, I'm going to set an image of


785
00:26:10,386 --> 00:26:11,556
a chowder for the parameter


786
00:26:11,556 --> 00:26:13,506
named "Soup," and an image of an


787
00:26:13,506 --> 00:26:14,916
office for the parameter named


788
00:26:14,916 --> 00:26:15,816
"Delivery Location."


789
00:26:16,236 --> 00:26:17,496
And once I have that, I'm going


790
00:26:17,496 --> 00:26:18,856
to create an IN Interaction out


791
00:26:18,856 --> 00:26:20,726
of it and donate it.


792
00:26:21,396 --> 00:26:22,706
So, at this point, you might be


793
00:26:22,706 --> 00:26:24,676
wondering, "If I have a shortcut


794
00:26:24,676 --> 00:26:25,876
that is based on a shortcut type


795
00:26:25,876 --> 00:26:27,526
that contains multiple


796
00:26:27,526 --> 00:26:29,406
parameters that have images, how


797
00:26:29,406 --> 00:26:31,026
do I know which image gets


798
00:26:31,026 --> 00:26:31,396
used?"


799
00:26:31,886 --> 00:26:34,066
For that, we're going to go to


800
00:26:34,066 --> 00:26:35,416
our Intent Definition File.


801
00:26:35,976 --> 00:26:38,036
And in particular, the


802
00:26:38,036 --> 00:26:38,966
Parameters Section.


803
00:26:39,856 --> 00:26:40,906
So, in the Parameters Section,


804
00:26:40,906 --> 00:26:42,186
we want to make sure that these


805
00:26:42,186 --> 00:26:43,546
parameters, at least the ones


806
00:26:43,546 --> 00:26:44,906
with images are ordered from


807
00:26:45,136 --> 00:26:47,146
least specific to most specific.


808
00:26:47,606 --> 00:26:48,876
So, in my case, I care more


809
00:26:48,876 --> 00:26:50,396
about the soup image than the


810
00:26:50,396 --> 00:26:51,926
delivery location.


811
00:26:51,926 --> 00:26:52,646
So, I'm going to make sure the


812
00:26:52,646 --> 00:26:54,266
soup comes below delivery


813
00:26:54,266 --> 00:26:54,806
location.


814
00:26:55,326 --> 00:26:57,886
And once I do that, my list of


815
00:26:57,886 --> 00:26:59,176
shortcuts might look like this.


816
00:27:00,246 --> 00:27:01,496
So, in the first two cases,


817
00:27:01,756 --> 00:27:03,516
where the shortcut type contains


818
00:27:03,516 --> 00:27:05,106
both a soup and a delivery


819
00:27:05,106 --> 00:27:07,176
location, I see an image of a


820
00:27:07,216 --> 00:27:08,536
soup, but in the last case,


821
00:27:08,656 --> 00:27:10,286
where the shortcut type just


822
00:27:10,286 --> 00:27:12,136
contains a delivery location, I


823
00:27:12,176 --> 00:27:13,966
just see the image of a delivery


824
00:27:13,966 --> 00:27:14,526
location.


825
00:27:15,716 --> 00:27:16,906
Now, these shortcuts are looking


826
00:27:16,946 --> 00:27:18,096
so great, that I just want to


827
00:27:18,096 --> 00:27:19,766
tap on one and add it to Siri,


828
00:27:19,766 --> 00:27:20,386
so I can use it.


829
00:27:21,456 --> 00:27:23,306
And our users are super excited


830
00:27:23,306 --> 00:27:24,566
about this new feature too, and


831
00:27:24,566 --> 00:27:26,556
they're all so eager to start


832
00:27:26,556 --> 00:27:27,856
setting up new shortcuts to use


833
00:27:27,856 --> 00:27:28,706
with Siri.


834
00:27:28,946 --> 00:27:30,366
But as more users starting using


835
00:27:30,366 --> 00:27:31,666
this feature, we noticed


836
00:27:31,666 --> 00:27:31,966
something.


837
00:27:31,966 --> 00:27:32,846
We noticed a problem.


838
00:27:33,526 --> 00:27:35,606
When they got to the recording


839
00:27:35,676 --> 00:27:36,796
screen, they had no idea what to


840
00:27:36,796 --> 00:27:37,096
say.


841
00:27:38,056 --> 00:27:39,206
They could use some creative


842
00:27:39,206 --> 00:27:41,356
inspiration in choosing a great


843
00:27:41,356 --> 00:27:42,606
suggested shortcut phrase.


844
00:27:43,376 --> 00:27:45,496
And as Soup Chef app developers


845
00:27:45,496 --> 00:27:47,336
and general soup enthusiasts, we


846
00:27:47,336 --> 00:27:48,576
think we have some pretty great


847
00:27:48,576 --> 00:27:50,406
ideas on what would make a great


848
00:27:50,436 --> 00:27:51,226
soup ordering phrase.


849
00:27:51,226 --> 00:27:52,206
You know, something like


850
00:27:52,416 --> 00:27:54,226
"Tomato, Tomato" or "Chowder


851
00:27:54,226 --> 00:27:54,696
Time."


852
00:27:55,686 --> 00:27:57,846
So, would it be great if we can


853
00:27:57,846 --> 00:27:59,476
show a suggestion like this?


854
00:28:00,016 --> 00:28:01,336
"Hey user, you can say something


855
00:28:01,336 --> 00:28:02,546
like, 'Chowder Time.'"


856
00:28:03,186 --> 00:28:04,746
And of course, we have an API


857
00:28:04,746 --> 00:28:05,846
for this, so let's take a look.


858
00:28:06,856 --> 00:28:08,066
So, building on a previous


859
00:28:08,066 --> 00:28:09,596
example, all we have to do is


860
00:28:09,626 --> 00:28:10,586
add one line.


861
00:28:11,336 --> 00:28:12,766
So, User Activity has a property


862
00:28:12,766 --> 00:28:14,246
called Suggested Indication


863
00:28:14,246 --> 00:28:14,516
Phrase.


864
00:28:14,516 --> 00:28:15,666
And I'm going to set that to


865
00:28:15,736 --> 00:28:16,256
Chowder Time.


866
00:28:17,206 --> 00:28:18,576
And for Intents, it's the exact


867
00:28:18,576 --> 00:28:18,996
same thing.


868
00:28:19,786 --> 00:28:21,326
Intents also have a property


869
00:28:21,326 --> 00:28:22,886
called Suggested Indication


870
00:28:22,886 --> 00:28:24,316
Phrase which I'll also set to


871
00:28:24,346 --> 00:28:24,946
"Chowder Time."


872
00:28:25,836 --> 00:28:27,346
So, the API for this as you can


873
00:28:27,346 --> 00:28:28,436
see, is super simple.


874
00:28:28,656 --> 00:28:30,356
But what actually makes a good


875
00:28:30,356 --> 00:28:31,686
suggested invocation phrase?


876
00:28:34,356 --> 00:28:35,896
So, the most important thing to


877
00:28:35,896 --> 00:28:37,596
keep in mind is that the


878
00:28:37,656 --> 00:28:39,246
suggested invocation phrase is


879
00:28:39,246 --> 00:28:40,796
both short and memorable.


880
00:28:41,106 --> 00:28:42,436
You have to remember that your


881
00:28:42,436 --> 00:28:43,326
users are going to have to say


882
00:28:43,326 --> 00:28:45,116
this phrase exactly every,


883
00:28:45,116 --> 00:28:45,966
single time they run their


884
00:28:45,966 --> 00:28:46,436
shortcut.


885
00:28:46,806 --> 00:28:47,736
So, ideally it would be


886
00:28:47,776 --> 00:28:48,876
somewhere between two to three


887
00:28:48,876 --> 00:28:49,330
words.


888
00:28:51,526 --> 00:28:53,016
Next, it's important to not


889
00:28:53,016 --> 00:28:54,846
include the phrase, "Hey Siri,"


890
00:28:54,846 --> 00:28:56,896
in your shortcut phrase, because


891
00:28:57,006 --> 00:28:58,736
if your user accidentally sets


892
00:28:58,736 --> 00:29:00,286
their shortcut phrase as "Hey,


893
00:29:00,286 --> 00:29:01,586
Siri, Chowder Time," when they


894
00:29:01,586 --> 00:29:02,806
actually run the shortcut, they


895
00:29:02,806 --> 00:29:04,166
might have to say, "Hey Siri,


896
00:29:04,166 --> 00:29:06,026
Hey Siri, Chowder Time," and no


897
00:29:06,026 --> 00:29:09,856
one wants to do that.


898
00:29:09,976 --> 00:29:11,206
So, let's take a look at some


899
00:29:11,206 --> 00:29:11,726
examples.


900
00:29:12,286 --> 00:29:15,996
This example says, "Hey, Siri,


901
00:29:15,996 --> 00:29:17,476
please place an order, thank


902
00:29:17,476 --> 00:29:17,646
you."


903
00:29:18,226 --> 00:29:20,936
Although this example is polite,


904
00:29:21,046 --> 00:29:22,976
it's not a good example.


905
00:29:23,806 --> 00:29:25,256
First, it contains, "Hey, Siri,"


906
00:29:25,256 --> 00:29:27,126
which is pretty obvious, but


907
00:29:27,126 --> 00:29:28,356
it's a little bit too long for


908
00:29:28,356 --> 00:29:29,656
me to want to repeat it every,


909
00:29:29,656 --> 00:29:30,796
single time I want to run the


910
00:29:30,856 --> 00:29:31,656
shortcut.


911
00:29:31,656 --> 00:29:32,226
So, that's out.


912
00:29:33,366 --> 00:29:34,316
What about this example?


913
00:29:35,016 --> 00:29:36,766
This example says, "Order a clam


914
00:29:36,766 --> 00:29:38,146
chowder to my office."


915
00:29:38,726 --> 00:29:40,726
Seems pretty reasonable, but


916
00:29:40,726 --> 00:29:42,296
this is still not good because


917
00:29:42,856 --> 00:29:43,836
it's still too long.


918
00:29:43,836 --> 00:29:44,916
Like, it's not short and


919
00:29:44,916 --> 00:29:45,456
memorable.


920
00:29:45,546 --> 00:29:47,176
And I don't think I can or want


921
00:29:47,176 --> 00:29:48,486
to remember to say this phrase


922
00:29:48,696 --> 00:29:50,276
every, single time I want clam


923
00:29:50,276 --> 00:29:51,666
chowder delivered to my office.


924
00:29:53,216 --> 00:29:54,386
What about this example?


925
00:29:55,076 --> 00:29:56,486
This simply says, "Chowder


926
00:29:56,486 --> 00:29:56,776
Time."


927
00:29:57,206 --> 00:29:59,366
This is both short and memorable


928
00:29:59,366 --> 00:30:00,856
and doesn't include the phrase,


929
00:30:00,936 --> 00:30:01,696
"Hey, Siri."


930
00:30:02,056 --> 00:30:03,796
So, this passes all of our tests


931
00:30:03,796 --> 00:30:04,796
and that's awesome.


932
00:30:06,026 --> 00:30:07,366
But we can't [inaudible] in


933
00:30:07,366 --> 00:30:10,416
order to provide a truly great


934
00:30:10,706 --> 00:30:12,116
shortcuts experience to your


935
00:30:12,686 --> 00:30:13,996
users, around the world, you


936
00:30:13,996 --> 00:30:14,756
have to make sure it's


937
00:30:14,756 --> 00:30:15,306
localized.


938
00:30:15,666 --> 00:30:16,906
For example, I speak both


939
00:30:16,906 --> 00:30:18,216
English and Japanese, and it


940
00:30:18,216 --> 00:30:19,646
would be great if I can suggest


941
00:30:20,256 --> 00:30:21,646
a Use Shortcuts in Japanese sort


942
00:30:21,646 --> 00:30:21,976
of like this.


943
00:30:22,056 --> 00:30:24,786
So, instead of "Chowder Time," I


944
00:30:24,786 --> 00:30:26,096
can be like [foreign language


945
00:30:26,736 --> 00:30:27,536
spoken] which means, "I'll eat


946
00:30:27,606 --> 00:30:27,996
chowder."


947
00:30:28,956 --> 00:30:32,306
To do this, we can localize.


948
00:30:32,486 --> 00:30:33,866
And when we're thinking about


949
00:30:33,866 --> 00:30:36,056
localization, there are a couple


950
00:30:36,056 --> 00:30:37,116
of things to keep in mind.


951
00:30:37,526 --> 00:30:39,336
So, in addition to localizing


952
00:30:39,336 --> 00:30:40,556
your code, we want to make sure


953
00:30:40,556 --> 00:30:42,726
to localize the content in the


954
00:30:42,726 --> 00:30:44,216
Intent Definition Files, because


955
00:30:44,216 --> 00:30:45,556
as you can remember, there are a


956
00:30:45,556 --> 00:30:46,506
lot of strings in there.


957
00:30:47,546 --> 00:30:48,976
And second, we have to think


958
00:30:48,976 --> 00:30:49,946
about pluralization.


959
00:30:50,116 --> 00:30:51,246
So, even if you're not


960
00:30:51,246 --> 00:30:52,826
localizing to any other language


961
00:30:52,826 --> 00:30:54,606
besides English, if you have to


962
00:30:54,606 --> 00:30:56,296
handle things like, "Order one


963
00:30:56,296 --> 00:30:57,856
clam chowder," versus, "Order


964
00:30:57,856 --> 00:30:59,356
three clam chowders," you have


965
00:30:59,356 --> 00:31:00,526
to think about localization.


966
00:31:00,976 --> 00:31:02,866
And to learn about all of this


967
00:31:02,866 --> 00:31:03,506
stuff, check out the


968
00:31:03,506 --> 00:31:05,446
Localization Session and their


969
00:31:05,446 --> 00:31:05,776
labs.


970
00:31:06,126 --> 00:31:07,096
They'll teach you everything


971
00:31:07,096 --> 00:31:08,026
that you need to know, and more.


972
00:31:09,306 --> 00:31:09,646
So, cool.


973
00:31:09,646 --> 00:31:11,346
For now, let's go back to


974
00:31:11,376 --> 00:31:11,666
English.


975
00:31:12,386 --> 00:31:15,306
Now, that we've followed these


976
00:31:15,566 --> 00:31:16,856
best practices, when we go to


977
00:31:16,856 --> 00:31:17,606
the Settings UI, you are


978
00:31:17,706 --> 00:31:19,526
presented with a beautiful list


979
00:31:19,566 --> 00:31:20,836
of suggested shortcuts.


980
00:31:21,356 --> 00:31:22,916
And right now, these are based


981
00:31:22,916 --> 00:31:24,906
on a combination of suggestions


982
00:31:24,906 --> 00:31:26,056
based on the user's past


983
00:31:26,056 --> 00:31:27,276
routines and the things that the


984
00:31:27,276 --> 00:31:28,196
user did recently.


985
00:31:29,126 --> 00:31:30,686
But in addition, we provide an


986
00:31:30,686 --> 00:31:32,356
API to allow developers to


987
00:31:32,356 --> 00:31:33,676
suggest their own shortcuts.


988
00:31:34,176 --> 00:31:35,456
And this is useful because this


989
00:31:35,456 --> 00:31:36,856
allows you to suggest things for


990
00:31:36,856 --> 00:31:37,886
things that the user hasn't


991
00:31:37,886 --> 00:31:39,536
necessarily done yet or hasn't


992
00:31:39,536 --> 00:31:40,126
done recently.


993
00:31:40,836 --> 00:31:42,326
For example, if you have a music


994
00:31:42,326 --> 00:31:43,936
app, you might want to offer a


995
00:31:44,026 --> 00:31:45,366
shortcut for playing a


996
00:31:45,366 --> 00:31:46,726
particular playlist, even if the


997
00:31:46,726 --> 00:31:48,206
user hasn't played it before or


998
00:31:48,206 --> 00:31:49,216
hasn't played it recently,


999
00:31:49,466 --> 00:31:51,566
because presumably, if a user


1000
00:31:51,566 --> 00:31:52,786
has created the playlist, they


1001
00:31:52,786 --> 00:31:53,786
probably ought to play it at


1002
00:31:53,856 --> 00:31:54,646
some point in the future.


1003
00:31:55,246 --> 00:31:57,476
So, in the Soup Chef app, I


1004
00:31:57,476 --> 00:31:58,796
think it'd be great if we can


1005
00:31:58,796 --> 00:32:01,236
suggest a shortcut for ordering


1006
00:32:01,236 --> 00:32:02,726
the soup of the day, even if


1007
00:32:02,726 --> 00:32:03,446
they haven't ordered it


1008
00:32:03,446 --> 00:32:04,696
recently, or have never ordered


1009
00:32:04,696 --> 00:32:06,336
it, because based on past


1010
00:32:06,336 --> 00:32:07,736
experience, our users seem to


1011
00:32:07,736 --> 00:32:09,066
love it because it's both


1012
00:32:09,066 --> 00:32:10,276
delicious and offered at a


1013
00:32:10,276 --> 00:32:10,966
special price.


1014
00:32:11,736 --> 00:32:13,466
So, let's take a look at the API


1015
00:32:13,586 --> 00:32:15,906
on how to do this.


1016
00:32:16,036 --> 00:32:19,056
So, for Intents, you can create


1017
00:32:19,056 --> 00:32:20,226
an IN Shortcut out of Intent,


1018
00:32:20,506 --> 00:32:21,946
well, and for User Activities,


1019
00:32:21,946 --> 00:32:23,056
you can also create an IN


1020
00:32:23,056 --> 00:32:23,816
Shortcut out of it.


1021
00:32:23,816 --> 00:32:25,166
I'm going to wrap it in a


1022
00:32:25,166 --> 00:32:27,146
suggestions list and pass it


1023
00:32:27,146 --> 00:32:28,726
into IN Voice Shortcut Centers


1024
00:32:29,026 --> 00:32:31,126
Set Shortcut Suggestions Method.


1025
00:32:32,116 --> 00:32:33,766
And once you do that, you'll see


1026
00:32:34,136 --> 00:32:36,486
my suggestions alongside all the


1027
00:32:36,486 --> 00:32:38,006
other system's suggestions.


1028
00:32:38,796 --> 00:32:40,286
And by the way, the same set of


1029
00:32:40,486 --> 00:32:42,286
suggestions is shown in the


1030
00:32:42,346 --> 00:32:43,936
shortcuts app, so you can create


1031
00:32:43,936 --> 00:32:45,416
custom shortcuts, using your


1032
00:32:45,416 --> 00:32:45,926
shortcuts.


1033
00:32:49,496 --> 00:32:52,236
So, now that we put in all this


1034
00:32:52,236 --> 00:32:54,336
work to provide a great voice


1035
00:32:54,336 --> 00:32:55,766
experience for your users, we


1036
00:32:55,976 --> 00:32:56,976
want to make sure that your


1037
00:32:56,976 --> 00:32:58,566
users know that they can add


1038
00:32:58,826 --> 00:33:00,366
shortcuts to use with Siri.


1039
00:33:00,486 --> 00:33:02,016
And the best way to do that is


1040
00:33:02,106 --> 00:33:03,716
bringing shortcuts into your


1041
00:33:03,716 --> 00:33:05,806
app, so that users can create


1042
00:33:05,806 --> 00:33:07,676
shortcuts right from inside your


1043
00:33:08,016 --> 00:33:08,086
app.


1044
00:33:09,316 --> 00:33:11,556
So, for example, I just ordered


1045
00:33:11,556 --> 00:33:14,396
a soup, and I'm going to need a


1046
00:33:14,396 --> 00:33:16,316
suggestion to add this to Siri.


1047
00:33:16,916 --> 00:33:20,286
And when I tap, "Add to Siri,"


1048
00:33:21,186 --> 00:33:22,576
I'm presented with the same


1049
00:33:22,776 --> 00:33:24,596
system UI that allows you to


1050
00:33:24,596 --> 00:33:26,976
configure a new shortcut to use


1051
00:33:26,976 --> 00:33:27,526
with Siri.


1052
00:33:28,926 --> 00:33:30,226
So, let's take a look at the API


1053
00:33:30,226 --> 00:33:32,136
to do this.


1054
00:33:32,356 --> 00:33:33,656
So again, I'm going to take my


1055
00:33:33,656 --> 00:33:35,736
User Activity and create an IN


1056
00:33:35,776 --> 00:33:37,386
Shortcut out of it, and then


1057
00:33:37,386 --> 00:33:39,266
using that, I'm going to create


1058
00:33:39,266 --> 00:33:41,616
an IN UI Voice Shortcut View


1059
00:33:41,616 --> 00:33:43,586
Controller, set the Delegate,


1060
00:33:43,586 --> 00:33:44,656
and present it.


1061
00:33:45,756 --> 00:33:46,756
And it's the same thing for


1062
00:33:46,756 --> 00:33:47,206
Intents.


1063
00:33:47,576 --> 00:33:49,306
So, instead of creating the IN


1064
00:33:49,816 --> 00:33:51,516
Shortcut with a User Activity, I


1065
00:33:51,516 --> 00:33:52,666
will create it with Intent,


1066
00:33:53,126 --> 00:33:54,766
create my View Controller, set


1067
00:33:54,766 --> 00:33:56,706
the Delegate, and present it.


1068
00:33:57,726 --> 00:33:59,466
And once I do that, your user


1069
00:33:59,466 --> 00:34:01,426
will see this setup screen,


1070
00:34:01,426 --> 00:34:02,736
right from inside of your app.


1071
00:34:04,186 --> 00:34:06,046
In addition, rewrite an API to


1072
00:34:06,046 --> 00:34:07,906
allow users to delete and edit


1073
00:34:07,996 --> 00:34:09,366
any existing shortcuts.


1074
00:34:12,976 --> 00:34:15,616
We also have an API that lets


1075
00:34:15,616 --> 00:34:17,476
you get a list of shortcuts that


1076
00:34:17,476 --> 00:34:19,176
are already added to Siri by our


1077
00:34:19,176 --> 00:34:19,576
users.


1078
00:34:19,966 --> 00:34:21,485
So, for example I can use this


1079
00:34:21,485 --> 00:34:23,216
information to indicate which


1080
00:34:23,216 --> 00:34:26,286
soups on my menu have the user


1081
00:34:26,356 --> 00:34:28,536
has already added the shortcut


1082
00:34:29,216 --> 00:34:30,036
to use with Siri.


1083
00:34:30,446 --> 00:34:32,485
So, as you can see, for clam


1084
00:34:32,485 --> 00:34:33,676
chowder, I have "Chowder Time"


1085
00:34:33,676 --> 00:34:37,085
associated and for tomato soup,


1086
00:34:37,636 --> 00:34:38,916
I have "Tomato, Tomato."


1087
00:34:39,466 --> 00:34:42,446
Awesome. So, to summarize, let's


1088
00:34:42,446 --> 00:34:43,606
go over what we learned about


1089
00:34:43,606 --> 00:34:43,866
today.


1090
00:34:45,076 --> 00:34:46,396
First, we learned that Custom


1091
00:34:46,396 --> 00:34:47,906
Responses are critical in


1092
00:34:47,906 --> 00:34:49,676
providing a great voice


1093
00:34:49,676 --> 00:34:50,835
experience to our users.


1094
00:34:51,466 --> 00:34:52,676
And Amit showed us just how


1095
00:34:52,676 --> 00:34:55,646
simple that can be.


1096
00:34:55,906 --> 00:34:57,906
Next, we saw how Custom Intents


1097
00:34:57,906 --> 00:34:59,126
UI can help bring the apps


1098
00:34:59,126 --> 00:35:01,086
experience into Siri and to the


1099
00:35:01,086 --> 00:35:02,796
other places in the system like


1100
00:35:02,886 --> 00:35:04,796
Search and Lock Screen.


1101
00:35:06,156 --> 00:35:08,156
We also saw that details matter.


1102
00:35:08,526 --> 00:35:10,316
Even something small like adding


1103
00:35:10,316 --> 00:35:11,786
an image to your shortcuts, or


1104
00:35:11,786 --> 00:35:13,026
just dropping the quotation


1105
00:35:13,026 --> 00:35:14,206
marks from around "clam chowder"


1106
00:35:14,206 --> 00:35:15,516
to make it a big difference.


1107
00:35:15,516 --> 00:35:17,016
And bigger details like


1108
00:35:17,016 --> 00:35:18,806
localization can make a huge


1109
00:35:18,806 --> 00:35:19,216
difference.


1110
00:35:19,736 --> 00:35:22,476
Lastly, we learned about the


1111
00:35:22,476 --> 00:35:23,836
various different APIs that you


1112
00:35:23,836 --> 00:35:25,126
can use to bring the shortcuts


1113
00:35:25,126 --> 00:35:26,856
experience into your app, so


1114
00:35:26,856 --> 00:35:28,276
that your users can create


1115
00:35:28,276 --> 00:35:29,786
shortcuts to user with Siri at


1116
00:35:29,816 --> 00:35:31,236
the most relevant moments in


1117
00:35:31,236 --> 00:35:32,266
your app.


1118
00:35:33,076 --> 00:35:35,136
So, the documentation on how to


1119
00:35:35,136 --> 00:35:36,316
do this is all on


1120
00:35:36,316 --> 00:35:38,196
developer.apple.com, and in


1121
00:35:38,196 --> 00:35:39,106
addition, we'll be holding


1122
00:35:39,106 --> 00:35:40,386
shortcuts labs throughout the


1123
00:35:40,386 --> 00:35:42,186
week, including one later today.


1124
00:35:42,226 --> 00:35:44,576
And we also have a Watch Session


1125
00:35:44,576 --> 00:35:46,126
right after this, that will show


1126
00:35:46,126 --> 00:35:47,126
you how to bring the shortcuts


1127
00:35:47,126 --> 00:35:48,826
experience to the Watch and to


1128
00:35:48,826 --> 00:35:50,636
the Siri Watch face so that --


1129
00:35:50,716 --> 00:35:51,676
and they're also going to show


1130
00:35:51,676 --> 00:35:52,876
you how it works, even if you


1131
00:35:52,876 --> 00:35:53,996
don't have a Watch app.


1132
00:35:54,246 --> 00:35:55,666
So, it's a total must watch.


1133
00:35:56,516 --> 00:35:57,186
Alright.


1134
00:35:59,516 --> 00:36:04,476
[ Applause ]


1135
00:36:04,976 --> 00:36:06,746
Alright, well, now you know


1136
00:36:06,916 --> 00:36:08,356
everything that you need to know


1137
00:36:08,356 --> 00:36:09,886
to create a great shortcuts


1138
00:36:09,886 --> 00:36:11,146
experience for your users.


1139
00:36:11,326 --> 00:36:12,516
We can't wait to see what you


1140
00:36:12,516 --> 00:36:13,766
build with our new APIs.


1141
00:36:14,066 --> 00:36:15,126
Thank you for listening, and I


1142
00:36:15,126 --> 00:36:16,476
hope you have a great rest of


1143
00:36:16,476 --> 00:36:16,976
WWDC.


1144
00:36:17,516 --> 00:36:21,500
[ Applause ]

