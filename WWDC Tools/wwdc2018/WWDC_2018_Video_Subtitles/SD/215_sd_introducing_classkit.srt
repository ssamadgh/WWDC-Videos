1
00:00:07,516 --> 00:00:16,500
[ Music ]


2
00:00:22,516 --> 00:00:30,866
[ Applause ]


3
00:00:31,366 --> 00:00:32,356
>> Good morning, everybody.


4
00:00:33,366 --> 00:00:37,076
My name is Pavel and Marin and I


5
00:00:37,076 --> 00:00:38,186
will be talking to you about


6
00:00:38,246 --> 00:00:38,926
ClassKit today.


7
00:00:39,796 --> 00:00:42,626
Our talk is split in three


8
00:00:42,706 --> 00:00:42,996
parts.


9
00:00:43,486 --> 00:00:45,486
In first part, we will give you


10
00:00:45,486 --> 00:00:47,026
a general overview of ClassKit.


11
00:00:47,766 --> 00:00:49,356
We will show you how data flows


12
00:00:49,356 --> 00:00:50,116
through the system.


13
00:00:50,746 --> 00:00:52,196
In the second part of the talk,


14
00:00:52,246 --> 00:00:53,606
we will list all the classes we


15
00:00:53,646 --> 00:00:55,066
have in our system and we'll


16
00:00:55,066 --> 00:00:56,436
mention a few interesting things


17
00:00:56,476 --> 00:00:57,466
about each one class.


18
00:00:58,276 --> 00:00:59,796
And in the end, Marin is going


19
00:00:59,796 --> 00:01:01,986
to show us how to adopt ClassKit


20
00:01:01,986 --> 00:01:02,836
in an existing cap.


21
00:01:03,956 --> 00:01:05,726
So, let's get started with the


22
00:01:06,286 --> 00:01:06,500
Overview.


23
00:01:09,126 --> 00:01:11,526
ClassKit is an education-based


24
00:01:11,526 --> 00:01:13,186
framework which means that it is


25
00:01:13,186 --> 00:01:14,436
designed to work with in a


26
00:01:14,436 --> 00:01:15,316
school environment.


27
00:01:16,066 --> 00:01:18,766
It allows you to define


28
00:01:19,046 --> 00:01:21,756
assignable content from your


29
00:01:21,756 --> 00:01:23,476
app, so that teachers can assign


30
00:01:23,476 --> 00:01:25,186
it to students as homework.


31
00:01:26,456 --> 00:01:28,936
Then it allows you to report


32
00:01:29,076 --> 00:01:30,276
progress on those pieces of


33
00:01:30,336 --> 00:01:32,256
content that were assigned by


34
00:01:32,256 --> 00:01:32,666
teachers.


35
00:01:33,356 --> 00:01:36,016
And this is done with privacy in


36
00:01:36,016 --> 00:01:36,346
mind.


37
00:01:36,846 --> 00:01:38,276
What I mean by that is that you


38
00:01:38,276 --> 00:01:40,936
can report progress on any


39
00:01:40,936 --> 00:01:42,436
assignable piece of content


40
00:01:42,436 --> 00:01:44,666
within your app, but teachers


41
00:01:44,666 --> 00:01:46,266
will only see progress on the


42
00:01:46,266 --> 00:01:47,716
things that they have explicitly


43
00:01:47,716 --> 00:01:48,616
assigned to students.


44
00:01:50,636 --> 00:01:53,346
So, why would you adopt


45
00:01:53,386 --> 00:01:53,806
ClassKit?


46
00:01:53,846 --> 00:01:55,716
Well, for one, this will get a


47
00:01:55,716 --> 00:01:57,036
better student experience.


48
00:01:57,696 --> 00:02:00,606
Teacher workflow, because they


49
00:02:00,606 --> 00:02:01,946
will be able to know exactly


50
00:02:01,946 --> 00:02:02,916
what's assignable within your


51
00:02:02,916 --> 00:02:04,596
app and assign it to students.


52
00:02:05,876 --> 00:02:07,976
It gives teachers insights


53
00:02:08,866 --> 00:02:11,156
within how students are doing in


54
00:02:11,156 --> 00:02:12,216
your app.


55
00:02:12,216 --> 00:02:14,706
And this enables personalized


56
00:02:14,706 --> 00:02:15,006
learning.


57
00:02:15,926 --> 00:02:17,386
If a teacher knows how students


58
00:02:17,386 --> 00:02:18,456
are doing within your app


59
00:02:18,456 --> 00:02:19,836
exactly, they'll be able to


60
00:02:19,836 --> 00:02:22,566
better cater future homework


61
00:02:22,566 --> 00:02:23,026
assignments.


62
00:02:23,886 --> 00:02:25,736
Lastly, well, it also gives you


63
00:02:25,736 --> 00:02:27,006
a competitive advantage.


64
00:02:27,056 --> 00:02:28,686
This is because with teachers


65
00:02:29,836 --> 00:02:31,496
while the type of information is


66
00:02:31,496 --> 00:02:33,226
surfaced back to them, chances


67
00:02:33,226 --> 00:02:35,486
are that they will be advocating


68
00:02:35,536 --> 00:02:37,436
for your framework to -- for


69
00:02:37,526 --> 00:02:39,456
your app to be used within the


70
00:02:39,456 --> 00:02:39,736
school.


71
00:02:40,146 --> 00:02:42,686
Speaking of schools, there's a


72
00:02:42,686 --> 00:02:44,806
related technology called Apple


73
00:02:44,806 --> 00:02:48,026
School Manager, and school


74
00:02:48,026 --> 00:02:51,416
admins and IT use this to create


75
00:02:51,496 --> 00:02:53,506
managed Apple IDs for everybody


76
00:02:53,956 --> 00:02:55,366
within their organization.


77
00:02:55,366 --> 00:02:57,676
So, every teacher will get a


78
00:02:57,676 --> 00:02:59,456
managed Apple ID and all


79
00:02:59,456 --> 00:03:00,926
students will get managed Apple


80
00:03:00,926 --> 00:03:01,146
IDs.


81
00:03:02,026 --> 00:03:03,746
Admins also use it to create


82
00:03:03,826 --> 00:03:05,246
classes within a school, so for


83
00:03:05,246 --> 00:03:08,116
example, in mathematics class we


84
00:03:08,206 --> 00:03:11,206
will have a teacher with --


85
00:03:11,316 --> 00:03:12,556
which is a person with a certain


86
00:03:12,556 --> 00:03:14,236
managed Apple ID and students,


87
00:03:14,236 --> 00:03:16,086
which are people with other


88
00:03:16,086 --> 00:03:16,926
managed Apple IDs.


89
00:03:18,366 --> 00:03:20,086
This is also where schools


90
00:03:20,086 --> 00:03:21,646
manage all of their content and


91
00:03:21,646 --> 00:03:22,176
devices.


92
00:03:23,366 --> 00:03:24,986
And as we mentioned for


93
00:03:24,986 --> 00:03:27,036
competitive advantage, this is


94
00:03:28,516 --> 00:03:30,236
where schools will be able to


95
00:03:30,656 --> 00:03:32,976
enable student progress reports


96
00:03:32,976 --> 00:03:35,516
in feature of ClassKit.


97
00:03:36,916 --> 00:03:39,196
Also, this is where schools are


98
00:03:39,196 --> 00:03:40,836
able to purchase apps in bulk.


99
00:03:40,836 --> 00:03:44,826
And any app that has enabled


100
00:03:45,216 --> 00:03:46,736
ClassKit support, we'll have


101
00:03:46,816 --> 00:03:48,496
works with Schoolwork checkmark


102
00:03:48,716 --> 00:03:51,436
next to its name.


103
00:03:51,436 --> 00:03:53,196
So, Schoolwork is the new


104
00:03:53,196 --> 00:03:55,186
education app that is coming out


105
00:03:55,186 --> 00:03:55,496
soon.


106
00:03:56,276 --> 00:03:58,566
Students use this app to view


107
00:03:58,686 --> 00:03:59,936
handouts that were assigned to


108
00:04:00,886 --> 00:04:01,256
them.


109
00:04:01,256 --> 00:04:03,866
And teachers use it to create


110
00:04:04,246 --> 00:04:05,276
homework assignments.


111
00:04:05,336 --> 00:04:06,556
And homework assignments, we


112
00:04:06,606 --> 00:04:08,206
call handouts within our system.


113
00:04:09,116 --> 00:04:11,056
Handouts is just a collection of


114
00:04:11,056 --> 00:04:11,306
tasks.


115
00:04:11,306 --> 00:04:13,666
For example, a piece of content


116
00:04:13,736 --> 00:04:15,506
might be a task within a


117
00:04:15,816 --> 00:04:16,000
handout.


118
00:04:18,706 --> 00:04:20,656
So, this is also the place where


119
00:04:21,466 --> 00:04:23,296
teachers will view progress


120
00:04:23,296 --> 00:04:24,606
reports of how students are


121
00:04:24,606 --> 00:04:26,676
doing within your app for a


122
00:04:26,676 --> 00:04:27,366
given handout.


123
00:04:28,746 --> 00:04:30,116
So, let's actually take a walk,


124
00:04:30,476 --> 00:04:31,926
what the life cycle of a handout


125
00:04:31,926 --> 00:04:32,096
is.


126
00:04:33,596 --> 00:04:36,666
But before we can create the


127
00:04:36,726 --> 00:04:39,086
handout, your app actually needs


128
00:04:39,206 --> 00:04:41,496
to be able to declare what


129
00:04:41,756 --> 00:04:42,766
pieces of content are


130
00:04:42,766 --> 00:04:43,276
assignable.


131
00:04:46,076 --> 00:04:47,326
Within our framework, this is


132
00:04:47,326 --> 00:04:49,166
done using a cross code CLS


133
00:04:49,386 --> 00:04:49,816
Context.


134
00:04:50,796 --> 00:04:53,066
And what a CLS Context is, is


135
00:04:53,066 --> 00:04:54,626
that it allows you to represent


136
00:04:54,626 --> 00:04:55,866
your content as a tree


137
00:04:55,866 --> 00:04:56,316
structure.


138
00:04:57,286 --> 00:04:59,616
So, there is one main app


139
00:04:59,716 --> 00:05:04,686
context redefined for your app.


140
00:05:05,146 --> 00:05:07,066
And this acts as the root


141
00:05:07,136 --> 00:05:08,736
context of the content tree --


142
00:05:09,156 --> 00:05:09,866
or the context tree.


143
00:05:10,786 --> 00:05:12,516
Also, all of your content is


144
00:05:13,016 --> 00:05:14,356
just a descendant of the main


145
00:05:14,356 --> 00:05:15,106
app context.


146
00:05:16,426 --> 00:05:20,546
So, we ask that you define your


147
00:05:21,996 --> 00:05:23,236
content as accurately as


148
00:05:23,296 --> 00:05:24,926
possible because the sooner you


149
00:05:24,926 --> 00:05:26,336
define your content, the sooner


150
00:05:26,426 --> 00:05:28,016
it will be available to teachers


151
00:05:28,456 --> 00:05:31,776
in Schoolwork to assign to


152
00:05:32,656 --> 00:05:32,926
students.


153
00:05:32,996 --> 00:05:34,096
Assuming that you've created


154
00:05:34,096 --> 00:05:36,076
your context tree, a teacher


155
00:05:36,076 --> 00:05:37,186
will be able to go to


156
00:05:37,186 --> 00:05:39,386
Schoolwork, they will be able to


157
00:05:39,506 --> 00:05:40,976
tap the Create New Handout


158
00:05:40,976 --> 00:05:43,526
button, which will create a new


159
00:05:43,526 --> 00:05:44,436
instance of a handout.


160
00:05:44,546 --> 00:05:47,646
Then they will point the handout


161
00:05:47,696 --> 00:05:49,096
to a specific piece of content


162
00:05:49,096 --> 00:05:50,946
within your app, and once


163
00:05:50,946 --> 00:05:51,776
they've done that, they will


164
00:05:51,776 --> 00:05:54,606
assign the handout to a student.


165
00:05:55,576 --> 00:05:56,816
Once a student receives that


166
00:05:56,896 --> 00:05:59,246
handout, they will then tap on


167
00:05:59,246 --> 00:06:00,716
the handout which will open your


168
00:06:00,716 --> 00:06:00,856
app.


169
00:06:00,856 --> 00:06:03,116
At that point, your app should


170
00:06:03,266 --> 00:06:05,406
create the necessary contexts.


171
00:06:06,526 --> 00:06:09,186
And for a better student


172
00:06:09,186 --> 00:06:10,766
experience, we ask that you


173
00:06:10,766 --> 00:06:13,396
navigate the student to the same


174
00:06:14,016 --> 00:06:15,756
piece of content.


175
00:06:15,816 --> 00:06:17,216
Marin is going to show us later


176
00:06:17,216 --> 00:06:18,316
how this is done in code.


177
00:06:19,136 --> 00:06:21,706
So, assuming that now the


178
00:06:21,706 --> 00:06:23,126
student started working on the


179
00:06:23,126 --> 00:06:25,136
homework assignment, your app


180
00:06:25,136 --> 00:06:26,756
starts reporting progress back


181
00:06:26,806 --> 00:06:28,846
to students and all of this


182
00:06:28,896 --> 00:06:30,086
progress will be sent to the


183
00:06:30,086 --> 00:06:31,696
teacher's device and bundled in


184
00:06:31,696 --> 00:06:33,446
what we call a progress record


185
00:06:33,876 --> 00:06:35,366
-- a report, or activity report.


186
00:06:36,356 --> 00:06:39,106
So, teachers, once this is done,


187
00:06:39,106 --> 00:06:40,646
will have access to that report


188
00:06:40,686 --> 00:06:41,956
from within the assigned


189
00:06:41,986 --> 00:06:42,346
handout.


190
00:06:42,926 --> 00:06:48,346
So, this entire flow involves


191
00:06:48,346 --> 00:06:50,846
you having a teacher managed ID,


192
00:06:51,376 --> 00:06:54,016
a student managed ID, and maybe


193
00:06:54,016 --> 00:06:55,856
a couple of devices or even one


194
00:06:55,856 --> 00:06:57,066
device from which you'll be


195
00:06:57,066 --> 00:06:59,096
logging in and out, so you can


196
00:07:00,206 --> 00:07:00,496
test.


197
00:07:01,786 --> 00:07:02,866
But with all that, we can


198
00:07:02,866 --> 00:07:04,826
actually make this a little


199
00:07:04,826 --> 00:07:07,486
better and we created something


200
00:07:07,486 --> 00:07:08,816
that we call Developer Mode.


201
00:07:09,656 --> 00:07:12,266
What Developer Mode does is that


202
00:07:12,326 --> 00:07:14,746
it allows you to act as a


203
00:07:14,746 --> 00:07:18,656
teacher, so that you can create


204
00:07:18,656 --> 00:07:20,216
handout assignments, assign them


205
00:07:20,216 --> 00:07:22,146
to students, and view progress


206
00:07:22,146 --> 00:07:24,066
reports for your students, and


207
00:07:24,066 --> 00:07:25,966
it also allows you to act as a


208
00:07:25,966 --> 00:07:27,126
student, so you can consume


209
00:07:27,126 --> 00:07:29,226
those handouts and your app can


210
00:07:29,376 --> 00:07:30,396
report progress back to


211
00:07:30,396 --> 00:07:30,796
teachers.


212
00:07:33,226 --> 00:07:34,786
There's also a way to reset the


213
00:07:34,786 --> 00:07:36,756
development data and I


214
00:07:37,456 --> 00:07:39,066
personally had to use this


215
00:07:39,066 --> 00:07:40,316
button quite a bit, to be


216
00:07:40,316 --> 00:07:40,676
honest.


217
00:07:42,496 --> 00:07:43,726
With that, let's take a look at


218
00:07:43,726 --> 00:07:44,786
the classes we have in our


219
00:07:44,786 --> 00:07:45,236
framework.


220
00:07:46,146 --> 00:07:48,206
At the very top, we have a Data


221
00:07:48,206 --> 00:07:48,526
Store.


222
00:07:49,446 --> 00:07:52,286
It is used to maintain the


223
00:07:52,366 --> 00:07:54,946
Context Tree, within our app.


224
00:07:57,356 --> 00:07:59,236
This is also where the main app


225
00:07:59,296 --> 00:08:00,526
context is exposed as a


226
00:08:00,586 --> 00:08:01,146
property.


227
00:08:02,006 --> 00:08:04,286
And the Data Store also gives


228
00:08:04,366 --> 00:08:06,246
tracks of all modified objects


229
00:08:06,246 --> 00:08:06,876
within the system.


230
00:08:08,006 --> 00:08:09,356
So, if you'd like to save those


231
00:08:09,356 --> 00:08:12,866
object, you can call CLS Data


232
00:08:12,866 --> 00:08:15,466
Store, Save with Completion.


233
00:08:16,066 --> 00:08:19,856
I'd like to mention also that


234
00:08:19,926 --> 00:08:21,876
there is one shared instance of


235
00:08:21,876 --> 00:08:23,296
the Data Store that you use to


236
00:08:23,296 --> 00:08:24,076
interact with.


237
00:08:25,356 --> 00:08:29,826
So, next, let's talk about


238
00:08:30,596 --> 00:08:30,926
contexts.


239
00:08:30,976 --> 00:08:34,346
We saw that contexts are a three


240
00:08:34,346 --> 00:08:37,126
hierarchy, and Marin is actually


241
00:08:37,126 --> 00:08:38,456
going to go in detail later


242
00:08:38,456 --> 00:08:40,076
about contexts, how to use them


243
00:08:40,076 --> 00:08:41,946
and mention some interesting


244
00:08:41,986 --> 00:08:44,135
properties about them, but I'd


245
00:08:44,135 --> 00:08:46,196
like to concentrate on Context


246
00:08:46,196 --> 00:08:46,816
Identity.


247
00:08:48,326 --> 00:08:51,326
So, identity of a context in


248
00:08:51,326 --> 00:08:52,576
ClassKit is two things.


249
00:08:53,476 --> 00:08:54,856
The first one is the Identifier


250
00:08:54,856 --> 00:08:57,946
Property, and the Identifier


251
00:08:57,946 --> 00:08:59,656
Property allows you to uniquely


252
00:08:59,656 --> 00:09:02,336
identify contexts across


253
00:09:02,336 --> 00:09:02,846
siblings.


254
00:09:03,376 --> 00:09:05,916
What I mean by this is that it's


255
00:09:05,916 --> 00:09:07,286
okay for you to have a context


256
00:09:07,286 --> 00:09:08,346
with the same identifier,


257
00:09:08,666 --> 00:09:10,046
multiple contexts with the same


258
00:09:10,046 --> 00:09:11,736
identifier, as long as they


259
00:09:11,736 --> 00:09:12,816
don't have the same parent,


260
00:09:13,496 --> 00:09:14,416
which will be fine.


261
00:09:15,896 --> 00:09:17,506
So, that [inaudible] is


262
00:09:17,566 --> 00:09:18,856
something we call Context


263
00:09:18,856 --> 00:09:20,406
Identifier Path.


264
00:09:20,956 --> 00:09:22,696
Context Identifier Paths are


265
00:09:22,696 --> 00:09:24,206
what we actually use to uniquely


266
00:09:24,206 --> 00:09:26,086
identify context within the


267
00:09:26,156 --> 00:09:29,026
tree, within the context tree.


268
00:09:29,106 --> 00:09:30,716
And what Context Identifier


269
00:09:30,716 --> 00:09:32,186
Paths are, well, it's just an


270
00:09:32,186 --> 00:09:33,476
area of Context Identifiers.


271
00:09:34,456 --> 00:09:35,986
The way we use them is that we


272
00:09:36,436 --> 00:09:38,156
traverse the Context [inaudible]


273
00:09:38,156 --> 00:09:40,436
following the path, until we


274
00:09:40,436 --> 00:09:42,756
reach a note there -- the last


275
00:09:42,756 --> 00:09:45,356
note within the path.


276
00:09:45,546 --> 00:09:46,726
Let's actually take a walk how


277
00:09:46,726 --> 00:09:48,966
this looks in action.


278
00:09:50,136 --> 00:09:51,556
In this example, we have a


279
00:09:51,856 --> 00:09:53,176
context card that's pointing to


280
00:09:53,176 --> 00:09:54,976
Section 1 Context within some


281
00:09:55,016 --> 00:09:56,006
chapter, within some book.


282
00:09:56,786 --> 00:09:58,536
And we also have our Context


283
00:09:58,536 --> 00:09:58,666
Tree.


284
00:09:59,276 --> 00:10:00,746
To find Section 1, we will first


285
00:10:00,746 --> 00:10:02,216
visit the App Context.


286
00:10:03,136 --> 00:10:04,216
Then we'll visit the Book


287
00:10:04,216 --> 00:10:04,806
Context.


288
00:10:04,926 --> 00:10:05,986
We will find the [inaudible] of


289
00:10:05,986 --> 00:10:07,536
the Book Context with Identifier


290
00:10:07,596 --> 00:10:08,116
Chapter 2.


291
00:10:08,116 --> 00:10:10,266
We will visit that one, and we


292
00:10:10,266 --> 00:10:11,586
will do the same for Section 1.


293
00:10:12,586 --> 00:10:14,196
Since Section 1 is the last


294
00:10:14,266 --> 00:10:15,946
thing on our path, then this is


295
00:10:15,946 --> 00:10:18,236
what the path is referring to.


296
00:10:20,466 --> 00:10:22,416
So, we have a few ways to look


297
00:10:22,416 --> 00:10:23,916
up contexts with our system.


298
00:10:24,806 --> 00:10:26,396
One is using absolute context


299
00:10:26,446 --> 00:10:27,786
paths, and to do that, you would


300
00:10:27,786 --> 00:10:30,226
call the CLS Data Store Context


301
00:10:30,266 --> 00:10:32,546
Matching Identifier Path Method.


302
00:10:34,096 --> 00:10:36,036
The completion block of this


303
00:10:36,116 --> 00:10:38,676
method will return all contexts


304
00:10:38,676 --> 00:10:39,396
among the paths.


305
00:10:39,836 --> 00:10:42,026
So, for example, it will be an


306
00:10:42,026 --> 00:10:43,796
array of the Up Context, Book


307
00:10:43,836 --> 00:10:45,736
Context, Chapter 2 Context, and


308
00:10:45,736 --> 00:10:46,686
Section 1 Context.


309
00:10:48,016 --> 00:10:49,546
If for some reason, Chapter 2 in


310
00:10:49,546 --> 00:10:52,296
Section 1 was missing, then that


311
00:10:52,526 --> 00:10:53,736
array in the completion block


312
00:10:53,736 --> 00:10:55,956
will just continue to Up Context


313
00:10:55,956 --> 00:10:56,776
and the Book Context.


314
00:10:57,966 --> 00:10:59,376
And that gives you a chance to


315
00:11:00,176 --> 00:11:01,566
create the missing context as


316
00:11:01,566 --> 00:11:02,586
something else.


317
00:11:03,216 --> 00:11:04,466
There's also a way to look up


318
00:11:04,466 --> 00:11:07,016
contexts using relative paths.


319
00:11:07,116 --> 00:11:08,406
This is useful if you already


320
00:11:08,406 --> 00:11:09,606
have a reference to a context,


321
00:11:09,606 --> 00:11:10,526
but you would like to find a


322
00:11:10,526 --> 00:11:11,786
descendent of it.


323
00:11:12,066 --> 00:11:13,756
And the method for that is


324
00:11:13,756 --> 00:11:15,006
called CLS Context Descendent


325
00:11:15,006 --> 00:11:15,976
Matching Identifier Path.


326
00:11:16,206 --> 00:11:18,806
The difference is that here you


327
00:11:18,806 --> 00:11:20,436
will either get the context


328
00:11:20,436 --> 00:11:22,566
[inaudible] if it doesn't match


329
00:11:23,156 --> 00:11:24,386
the path.


330
00:11:24,576 --> 00:11:26,746
There's also a genetic way to


331
00:11:26,746 --> 00:11:27,896
[inaudible] contexts and this is


332
00:11:27,896 --> 00:11:30,276
done using CLS Data Store


333
00:11:31,726 --> 00:11:32,906
Context Matching Predicate.


334
00:11:33,296 --> 00:11:34,706
On the example from the slide,


335
00:11:34,776 --> 00:11:35,886
we're showing you how to find


336
00:11:36,426 --> 00:11:38,106
all children of a given context.


337
00:11:39,266 --> 00:11:42,106
So, there's also a Data Store


338
00:11:42,106 --> 00:11:42,726
delegate.


339
00:11:43,636 --> 00:11:45,366
This is used in conjunction with


340
00:11:45,446 --> 00:11:48,226
the path quitting methods that


341
00:11:48,226 --> 00:11:52,146
we just saw.


342
00:11:52,456 --> 00:11:54,356
The definition of the decoration


343
00:11:54,356 --> 00:11:55,636
of the delegation is on the


344
00:11:55,856 --> 00:11:56,000
screen.


345
00:11:59,146 --> 00:12:00,966
It's usually useful to use this


346
00:12:00,966 --> 00:12:02,346
when your contexts are


347
00:12:02,846 --> 00:12:04,586
downloaded on demand to -- when


348
00:12:04,846 --> 00:12:05,946
all of your context is not


349
00:12:05,946 --> 00:12:07,656
available, so you want to create


350
00:12:07,656 --> 00:12:08,356
things on demand.


351
00:12:08,356 --> 00:12:10,926
The way it works is that as we


352
00:12:11,036 --> 00:12:13,176
start querying for a path, for


353
00:12:13,176 --> 00:12:14,716
our contexts among the path, if


354
00:12:14,716 --> 00:12:17,696
you don't find a context on that


355
00:12:17,736 --> 00:12:20,426
path, we will call the Create


356
00:12:20,526 --> 00:12:22,116
Context for Identifier Method


357
00:12:22,116 --> 00:12:23,396
under Delegate that you've


358
00:12:23,396 --> 00:12:25,186
defined, giving you a chance to


359
00:12:25,186 --> 00:12:26,396
create the missing context.


360
00:12:27,396 --> 00:12:28,706
And if you do create a context,


361
00:12:29,106 --> 00:12:30,626
we will take the context and go


362
00:12:30,846 --> 00:12:31,986
add it to the correct place on


363
00:12:31,986 --> 00:12:33,286
the tree for you.


364
00:12:35,376 --> 00:12:37,806
So, as I mentioned, it's useful


365
00:12:37,806 --> 00:12:38,996
for app for -- with dynamic


366
00:12:38,996 --> 00:12:39,386
content.


367
00:12:40,056 --> 00:12:40,956
Let's actually take a look at


368
00:12:40,956 --> 00:12:42,236
how this work in action.


369
00:12:43,326 --> 00:12:44,386
Again, we have the same


370
00:12:44,846 --> 00:12:46,386
identifier path, but in this


371
00:12:46,436 --> 00:12:47,996
case, our tree is incomplete.


372
00:12:48,636 --> 00:12:51,246
And we also have a delegate.


373
00:12:51,246 --> 00:12:53,406
So again, we will visit the App


374
00:12:53,616 --> 00:12:54,256
Context.


375
00:12:55,336 --> 00:12:56,416
Then we'll visit the Book


376
00:12:56,416 --> 00:12:56,826
Context.


377
00:12:57,736 --> 00:12:59,676
Then we are going to try to


378
00:12:59,676 --> 00:13:02,586
visit the Chapter 2 Context, but


379
00:13:02,586 --> 00:13:03,326
it doesn't exist.


380
00:13:03,726 --> 00:13:04,846
So, we are going to ask a


381
00:13:04,846 --> 00:13:05,906
delegate to create it.


382
00:13:06,696 --> 00:13:08,086
If a delegate creates it, we


383
00:13:08,586 --> 00:13:09,556
will then attach it to the


384
00:13:09,586 --> 00:13:11,446
correct place on the tree, and


385
00:13:11,446 --> 00:13:12,506
we'll visit that context.


386
00:13:13,526 --> 00:13:14,176
Then we're going to build the


387
00:13:14,176 --> 00:13:17,206
same thing for our Section 1.


388
00:13:18,326 --> 00:13:19,576
Again, since section 1 is the


389
00:13:19,576 --> 00:13:21,136
last thing on the path, that


390
00:13:21,316 --> 00:13:22,536
means that this is what a path


391
00:13:22,536 --> 00:13:25,936
is referring to.


392
00:13:26,176 --> 00:13:28,256
Next, let's talk about Activity


393
00:13:28,256 --> 00:13:28,706
Objects.


394
00:13:29,486 --> 00:13:31,806
So, Activity Objects are


395
00:13:31,806 --> 00:13:32,886
actually the objects which you


396
00:13:32,886 --> 00:13:34,966
will use to report progress back


397
00:13:35,056 --> 00:13:35,616
to teachers.


398
00:13:36,276 --> 00:13:38,306
And they actually translate to


399
00:13:38,306 --> 00:13:39,296
Activity Reports.


400
00:13:39,726 --> 00:13:43,626
Activity Objects are always


401
00:13:43,626 --> 00:13:46,116
associated with contexts.


402
00:13:46,546 --> 00:13:48,156
You can officially allocate one


403
00:13:48,156 --> 00:13:48,646
on your own.


404
00:13:49,456 --> 00:13:50,966
And the way you would create a


405
00:13:50,966 --> 00:13:54,256
new one is by calling CLS


406
00:13:54,296 --> 00:13:55,746
Context Creating New Activity,


407
00:13:56,286 --> 00:13:57,776
which will return a new activity


408
00:13:57,776 --> 00:13:59,506
object associated with the


409
00:13:59,506 --> 00:14:00,416
receiver of the method.


410
00:14:02,136 --> 00:14:03,836
If you would like to see if


411
00:14:03,836 --> 00:14:05,006
there's currently an activity


412
00:14:05,006 --> 00:14:07,986
associated with your context,


413
00:14:07,986 --> 00:14:09,706
you can do so by querying for


414
00:14:09,706 --> 00:14:11,426
the current activity property on


415
00:14:11,546 --> 00:14:12,236
the CLS Context.


416
00:14:14,726 --> 00:14:15,996
I'd like to mention that every


417
00:14:15,996 --> 00:14:16,996
time you co-create a new


418
00:14:16,996 --> 00:14:19,186
activity, this is the same thing


419
00:14:19,256 --> 00:14:20,786
as starting a new attempt at


420
00:14:20,786 --> 00:14:23,356
that activity, meaning that a


421
00:14:23,356 --> 00:14:24,806
teacher would receive a new


422
00:14:25,516 --> 00:14:26,246
progress report.


423
00:14:26,886 --> 00:14:31,216
Let's take a look at how would


424
00:14:31,216 --> 00:14:32,586
you add progress to an activity.


425
00:14:32,896 --> 00:14:34,406
One way is to directly set the


426
00:14:34,406 --> 00:14:35,396
progress property.


427
00:14:36,396 --> 00:14:38,296
And that one is to add a


428
00:14:38,946 --> 00:14:40,666
progress range, from a start to


429
00:14:40,666 --> 00:14:40,956
an end.


430
00:14:42,516 --> 00:14:43,646
Also, know that setting the


431
00:14:43,646 --> 00:14:45,416
progress property directly is


432
00:14:46,136 --> 00:14:47,326
the same thing as adding a


433
00:14:47,496 --> 00:14:48,776
progress range for the start of


434
00:14:48,776 --> 00:14:49,016
zero.


435
00:14:49,276 --> 00:14:52,816
I'd like to also mention that


436
00:14:52,816 --> 00:14:54,006
it's perfectly fine for you to


437
00:14:54,006 --> 00:14:56,426
add overlapping progresses


438
00:14:56,426 --> 00:14:57,906
arranges or even the same


439
00:14:57,906 --> 00:14:58,976
progress arranged multiple


440
00:14:59,006 --> 00:14:59,256
times.


441
00:15:00,106 --> 00:15:01,556
Underneath, we take care of the


442
00:15:01,556 --> 00:15:04,166
details to make sure that the


443
00:15:04,216 --> 00:15:05,826
correct progress is reported to


444
00:15:05,826 --> 00:15:08,366
teachers in the end.


445
00:15:08,576 --> 00:15:11,156
So, there's one more object that


446
00:15:11,156 --> 00:15:12,606
we should talk about and that's


447
00:15:12,936 --> 00:15:13,786
Activity Items.


448
00:15:14,846 --> 00:15:18,336
What an Activity Item is, is a


449
00:15:18,596 --> 00:15:20,606
quantity that you would


450
00:15:20,686 --> 00:15:21,586
[inaudible] to represent to


451
00:15:21,586 --> 00:15:23,506
teachers as part of your report.


452
00:15:24,916 --> 00:15:26,826
Each activity can have one


453
00:15:26,986 --> 00:15:29,106
primary activity item, and this


454
00:15:29,106 --> 00:15:30,296
would be the main piece of


455
00:15:30,846 --> 00:15:31,836
information you would


456
00:15:31,986 --> 00:15:34,336
[inaudible] to teachers that's


457
00:15:34,336 --> 00:15:35,306
apart from progress.


458
00:15:36,636 --> 00:15:38,126
For example, this is useful for


459
00:15:38,126 --> 00:15:41,076
a final score of a quiz.


460
00:15:41,306 --> 00:15:42,636
You can also have multiple


461
00:15:42,636 --> 00:15:45,426
additional activity items, which


462
00:15:45,426 --> 00:15:47,956
you would use to add and show


463
00:15:47,956 --> 00:15:49,246
extra information to teachers.


464
00:15:49,246 --> 00:15:51,376
Like for example, how many hints


465
00:15:51,376 --> 00:15:53,016
were given to a student, answer


466
00:15:53,016 --> 00:15:55,896
to individual questions, and


467
00:15:56,296 --> 00:15:56,660
etcetera.


468
00:15:57,546 --> 00:15:59,416
So, Activity Itemization and


469
00:15:59,416 --> 00:16:02,066
Abstract Class, and in our


470
00:16:02,066 --> 00:16:03,366
system, we have defined at the


471
00:16:03,366 --> 00:16:04,626
moment, three subclasses.


472
00:16:05,946 --> 00:16:07,396
One of them is CLS Quantity


473
00:16:07,396 --> 00:16:07,776
Item.


474
00:16:07,966 --> 00:16:09,606
This is useful for simple scalar


475
00:16:09,606 --> 00:16:10,886
quantities like hints,


476
00:16:11,476 --> 00:16:13,056
experience points, and things


477
00:16:13,056 --> 00:16:13,876
like that.


478
00:16:14,456 --> 00:16:16,176
We also have a score item which


479
00:16:16,176 --> 00:16:18,046
is useful to represent X out of


480
00:16:18,046 --> 00:16:18,896
Y quantities.


481
00:16:19,876 --> 00:16:21,996
For example, final score of a


482
00:16:21,996 --> 00:16:23,946
quiz might be useful for this.


483
00:16:24,746 --> 00:16:26,886
And we also have a Binary Item.


484
00:16:28,006 --> 00:16:30,696
And this one is used to answer


485
00:16:31,066 --> 00:16:32,456
Yes or No questions, type of


486
00:16:32,506 --> 00:16:32,856
questions.


487
00:16:33,366 --> 00:16:35,996
Let's take a look at how would


488
00:16:35,996 --> 00:16:37,666
you add a primary activity item


489
00:16:37,776 --> 00:16:38,726
to an activity.


490
00:16:38,756 --> 00:16:40,156
Well, you will do that by first


491
00:16:40,156 --> 00:16:41,346
creating an activity item.


492
00:16:41,986 --> 00:16:42,896
In the [inaudible], we're


493
00:16:42,896 --> 00:16:44,546
showing you how to create a


494
00:16:44,546 --> 00:16:46,186
Score Item with a title of Total


495
00:16:46,186 --> 00:16:46,576
Score.


496
00:16:47,376 --> 00:16:49,286
And then to associate it as a


497
00:16:49,286 --> 00:16:50,676
primary activity item


498
00:16:50,676 --> 00:16:51,416
[inaudible] activity, you will


499
00:16:51,466 --> 00:16:52,946
set it -- you will set the


500
00:16:53,016 --> 00:16:54,806
primary activity item property


501
00:16:54,806 --> 00:16:55,566
of an activity.


502
00:16:56,026 --> 00:16:59,856
To add an additional activity


503
00:16:59,856 --> 00:17:01,176
item, you will again create a


504
00:17:01,176 --> 00:17:02,126
new Activity Item.


505
00:17:02,736 --> 00:17:03,816
In the [inaudible] size, we're


506
00:17:03,816 --> 00:17:05,246
showing how to create a quantity


507
00:17:05,246 --> 00:17:07,766
item with a type of hints, and


508
00:17:07,766 --> 00:17:09,195
then some quantity.


509
00:17:09,766 --> 00:17:11,346
To associate it with an


510
00:17:11,346 --> 00:17:13,806
activity, you would call CLS


511
00:17:13,806 --> 00:17:15,506
Activity Add Additional Activity


512
00:17:15,506 --> 00:17:18,465
Item after passing the item you


513
00:17:18,465 --> 00:17:19,096
just created.


514
00:17:19,256 --> 00:17:20,465
At that point, this activity


515
00:17:20,465 --> 00:17:22,435
item will be associated with


516
00:17:22,435 --> 00:17:22,886
activity.


517
00:17:24,066 --> 00:17:26,435
So, there's some best practices


518
00:17:26,435 --> 00:17:27,746
when dealing with activity


519
00:17:27,746 --> 00:17:28,086
items.


520
00:17:29,276 --> 00:17:32,056
One of them is to always save


521
00:17:32,116 --> 00:17:33,676
the subclass for a primary


522
00:17:33,676 --> 00:17:34,326
activity item.


523
00:17:35,636 --> 00:17:36,686
What I mean by that is that


524
00:17:37,086 --> 00:17:38,956
imagine a teacher assigns the


525
00:17:38,956 --> 00:17:40,566
same context to two students.


526
00:17:41,516 --> 00:17:44,106
You know, Student A device, you


527
00:17:44,106 --> 00:17:46,346
set the primary activity item as


528
00:17:46,346 --> 00:17:46,926
a score item.


529
00:17:47,976 --> 00:17:49,756
On Student B device, you set the


530
00:17:49,756 --> 00:17:51,586
primary activity item as a


531
00:17:51,586 --> 00:17:52,336
binary item.


532
00:17:53,016 --> 00:17:54,266
Well, if you do that, we can't


533
00:17:54,266 --> 00:17:56,126
actually generate an aggregated


534
00:17:56,126 --> 00:17:58,096
report back to teacher because


535
00:17:58,786 --> 00:18:01,046
there's no clear heuristic of


536
00:18:01,126 --> 00:18:02,586
how to convert from a score item


537
00:18:02,586 --> 00:18:04,016
to a binary, or vice versa.


538
00:18:04,716 --> 00:18:05,936
Because of that, it is best to


539
00:18:05,936 --> 00:18:08,426
always have the same subclass of


540
00:18:08,426 --> 00:18:10,086
an activity item as the primary


541
00:18:10,086 --> 00:18:10,606
activity item.


542
00:18:11,816 --> 00:18:13,496
Also, please provide clear,


543
00:18:14,056 --> 00:18:15,766
concise, but descriptive titles


544
00:18:15,766 --> 00:18:16,766
to your activity items.


545
00:18:17,346 --> 00:18:18,936
This is because the titles that


546
00:18:18,936 --> 00:18:20,246
you set on your activity items


547
00:18:20,336 --> 00:18:21,846
will be visible to teachers in


548
00:18:21,846 --> 00:18:22,366
their report.


549
00:18:22,896 --> 00:18:26,546
And please make use of


550
00:18:26,546 --> 00:18:27,636
additional activity items.


551
00:18:27,636 --> 00:18:29,136
They're a great way to provide


552
00:18:30,036 --> 00:18:31,476
the extra information that


553
00:18:31,526 --> 00:18:32,886
teachers will actually need to


554
00:18:32,966 --> 00:18:34,506
truly understand how students


555
00:18:34,506 --> 00:18:37,786
are doing within your app.


556
00:18:37,786 --> 00:18:38,916
With that, I'd like to invite


557
00:18:39,006 --> 00:18:40,316
Marin to the stage who is going


558
00:18:40,316 --> 00:18:41,746
to show us how all of this works


559
00:18:41,746 --> 00:18:42,156
in action.


560
00:18:43,516 --> 00:18:50,796
[ Applause ]


561
00:18:51,296 --> 00:18:52,576
>> Hello, everyone.


562
00:18:53,226 --> 00:18:54,896
My name is Marin, and I'm an


563
00:18:54,996 --> 00:18:56,576
engineer on the ClassKit Team.


564
00:18:57,226 --> 00:18:59,686
And I would like to show you how


565
00:18:59,686 --> 00:19:01,526
to adopt ClassKit into a


566
00:19:01,526 --> 00:19:02,506
preexisting app.


567
00:19:03,316 --> 00:19:05,366
So, to do this, Pavel and I went


568
00:19:05,446 --> 00:19:07,956
ahead and built a sample app.


569
00:19:07,956 --> 00:19:09,146
The sample app is called


570
00:19:09,146 --> 00:19:09,626
Quizler.


571
00:19:10,206 --> 00:19:12,576
It's a simple, math, quiz-taking


572
00:19:13,106 --> 00:19:13,173
app.


573
00:19:13,506 --> 00:19:15,256
The very first screen that you


574
00:19:15,366 --> 00:19:17,476
get asks you to select what type


575
00:19:17,476 --> 00:19:18,706
of math you'd like to be quizzed


576
00:19:18,706 --> 00:19:18,946
on.


577
00:19:19,596 --> 00:19:20,816
So, let's go ahead and select


578
00:19:20,856 --> 00:19:21,576
the addition quiz.


579
00:19:22,966 --> 00:19:24,146
Once we do that, we'll get


580
00:19:24,146 --> 00:19:26,216
presented with another view that


581
00:19:26,466 --> 00:19:27,956
asks us if we'd like to view the


582
00:19:27,956 --> 00:19:29,716
scoreboard of all the users'


583
00:19:29,716 --> 00:19:32,466
high scores, or if we just want


584
00:19:32,466 --> 00:19:33,446
to start the quiz.


585
00:19:34,046 --> 00:19:36,326
So, let's go ahead and tap Start


586
00:19:36,896 --> 00:19:37,036
Quiz.


587
00:19:37,216 --> 00:19:39,196
Then, we get presented with each


588
00:19:39,246 --> 00:19:40,256
one of our questions.


589
00:19:41,006 --> 00:19:42,086
We're just going to answer them,


590
00:19:42,786 --> 00:19:44,386
and we get a total score at the


591
00:19:44,466 --> 00:19:44,626
end.


592
00:19:45,746 --> 00:19:47,456
So now that we understand what


593
00:19:47,456 --> 00:19:49,566
this sample app does, let's talk


594
00:19:49,566 --> 00:19:50,906
about the steps that we'll take


595
00:19:51,156 --> 00:19:52,196
to adopt ClassKit.


596
00:19:53,636 --> 00:19:55,396
So first we will talk about what


597
00:19:55,396 --> 00:19:57,666
type of activity -- context data


598
00:19:58,076 --> 00:20:01,136
makes sense for our sample app.


599
00:20:01,136 --> 00:20:03,286
After we do that, we'll discuss


600
00:20:03,406 --> 00:20:05,396
what type of student generated


601
00:20:05,446 --> 00:20:07,276
activity data, might also make


602
00:20:07,316 --> 00:20:07,596
sense.


603
00:20:08,906 --> 00:20:10,206
We'll make sure that we support


604
00:20:10,236 --> 00:20:10,966
deep-linking.


605
00:20:11,506 --> 00:20:12,726
Now, there's two ways to do


606
00:20:12,726 --> 00:20:12,956
this.


607
00:20:13,696 --> 00:20:15,106
The first way is to use


608
00:20:15,106 --> 00:20:15,946
universal links.


609
00:20:16,836 --> 00:20:18,556
So, if you already adopted


610
00:20:18,556 --> 00:20:19,996
universal links within your


611
00:20:19,996 --> 00:20:21,806
applications, you can simply


612
00:20:21,806 --> 00:20:23,576
just set the universal link


613
00:20:23,616 --> 00:20:25,326
property that lives on CLS


614
00:20:25,496 --> 00:20:25,926
Context.


615
00:20:27,556 --> 00:20:29,746
Now, our sample app does not


616
00:20:29,746 --> 00:20:31,486
support universal links, so I'm


617
00:20:31,486 --> 00:20:32,486
going to show you the second


618
00:20:32,486 --> 00:20:34,476
approach, which is to use NS


619
00:20:34,656 --> 00:20:36,186
User Activities Continue


620
00:20:36,186 --> 00:20:37,146
Restoration Handler.


621
00:20:38,586 --> 00:20:40,156
Then we'll make sure that we


622
00:20:40,156 --> 00:20:42,386
test our implementation using


623
00:20:42,806 --> 00:20:44,426
Developer Mode and the


624
00:20:44,476 --> 00:20:46,206
Schoolwork app.


625
00:20:46,546 --> 00:20:47,896
So, now let's talk about what


626
00:20:48,006 --> 00:20:49,826
type of context structure might


627
00:20:49,826 --> 00:20:51,836
make sense for this app.


628
00:20:51,836 --> 00:20:53,486
As a first approach, we might


629
00:20:53,486 --> 00:20:56,546
decide to do a one-to-one map of


630
00:20:56,546 --> 00:20:58,526
RUI to a Context Tree.


631
00:20:59,176 --> 00:21:00,906
And if we did that, we would end


632
00:21:00,906 --> 00:21:02,226
up with a structure that looks


633
00:21:02,226 --> 00:21:02,936
something like this.


634
00:21:03,916 --> 00:21:06,006
At the top level, we have our


635
00:21:06,006 --> 00:21:07,636
main app context, which is our


636
00:21:07,636 --> 00:21:08,796
Quizzler app.


637
00:21:09,246 --> 00:21:11,256
Beneath that, we have our


638
00:21:11,256 --> 00:21:12,776
Addition Context and a


639
00:21:12,776 --> 00:21:13,986
Multiplication Context.


640
00:21:14,656 --> 00:21:15,966
And then beneath each one of


641
00:21:15,966 --> 00:21:17,886
those, we have the Scoreboard


642
00:21:17,886 --> 00:21:20,316
Context and then the actual Quiz


643
00:21:20,316 --> 00:21:20,866
Context.


644
00:21:21,866 --> 00:21:24,846
Now, Pavel told us that a


645
00:21:24,846 --> 00:21:26,836
context is a part of our


646
00:21:26,836 --> 00:21:29,156
application that a teacher will


647
00:21:29,156 --> 00:21:30,376
assign to their students.


648
00:21:31,246 --> 00:21:32,406
So, if we keep that in mind,


649
00:21:32,716 --> 00:21:33,986
let's first talk about the


650
00:21:33,986 --> 00:21:34,926
Scoreboard Context.


651
00:21:36,146 --> 00:21:39,376
Well, what is the Scoreboard


652
00:21:39,376 --> 00:21:39,876
Context?


653
00:21:40,476 --> 00:21:42,016
It's all the users' high scores.


654
00:21:42,916 --> 00:21:44,726
Now, does that really make sense


655
00:21:45,076 --> 00:21:46,846
for a teacher to assign to their


656
00:21:46,846 --> 00:21:47,426
students?


657
00:21:48,756 --> 00:21:49,766
Not really.


658
00:21:50,066 --> 00:21:51,416
So, we're going to go ahead and


659
00:21:51,416 --> 00:21:52,566
remove that.


660
00:21:53,056 --> 00:21:54,296
Now, we're left with a structure


661
00:21:54,436 --> 00:21:55,416
that looks something like this.


662
00:21:56,646 --> 00:21:58,636
So, next let's focus on the


663
00:21:58,636 --> 00:21:59,566
Addition Context.


664
00:22:00,356 --> 00:22:01,886
What is the Addition Context


665
00:22:01,886 --> 00:22:03,376
within our application?


666
00:22:04,166 --> 00:22:05,706
Isn't it really just the


667
00:22:05,706 --> 00:22:06,566
addition quiz?


668
00:22:07,406 --> 00:22:08,706
It's really just one thing.


669
00:22:09,016 --> 00:22:09,626
It's not two.


670
00:22:09,626 --> 00:22:11,406
So, those really should be


671
00:22:11,406 --> 00:22:12,486
combined into one.


672
00:22:13,026 --> 00:22:14,246
So, let's go ahead and do that


673
00:22:14,386 --> 00:22:16,166
and then the same goes for the


674
00:22:16,166 --> 00:22:17,466
multiplication context.


675
00:22:18,246 --> 00:22:20,026
Now, we're left with a structure


676
00:22:20,166 --> 00:22:22,056
that looks something like this.


677
00:22:22,316 --> 00:22:23,996
Now, Pavel and I talked about


678
00:22:24,586 --> 00:22:26,856
it, and we decided that we may


679
00:22:27,316 --> 00:22:29,776
add a subtraction quiz and a


680
00:22:29,776 --> 00:22:31,146
division quiz in the future.


681
00:22:31,146 --> 00:22:32,986
And if we did that, we could


682
00:22:32,986 --> 00:22:35,356
easily add those as siblings.


683
00:22:36,156 --> 00:22:37,586
Now, when you all are thinking


684
00:22:37,586 --> 00:22:39,056
about which structure makes


685
00:22:39,096 --> 00:22:40,706
sense for your applications,


686
00:22:41,126 --> 00:22:42,146
don't just think about your


687
00:22:42,146 --> 00:22:44,056
current feature set, but also


688
00:22:44,056 --> 00:22:45,396
consider what you might be doing


689
00:22:45,396 --> 00:22:46,946
in the future, and make sure


690
00:22:46,946 --> 00:22:48,456
that your structure will easily


691
00:22:48,456 --> 00:22:49,776
grow with you.


692
00:22:50,516 --> 00:22:52,106
So now, let's talk about the


693
00:22:52,106 --> 00:22:53,106
context themselves.


694
00:22:53,956 --> 00:22:55,326
We want to make sure that we


695
00:22:55,326 --> 00:22:57,546
have clear titles, and that's


696
00:22:57,596 --> 00:22:59,846
because the title is the one


697
00:22:59,846 --> 00:23:01,636
piece of information that both


698
00:23:01,706 --> 00:23:03,456
students and teachers will have


699
00:23:03,936 --> 00:23:05,406
to know what this context


700
00:23:05,726 --> 00:23:06,416
represents.


701
00:23:07,736 --> 00:23:09,136
We also want to define our


702
00:23:09,136 --> 00:23:11,366
context as early as possible.


703
00:23:12,166 --> 00:23:13,806
For our sample app, we have


704
00:23:13,946 --> 00:23:14,696
static content.


705
00:23:15,296 --> 00:23:16,966
And so, we'll know what context


706
00:23:16,966 --> 00:23:18,486
to write as soon as the app


707
00:23:18,676 --> 00:23:19,176
launches.


708
00:23:19,746 --> 00:23:20,836
So, that's when we'll define


709
00:23:21,586 --> 00:23:21,706
ours.


710
00:23:22,666 --> 00:23:24,926
Now, we might also want to


711
00:23:24,926 --> 00:23:26,586
always display our context in a


712
00:23:26,586 --> 00:23:28,286
particular order for teachers


713
00:23:28,286 --> 00:23:29,416
that makes sense.


714
00:23:30,276 --> 00:23:31,886
So, for our sample app, that


715
00:23:31,886 --> 00:23:33,876
might mean our addition context


716
00:23:34,016 --> 00:23:35,046
should probably also be


717
00:23:35,296 --> 00:23:37,096
displayed above the


718
00:23:37,096 --> 00:23:38,486
multiplication context.


719
00:23:39,036 --> 00:23:40,446
So, to do that, we'll take


720
00:23:40,446 --> 00:23:42,236
advantage of the Display Order


721
00:23:42,236 --> 00:23:44,036
Property that lives on CLS


722
00:23:44,206 --> 00:23:44,636
Context.


723
00:23:45,256 --> 00:23:47,656
Now that we've determined what


724
00:23:47,656 --> 00:23:49,386
type of context data we're going


725
00:23:49,386 --> 00:23:50,416
to write, let's talk about the


726
00:23:50,416 --> 00:23:52,016
student generated activity.


727
00:23:52,546 --> 00:23:55,326
Here, I have a screenshot of the


728
00:23:55,326 --> 00:23:57,246
Schoolwork App, and this is a


729
00:23:57,366 --> 00:23:59,656
sample of what some activity


730
00:23:59,656 --> 00:24:00,786
data might look like.


731
00:24:01,996 --> 00:24:03,486
For our quiz, I think it


732
00:24:03,486 --> 00:24:05,176
definitely makes sense to track


733
00:24:05,176 --> 00:24:06,916
the total amount of time that a


734
00:24:06,916 --> 00:24:08,776
student spends taking this quiz.


735
00:24:09,596 --> 00:24:11,556
So, to do this, we can go ahead


736
00:24:11,556 --> 00:24:13,656
and call the Start and Stop


737
00:24:13,656 --> 00:24:15,236
Methods that live on CLS


738
00:24:15,346 --> 00:24:15,906
Activity.


739
00:24:17,246 --> 00:24:19,316
Now, it might also be nice to


740
00:24:19,316 --> 00:24:20,986
show what the total score was


741
00:24:20,986 --> 00:24:22,086
that the student received.


742
00:24:23,116 --> 00:24:24,846
And if we think about it, the


743
00:24:24,996 --> 00:24:27,746
total score is probably the most


744
00:24:27,746 --> 00:24:29,646
important piece of information


745
00:24:29,806 --> 00:24:30,996
about this whole quiz.


746
00:24:31,566 --> 00:24:32,616
So, we probably want to


747
00:24:32,616 --> 00:24:33,526
highlight it within the


748
00:24:33,526 --> 00:24:35,446
Schoolwork UI like we have here.


749
00:24:36,136 --> 00:24:37,916
Well, to do this, we can go


750
00:24:37,916 --> 00:24:40,176
ahead and create a CLS Score


751
00:24:40,246 --> 00:24:42,256
Item, and then we'll set it as


752
00:24:42,256 --> 00:24:44,086
the primary activity item.


753
00:24:44,086 --> 00:24:45,286
That way, it will get


754
00:24:45,386 --> 00:24:47,906
highlighted within the


755
00:24:48,436 --> 00:24:48,776
Schoolwork UI.


756
00:24:48,776 --> 00:24:51,066
Now, it might also be nice to


757
00:24:51,066 --> 00:24:52,586
indicate whether an individual


758
00:24:52,586 --> 00:24:54,506
question was correct or not.


759
00:24:55,636 --> 00:24:57,646
So, to do this, we can go ahead


760
00:24:57,936 --> 00:25:00,576
and create CLS Binary Items and


761
00:25:01,706 --> 00:25:03,436
we'll add each one of those as


762
00:25:03,436 --> 00:25:05,686
an additional activity item on


763
00:25:05,686 --> 00:25:06,316
our activity.


764
00:25:07,156 --> 00:25:08,876
So, now that we've determined


765
00:25:08,876 --> 00:25:10,266
what type of ClassKit close


766
00:25:10,266 --> 00:25:12,096
we're going to write, let's go


767
00:25:12,566 --> 00:25:14,486
ahead and see what that actually


768
00:25:15,336 --> 00:25:19,746
looks like in action.


769
00:25:20,466 --> 00:25:21,686
So here, I'm mirroring my


770
00:25:21,686 --> 00:25:23,696
display for you and have Xcode


771
00:25:23,696 --> 00:25:24,266
on screen.


772
00:25:25,056 --> 00:25:26,236
The first thing that I'm going


773
00:25:26,236 --> 00:25:28,706
to do is select my project's


774
00:25:28,706 --> 00:25:29,046
target.


775
00:25:30,166 --> 00:25:31,306
Once I do that, I'm going to


776
00:25:31,306 --> 00:25:33,196
select the Capabilities Pane,


777
00:25:33,586 --> 00:25:34,766
and we're going to find the


778
00:25:34,766 --> 00:25:36,386
ClassKit APIs right here.


779
00:25:37,536 --> 00:25:38,846
Then, all we need to do is make


780
00:25:38,846 --> 00:25:40,806
sure that we toggle that on, and


781
00:25:40,806 --> 00:25:42,326
we're all set to start writing


782
00:25:42,326 --> 00:25:43,396
some ClassKit code.


783
00:25:44,376 --> 00:25:46,176
So, first we're going to write


784
00:25:46,176 --> 00:25:48,006
our context and we said that we


785
00:25:48,006 --> 00:25:49,596
could do that as soon as the app


786
00:25:49,596 --> 00:25:50,136
launches.


787
00:25:50,736 --> 00:25:52,326
So, let's go ahead and open up


788
00:25:52,376 --> 00:25:53,266
the App Delegate.


789
00:25:54,096 --> 00:25:56,206
And in here, let's go ahead and


790
00:25:56,276 --> 00:25:57,786
create a function that will


791
00:25:57,856 --> 00:26:00,186
publish our context for us.


792
00:26:01,856 --> 00:26:03,436
Here we have our published


793
00:26:03,436 --> 00:26:05,606
context function, and what we're


794
00:26:05,606 --> 00:26:06,676
going to do is we're going to


795
00:26:06,676 --> 00:26:08,836
instantiate an instance if CLS


796
00:26:08,906 --> 00:26:11,416
Context, passing in the type of


797
00:26:11,466 --> 00:26:14,786
context that this is, giving it


798
00:26:14,786 --> 00:26:17,166
a unique identifier, and then a


799
00:26:17,166 --> 00:26:19,166
nice, clear, and concise title.


800
00:26:20,136 --> 00:26:21,306
Then we make sure to set our


801
00:26:21,306 --> 00:26:23,116
display order because we want


802
00:26:23,116 --> 00:26:25,276
our addition quiz to display


803
00:26:25,276 --> 00:26:26,836
above our multiplication quiz.


804
00:26:27,846 --> 00:26:29,016
Then, we're going to do the same


805
00:26:29,016 --> 00:26:30,946
for our multiplication quiz and


806
00:26:30,996 --> 00:26:32,556
[inaudible] a context and make


807
00:26:32,556 --> 00:26:33,926
sure to set the display order.


808
00:26:34,966 --> 00:26:36,486
Once we do that, we're going to


809
00:26:36,486 --> 00:26:38,096
create a dictionary of our


810
00:26:38,196 --> 00:26:39,796
context that we will need to


811
00:26:39,796 --> 00:26:40,276
create.


812
00:26:40,456 --> 00:26:43,046
Then, we're going to grab the


813
00:26:43,176 --> 00:26:44,896
parent context that we want to


814
00:26:44,896 --> 00:26:45,646
add these to.


815
00:26:46,236 --> 00:26:48,376
Since our structure is flat, we


816
00:26:48,376 --> 00:26:50,216
know that our parent context is


817
00:26:50,216 --> 00:26:51,856
always going to be our main app


818
00:26:52,156 --> 00:26:52,606
context.


819
00:26:53,786 --> 00:26:55,596
Now, let's issue a query to see


820
00:26:55,596 --> 00:26:57,506
if any of these contexts already


821
00:26:57,506 --> 00:26:57,786
exist.


822
00:26:58,526 --> 00:26:59,976
So, we're going to create a


823
00:27:00,626 --> 00:27:01,786
predicate, looking for all the


824
00:27:01,786 --> 00:27:03,666
context where the parent is the


825
00:27:03,666 --> 00:27:04,836
parent we just defined.


826
00:27:05,826 --> 00:27:06,946
Then, we're going to issue that


827
00:27:06,976 --> 00:27:08,956
query to the CLS data store's


828
00:27:09,176 --> 00:27:10,106
shared instance.


829
00:27:11,216 --> 00:27:14,116
For all the context that match,


830
00:27:14,916 --> 00:27:16,536
this predicate we just defined.


831
00:27:17,736 --> 00:27:19,416
This will return an array of


832
00:27:19,476 --> 00:27:20,066
context.


833
00:27:21,276 --> 00:27:22,696
We're just going to iterate over


834
00:27:22,796 --> 00:27:24,546
all of the context that we know


835
00:27:24,546 --> 00:27:25,366
already exist.


836
00:27:26,676 --> 00:27:28,066
Then, for each one of those


837
00:27:28,066 --> 00:27:29,426
contexts that's already there,


838
00:27:30,046 --> 00:27:31,126
we're going to remove it from


839
00:27:31,126 --> 00:27:32,726
our dictionary of context that


840
00:27:32,726 --> 00:27:33,646
we need to create.


841
00:27:34,136 --> 00:27:36,736
Then, we're going to iterate


842
00:27:36,736 --> 00:27:38,646
over the remaining contexts that


843
00:27:38,646 --> 00:27:40,906
do not exist, and for each of


844
00:27:40,906 --> 00:27:43,046
one those contexts, we're just


845
00:27:43,046 --> 00:27:44,576
going to add it as a child


846
00:27:44,606 --> 00:27:46,736
context to our parents.


847
00:27:48,076 --> 00:27:49,396
Then we call Save to Save our


848
00:27:49,396 --> 00:27:49,886
changes.


849
00:27:51,006 --> 00:27:52,646
Now, what we need to do is call


850
00:27:52,646 --> 00:27:54,156
this function when our app


851
00:27:54,156 --> 00:27:54,646
launches.


852
00:27:55,186 --> 00:27:59,296
So, let's go ahead and run this


853
00:27:59,296 --> 00:28:01,016
code to test that our contexts


854
00:28:01,076 --> 00:28:01,986
were actually created.


855
00:28:01,986 --> 00:28:04,646
Here, I have a device and I'm


856
00:28:04,716 --> 00:28:05,986
mirroring my display for you.


857
00:28:06,976 --> 00:28:07,716
So, awesome.


858
00:28:07,716 --> 00:28:09,336
Our Quizzler app launched.


859
00:28:10,136 --> 00:28:12,086
But everything looks the same.


860
00:28:12,846 --> 00:28:14,386
So, how do we know that these


861
00:28:14,386 --> 00:28:16,286
contexts were actually created?


862
00:28:16,836 --> 00:28:17,926
Well, this is where we use


863
00:28:17,926 --> 00:28:19,546
Developer Mode and Schoolwork.


864
00:28:19,546 --> 00:28:20,956
So, I'm going to hit the Home


865
00:28:20,956 --> 00:28:23,256
button, and open up the settings


866
00:28:24,436 --> 00:28:24,503
up.


867
00:28:24,736 --> 00:28:25,766
Now, I'm going to scroll down


868
00:28:25,766 --> 00:28:26,646
and I'm going to look for the


869
00:28:26,646 --> 00:28:27,416
Developer Settings.


870
00:28:27,416 --> 00:28:29,716
When I select the Developer


871
00:28:29,716 --> 00:28:31,906
Settings, I'm going to see some


872
00:28:31,906 --> 00:28:33,036
ClassKit APIs.


873
00:28:33,866 --> 00:28:35,536
If I select the ClassKit APIs,


874
00:28:35,836 --> 00:28:37,576
we can see that we can switch


875
00:28:37,656 --> 00:28:38,796
and act as the role of the


876
00:28:38,796 --> 00:28:39,246
teacher.


877
00:28:39,916 --> 00:28:41,186
So, I just make sure I select


878
00:28:41,336 --> 00:28:41,706
that.


879
00:28:42,356 --> 00:28:43,656
And now, we can hit the Home


880
00:28:43,656 --> 00:28:45,346
button and open up the


881
00:28:45,346 --> 00:28:46,666
Schoolwork app.


882
00:28:48,096 --> 00:28:49,706
Now, when the Schoolwork app


883
00:28:49,706 --> 00:28:51,436
launches, I first get a Welcome


884
00:28:51,436 --> 00:28:51,896
screen.


885
00:28:52,226 --> 00:28:53,336
I'll go ahead and dismiss that.


886
00:28:53,916 --> 00:28:55,166
And then if we look in the top


887
00:28:55,166 --> 00:28:56,626
right-hand corner, I can see


888
00:28:56,626 --> 00:28:57,786
that I have a plus button.


889
00:28:58,416 --> 00:28:59,526
That's how I know that I'm


890
00:28:59,526 --> 00:29:00,516
logged in as a teacher.


891
00:29:01,156 --> 00:29:02,596
If I tap on that plus button,


892
00:29:02,886 --> 00:29:04,506
I'll get the Create a New


893
00:29:04,576 --> 00:29:05,316
Handout view.


894
00:29:05,946 --> 00:29:07,476
And I can add an activity.


895
00:29:08,516 --> 00:29:10,586
Then I can select Apps, and we


896
00:29:10,586 --> 00:29:11,716
can see our Quizler app is


897
00:29:11,716 --> 00:29:12,206
showing up.


898
00:29:12,826 --> 00:29:15,306
If I select that, awesome, our


899
00:29:15,596 --> 00:29:16,566
contexts are there.


900
00:29:16,936 --> 00:29:17,796
So now, we've been able to


901
00:29:17,796 --> 00:29:19,146
validate that our contexts


902
00:29:19,256 --> 00:29:20,416
actually got created.


903
00:29:20,936 --> 00:29:22,516
I'd also like to point out that


904
00:29:22,546 --> 00:29:24,296
the addition quiz is displaying


905
00:29:24,326 --> 00:29:25,866
above the multiplication quiz.


906
00:29:26,516 --> 00:29:27,516
We've also now been able to


907
00:29:27,516 --> 00:29:29,366
validate that our display order


908
00:29:29,366 --> 00:29:30,266
was set correctly.


909
00:29:30,756 --> 00:29:32,096
So, let's go ahead and select


910
00:29:32,136 --> 00:29:32,946
the addition quiz.


911
00:29:33,386 --> 00:29:35,166
That's going to add that context


912
00:29:35,286 --> 00:29:36,176
to this handout.


913
00:29:36,586 --> 00:29:37,836
And now, let's just go ahead and


914
00:29:38,196 --> 00:29:39,306
send this handout to our class.


915
00:29:39,306 --> 00:29:41,666
I'm going to tap on the To


916
00:29:41,666 --> 00:29:42,006
field.


917
00:29:42,626 --> 00:29:44,836
Select my class.


918
00:29:45,126 --> 00:29:46,676
And let's just give a title to


919
00:29:46,676 --> 00:29:47,356
this handout.


920
00:29:47,926 --> 00:29:50,486
Now, I'm going to go ahead and


921
00:29:50,486 --> 00:29:51,046
hit Post.


922
00:29:51,556 --> 00:29:53,216
What this does is it sense this


923
00:29:53,216 --> 00:29:55,136
handout to my class, and it


924
00:29:55,266 --> 00:29:57,336
authorizes the context that's on


925
00:29:57,336 --> 00:29:58,036
this handout.


926
00:29:58,366 --> 00:30:00,216
So now, that context can start


927
00:30:00,216 --> 00:30:01,446
recording progress data.


928
00:30:02,646 --> 00:30:03,876
We can see that my handout


929
00:30:03,926 --> 00:30:05,616
posted successfully, and I can


930
00:30:05,616 --> 00:30:06,086
tap on it.


931
00:30:06,966 --> 00:30:08,276
Here we see the context that


932
00:30:08,276 --> 00:30:10,026
I've added, and I see my nice,


933
00:30:10,026 --> 00:30:12,386
app icon is right there next to


934
00:30:12,386 --> 00:30:13,306
the context name.


935
00:30:14,006 --> 00:30:15,906
If I tap on the icon, it should


936
00:30:15,906 --> 00:30:17,636
navigate me straight into the


937
00:30:17,636 --> 00:30:18,646
addition math quiz.


938
00:30:19,046 --> 00:30:19,876
So, let's go ahead and tap on


939
00:30:19,876 --> 00:30:19,976
that.


940
00:30:21,456 --> 00:30:24,196
Uh-oh. Schoolwork launched our


941
00:30:24,336 --> 00:30:25,276
app, but this is not the


942
00:30:25,276 --> 00:30:26,316
addition math quiz.


943
00:30:27,126 --> 00:30:28,026
Oh, yes. That's right.


944
00:30:28,146 --> 00:30:28,986
We forgot to add in


945
00:30:28,986 --> 00:30:29,686
deep-linking.


946
00:30:29,896 --> 00:30:31,276
So, let's go back to XCode and


947
00:30:31,276 --> 00:30:31,926
add that in.


948
00:30:32,536 --> 00:30:33,866
So, I'm going to go back to the


949
00:30:33,866 --> 00:30:35,616
App Delegate, and let's add in


950
00:30:35,876 --> 00:30:37,306
that Continue Restoration


951
00:30:37,306 --> 00:30:37,986
Handler.


952
00:30:38,226 --> 00:30:41,376
So here, the Continue


953
00:30:41,376 --> 00:30:43,226
Restoration Handler will process


954
00:30:43,226 --> 00:30:44,416
some user activity.


955
00:30:45,336 --> 00:30:46,396
We're just going to grab that


956
00:30:46,396 --> 00:30:48,166
User Activity and get the


957
00:30:48,166 --> 00:30:49,556
Context Identifier Path.


958
00:30:51,156 --> 00:30:52,816
Once we have the Context Path,


959
00:30:53,436 --> 00:30:54,796
we're going to instantiate our


960
00:30:54,846 --> 00:30:56,906
own internal quiz model that's


961
00:30:56,906 --> 00:30:58,736
associated with this context.


962
00:30:59,936 --> 00:31:01,266
Then, we're going to make sure


963
00:31:01,266 --> 00:31:02,766
that we call our same published


964
00:31:02,766 --> 00:31:05,346
context function, and that so,


965
00:31:05,346 --> 00:31:06,816
if the context has not been


966
00:31:06,816 --> 00:31:08,196
created, we'll make sure to


967
00:31:08,196 --> 00:31:09,066
create them.


968
00:31:09,756 --> 00:31:11,246
This will return an optional


969
00:31:11,246 --> 00:31:12,676
error, and we'll make sure to


970
00:31:12,706 --> 00:31:14,266
handle any errors.


971
00:31:14,816 --> 00:31:16,416
Then, we're just going to sync


972
00:31:16,486 --> 00:31:17,746
back up with our main thread and


973
00:31:18,526 --> 00:31:20,806
instantiate our storyboard and


974
00:31:20,806 --> 00:31:22,596
also instantiate the correct


975
00:31:22,596 --> 00:31:24,216
view controllers for this quiz.


976
00:31:25,296 --> 00:31:26,766
Then we're going to set our quiz


977
00:31:26,766 --> 00:31:28,926
on our view controller, and push


978
00:31:28,926 --> 00:31:30,036
on the appropriate views.


979
00:31:30,916 --> 00:31:33,166
So, now let's go ahead and run


980
00:31:33,166 --> 00:31:34,906
this code and test that our


981
00:31:34,906 --> 00:31:36,146
deep-linking is working.


982
00:31:36,706 --> 00:31:38,116
So, I'm going to switch back to


983
00:31:38,116 --> 00:31:40,046
my device, and then we're going


984
00:31:40,046 --> 00:31:41,336
to navigate back to the


985
00:31:41,336 --> 00:31:42,606
Schoolwork app.


986
00:31:43,936 --> 00:31:46,296
Here, let's tap on the icon one


987
00:31:46,296 --> 00:31:46,866
more time.


988
00:31:48,186 --> 00:31:50,286
Awesome. It launched us straight


989
00:31:50,286 --> 00:31:51,946
into the addition math quiz.


990
00:31:52,306 --> 00:31:53,636
So, now we're ready to start


991
00:31:53,636 --> 00:31:55,466
writing our user generated


992
00:31:55,466 --> 00:31:56,076
activity data.


993
00:31:56,746 --> 00:31:58,356
So, let's go back to XCode, and


994
00:31:58,356 --> 00:31:59,766
let's navigate to the part of


995
00:31:59,766 --> 00:32:01,576
our code that gets called when a


996
00:32:01,616 --> 00:32:03,366
quiz first starts.


997
00:32:04,136 --> 00:32:06,616
So, here, we said that we wanted


998
00:32:06,766 --> 00:32:11,526
to start the timer for our quiz.


999
00:32:12,176 --> 00:32:14,816
So, what we're going to do is


1000
00:32:14,816 --> 00:32:16,186
we're going to issue a query to


1001
00:32:16,446 --> 00:32:18,566
our CLS Data Source Shared


1002
00:32:18,566 --> 00:32:18,896
Instance.


1003
00:32:18,896 --> 00:32:21,176
And then we're going to query in


1004
00:32:21,286 --> 00:32:23,826
our main app context for all of


1005
00:32:23,826 --> 00:32:26,046
the descendants, that match the


1006
00:32:26,046 --> 00:32:28,116
identifier path that's


1007
00:32:28,116 --> 00:32:29,466
associated with this quiz.


1008
00:32:30,586 --> 00:32:32,166
This will return an optional


1009
00:32:32,166 --> 00:32:32,656
context.


1010
00:32:33,786 --> 00:32:34,536
We're going to grab that


1011
00:32:34,616 --> 00:32:36,646
context, make sure that we


1012
00:32:36,646 --> 00:32:38,006
called the Become Active, and


1013
00:32:38,656 --> 00:32:40,436
then we're going to instantiate


1014
00:32:40,436 --> 00:32:42,726
a new instance of CLS activity.


1015
00:32:43,176 --> 00:32:44,896
And that's because when this


1016
00:32:45,376 --> 00:32:47,716
part of our code gets run, we


1017
00:32:47,716 --> 00:32:49,066
know that the student is taking


1018
00:32:49,066 --> 00:32:50,306
a new attempt at the quiz.


1019
00:32:51,226 --> 00:32:52,686
Then we're just going to cash


1020
00:32:52,726 --> 00:32:54,326
that activity and a property


1021
00:32:54,326 --> 00:32:55,866
that we have defined.


1022
00:32:56,676 --> 00:32:58,866
Then, we call Start on Activity


1023
00:32:59,056 --> 00:32:59,936
to start our timer.


1024
00:33:01,016 --> 00:33:02,536
We also said that we wanted to


1025
00:33:02,536 --> 00:33:03,916
report the answer for an


1026
00:33:03,916 --> 00:33:05,116
individual or question.


1027
00:33:05,786 --> 00:33:06,876
So, I'm going to navigate to the


1028
00:33:06,876 --> 00:33:08,496
part of my code that gets called


1029
00:33:08,666 --> 00:33:09,866
when a student taps on an


1030
00:33:09,866 --> 00:33:10,236
answer.


1031
00:33:10,846 --> 00:33:14,376
So here, what we're going to do,


1032
00:33:14,816 --> 00:33:16,336
is we're going to get that same


1033
00:33:16,396 --> 00:33:17,786
currently running activity that


1034
00:33:17,786 --> 00:33:18,686
we just created.


1035
00:33:19,336 --> 00:33:20,906
Once we have that, we'll


1036
00:33:20,906 --> 00:33:23,886
instantiate a CLS binary item,


1037
00:33:24,606 --> 00:33:26,286
giving it a unique identifier,


1038
00:33:26,286 --> 00:33:29,496
and then a nice, clear title.


1039
00:33:30,376 --> 00:33:31,536
Then we'll make sure to pass in


1040
00:33:31,536 --> 00:33:33,266
the type of binary item that


1041
00:33:33,266 --> 00:33:34,576
this is.


1042
00:33:34,946 --> 00:33:37,326
Now, we're going to set the


1043
00:33:37,326 --> 00:33:39,426
value of whether the student got


1044
00:33:39,426 --> 00:33:41,776
this question correct or not.


1045
00:33:42,936 --> 00:33:43,886
Then we're going to add this


1046
00:33:44,016 --> 00:33:46,356
binary item as an additional


1047
00:33:47,106 --> 00:33:49,266
activity item on our currently


1048
00:33:49,266 --> 00:33:50,096
running activity.


1049
00:33:51,186 --> 00:33:52,406
The last thing that we said we


1050
00:33:52,406 --> 00:33:54,576
wanted to do, was stop the timer


1051
00:33:54,576 --> 00:33:55,856
and set the total score.


1052
00:33:56,036 --> 00:33:57,636
So, we're going to navigate to


1053
00:33:57,636 --> 00:33:59,106
the part of our code that gets


1054
00:33:59,166 --> 00:34:01,366
called when a student ends an


1055
00:34:01,366 --> 00:34:01,676
attempt.


1056
00:34:03,106 --> 00:34:04,516
Here, we're going to get that


1057
00:34:04,636 --> 00:34:06,676
same currently running activity.


1058
00:34:07,446 --> 00:34:09,085
Once we have that, we're going


1059
00:34:09,085 --> 00:34:11,216
to create a CLS score item,


1060
00:34:11,846 --> 00:34:13,496
passing a unique identifier,


1061
00:34:14,216 --> 00:34:16,456
title, and then we're going to


1062
00:34:16,606 --> 00:34:18,315
pass in the score the student


1063
00:34:18,315 --> 00:34:20,626
received out of the total


1064
00:34:20,626 --> 00:34:21,996
maximum possible score.


1065
00:34:23,056 --> 00:34:24,076
Then, we're just going to add


1066
00:34:24,076 --> 00:34:26,266
that score item as the primary


1067
00:34:26,266 --> 00:34:28,376
activity item on our activity.


1068
00:34:28,985 --> 00:34:30,426
Notice, every time I'm doing


1069
00:34:30,426 --> 00:34:31,826
this, I'm always setting the


1070
00:34:31,826 --> 00:34:34,806
same subclass of CLS activity


1071
00:34:34,806 --> 00:34:35,176
item.


1072
00:34:35,525 --> 00:34:37,996
It's always a score item.


1073
00:34:39,206 --> 00:34:40,315
Then, we're just going to call


1074
00:34:40,366 --> 00:34:43,516
Stop to stop our timer and save


1075
00:34:43,516 --> 00:34:44,886
to save all of our changes.


1076
00:34:45,936 --> 00:34:47,466
So, now let's go ahead and run


1077
00:34:47,466 --> 00:34:49,146
this code to test that our


1078
00:34:49,146 --> 00:34:51,106
student generated activity data


1079
00:34:51,366 --> 00:34:51,775
gets set.


1080
00:34:51,775 --> 00:34:54,326
So, I switch back to my device,


1081
00:34:54,835 --> 00:34:56,116
and now we have to switch and


1082
00:34:56,116 --> 00:34:57,816
act as the role of a student.


1083
00:34:58,346 --> 00:34:59,896
So, I'm going to go ahead and go


1084
00:34:59,896 --> 00:35:01,556
back to my Developer's Settings.


1085
00:35:01,556 --> 00:35:03,466
And the settings are all up


1086
00:35:03,466 --> 00:35:03,816
here.


1087
00:35:04,066 --> 00:35:05,666
We can tap on student and now


1088
00:35:05,666 --> 00:35:07,456
I'm switched to act at the role


1089
00:35:07,456 --> 00:35:07,936
of a student.


1090
00:35:08,776 --> 00:35:10,346
Now, we can go back and open up


1091
00:35:10,386 --> 00:35:12,006
the Schoolwork app.


1092
00:35:12,446 --> 00:35:13,886
Here, if you look in the top


1093
00:35:13,886 --> 00:35:15,326
right-hand corner, there no


1094
00:35:15,326 --> 00:35:16,696
longer is a plus button, and


1095
00:35:16,956 --> 00:35:18,276
that's how I know I'm logged in


1096
00:35:18,276 --> 00:35:18,876
as a student.


1097
00:35:18,876 --> 00:35:20,906
And we can see that I have the


1098
00:35:20,996 --> 00:35:22,246
handout the teacher assigned to


1099
00:35:22,246 --> 00:35:22,446
me.


1100
00:35:22,996 --> 00:35:24,996
If I tap on that, we can see the


1101
00:35:24,996 --> 00:35:27,126
context that I need to complete,


1102
00:35:27,346 --> 00:35:29,476
and I can tap on the icon and it


1103
00:35:29,476 --> 00:35:30,746
navigates me straight into the


1104
00:35:30,746 --> 00:35:31,086
quiz.


1105
00:35:32,106 --> 00:35:33,396
Now, I can an alert saying that


1106
00:35:33,556 --> 00:35:34,836
progress data is going to be


1107
00:35:34,836 --> 00:35:36,616
recorded on my behalf and sent


1108
00:35:36,616 --> 00:35:37,326
to my teacher.


1109
00:35:37,916 --> 00:35:38,896
So, I'll dismiss this.


1110
00:35:40,006 --> 00:35:42,056
Then we just go through, answer


1111
00:35:42,056 --> 00:35:45,716
all of our questions, and we get


1112
00:35:45,716 --> 00:35:46,876
our total score at the end.


1113
00:35:47,396 --> 00:35:48,896
So, we can see we got 100%.


1114
00:35:49,376 --> 00:35:50,386
So now, let's go back to the


1115
00:35:50,386 --> 00:35:51,526
Schoolwork app.


1116
00:35:52,036 --> 00:35:53,606
Here we can see our activity


1117
00:35:53,606 --> 00:35:54,366
data showing up.


1118
00:35:54,686 --> 00:35:56,126
We can see the time and the


1119
00:35:56,126 --> 00:35:56,836
total score.


1120
00:35:57,566 --> 00:35:58,636
Notice the total score is


1121
00:35:58,636 --> 00:35:59,726
highlighted right there in the


1122
00:35:59,726 --> 00:36:00,736
main part of the [inaudible].


1123
00:36:01,026 --> 00:36:02,426
Now, we've been able to validate


1124
00:36:02,426 --> 00:36:03,936
that our activity item was set


1125
00:36:03,936 --> 00:36:04,426
correctly.


1126
00:36:04,796 --> 00:36:07,156
I can also tap on the cell, and


1127
00:36:07,156 --> 00:36:08,736
I get a popover of all the


1128
00:36:08,736 --> 00:36:10,076
activity data I've written.


1129
00:36:10,076 --> 00:36:12,616
I can see the total score and in


1130
00:36:12,616 --> 00:36:14,186
light gray, I see the title of


1131
00:36:14,236 --> 00:36:15,386
Total Score that I set.


1132
00:36:16,236 --> 00:36:17,806
And then at the bottom, we can


1133
00:36:17,886 --> 00:36:19,776
see the time, and then each


1134
00:36:19,776 --> 00:36:20,746
individual question.


1135
00:36:20,746 --> 00:36:22,606
And then also in light gray, we


1136
00:36:22,606 --> 00:36:24,476
can see the title that I set for


1137
00:36:24,476 --> 00:36:25,746
each one of those individuals


1138
00:36:25,746 --> 00:36:26,216
questions.


1139
00:36:27,096 --> 00:36:28,086
So now, we've been able to


1140
00:36:28,086 --> 00:36:30,516
validate that our activity data


1141
00:36:30,896 --> 00:36:31,766
was getting written.


1142
00:36:32,646 --> 00:36:34,376
So, with that, I would like to


1143
00:36:34,376 --> 00:36:36,486
reintroduce Pavel back on stage


1144
00:36:36,486 --> 00:36:37,826
to go ahead and summarize


1145
00:36:37,826 --> 00:36:38,976
everything that we've seen.


1146
00:36:39,516 --> 00:36:47,916
[ Applause ]


1147
00:36:48,416 --> 00:36:49,386
>> Thank you, Marin.


1148
00:36:50,446 --> 00:36:52,506
So, I'd like to mention some


1149
00:36:52,506 --> 00:36:53,966
best practices about ClassKit.


1150
00:36:55,046 --> 00:36:57,356
For one, declare your contexts


1151
00:36:57,446 --> 00:36:59,146
as early as possibly so that


1152
00:36:59,146 --> 00:37:00,456
they're available to teachers to


1153
00:37:00,456 --> 00:37:00,906
assign.


1154
00:37:01,546 --> 00:37:03,336
And also, Marin showed us that


1155
00:37:03,466 --> 00:37:04,406
not everything [inaudible] needs


1156
00:37:04,406 --> 00:37:06,026
to be a context [inaudible].


1157
00:37:06,796 --> 00:37:08,836
If it makes sense, take


1158
00:37:08,836 --> 00:37:10,536
advantage of CLS Data Store


1159
00:37:10,536 --> 00:37:11,066
Delegate.


1160
00:37:11,956 --> 00:37:13,636
And also, please take advantage


1161
00:37:13,636 --> 00:37:15,476
of additional activity items.


1162
00:37:16,116 --> 00:37:17,886
They really are a great way to


1163
00:37:18,266 --> 00:37:19,766
provide extra information that


1164
00:37:19,826 --> 00:37:21,116
teachers might need to


1165
00:37:21,186 --> 00:37:22,486
understand what the student is


1166
00:37:22,486 --> 00:37:24,896
doing within your app.


1167
00:37:25,316 --> 00:37:26,676
There's also some general best


1168
00:37:26,676 --> 00:37:28,316
practices about education apps.


1169
00:37:28,966 --> 00:37:30,606
One of them is to StoreKit


1170
00:37:30,606 --> 00:37:31,136
dependence.


1171
00:37:32,106 --> 00:37:33,376
And this is because in-app


1172
00:37:33,376 --> 00:37:34,666
purchases don't really work


1173
00:37:34,666 --> 00:37:35,716
within a school environment.


1174
00:37:36,146 --> 00:37:38,496
That one is to support purgeable


1175
00:37:39,776 --> 00:37:40,086
storage.


1176
00:37:40,306 --> 00:37:41,726
This is a good idea in general,


1177
00:37:41,726 --> 00:37:43,516
but it's real important in


1178
00:37:43,516 --> 00:37:45,796
school environments where shared


1179
00:37:45,876 --> 00:37:48,316
iPods are common, and space is a


1180
00:37:48,366 --> 00:37:49,386
premium on those.


1181
00:37:50,126 --> 00:37:52,036
Lastly, implement setting access


1182
00:37:52,036 --> 00:37:53,626
via Managed App Config.


1183
00:37:54,346 --> 00:37:56,976
Doing that, makes school admin's


1184
00:37:57,036 --> 00:37:58,696
jobs a lot easier to configure


1185
00:37:58,696 --> 00:37:59,166
devices.


1186
00:38:00,206 --> 00:38:02,286
You can find links about all of


1187
00:38:02,286 --> 00:38:04,796
this and the going details at


1188
00:38:04,796 --> 00:38:07,896
developer.apple.com/education.


1189
00:38:09,296 --> 00:38:11,736
Now, with that, have a wonderful


1190
00:38:11,736 --> 00:38:12,556
rest of WWDC.


1191
00:38:12,556 --> 00:38:13,956
Thank you for coming.


1192
00:38:14,516 --> 00:38:24,150
[ Applause ]

