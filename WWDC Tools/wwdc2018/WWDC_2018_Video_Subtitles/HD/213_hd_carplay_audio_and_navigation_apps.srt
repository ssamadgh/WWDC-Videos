1
00:00:07,516 --> 00:00:16,500
[ Music ]


2
00:00:23,516 --> 00:00:28,500
[ Applause ]


3
00:00:29,376 --> 00:00:31,346
>> Welcome to CarPlay Audio and


4
00:00:31,346 --> 00:00:32,375
Navigation Apps.


5
00:00:32,926 --> 00:00:34,656
I'm Jonathan, an engineer on the


6
00:00:34,656 --> 00:00:36,356
iOS Car Experience Team.


7
00:00:36,726 --> 00:00:38,726
We are so excited to share some


8
00:00:38,726 --> 00:00:40,246
updates with you today to help


9
00:00:40,246 --> 00:00:41,906
you build a great experience in


10
00:00:41,906 --> 00:00:42,356
CarPlay.


11
00:00:44,066 --> 00:00:46,156
We'll start by reviewing CarPlay


12
00:00:46,156 --> 00:00:46,916
Audio apps.


13
00:00:47,276 --> 00:00:48,886
Then, we'll introduce the brand


14
00:00:48,886 --> 00:00:50,626
new CarPlay framework for your


15
00:00:50,626 --> 00:00:51,456
navigation apps.


16
00:00:52,086 --> 00:00:53,906
And we'll drive a quick detour


17
00:00:54,246 --> 00:00:55,866
to show you how easy it is to


18
00:00:55,866 --> 00:00:57,036
build a great navigation


19
00:00:57,036 --> 00:00:58,256
experience in CarPlay.


20
00:00:58,856 --> 00:01:00,486
Let's start with a quick review


21
00:01:00,546 --> 00:01:02,936
of CarPlay.


22
00:01:03,296 --> 00:01:05,696
CarPlay is a smarter safer way


23
00:01:05,696 --> 00:01:07,206
to use iPhone in the car.


24
00:01:07,746 --> 00:01:09,266
You can seamlessly perform


25
00:01:09,266 --> 00:01:10,976
common scenarios while driving


26
00:01:11,186 --> 00:01:12,486
using your car's built-in


27
00:01:12,486 --> 00:01:12,946
display.


28
00:01:13,556 --> 00:01:15,666
You can make calls, send and


29
00:01:15,666 --> 00:01:17,446
receive messages, listen to


30
00:01:17,446 --> 00:01:20,006
audio, podcasts, and radio, and


31
00:01:20,006 --> 00:01:21,956
now, get directions with your


32
00:01:21,956 --> 00:01:23,926
navigation apps, all while


33
00:01:23,926 --> 00:01:25,136
staying focused on the road.


34
00:01:25,976 --> 00:01:27,666
You can think of the car screen


35
00:01:27,926 --> 00:01:29,896
like a second external display


36
00:01:29,896 --> 00:01:31,206
for your phone.


37
00:01:31,366 --> 00:01:33,176
Your app can present a version


38
00:01:33,176 --> 00:01:35,486
of itself on the car screen with


39
00:01:35,486 --> 00:01:37,816
UI and features optimized for


40
00:01:37,816 --> 00:01:38,666
use in the car.


41
00:01:39,456 --> 00:01:41,306
There are some special design


42
00:01:41,306 --> 00:01:43,076
considerations for your app when


43
00:01:43,076 --> 00:01:45,846
presented in CarPlay.


44
00:01:46,406 --> 00:01:48,056
CarPlay vehicles have a wide


45
00:01:48,056 --> 00:01:49,566
variety of input styles.


46
00:01:49,836 --> 00:01:51,586
Some cars have touchscreens.


47
00:01:51,896 --> 00:01:53,726
Others have a rotary knob that


48
00:01:53,726 --> 00:01:55,296
lets you move focus around and


49
00:01:55,296 --> 00:01:56,176
select elements.


50
00:01:56,566 --> 00:01:58,156
And some have a touchpad that


51
00:01:58,156 --> 00:01:59,856
allows for swipe gestures, and


52
00:01:59,856 --> 00:02:01,346
you can even do character entry


53
00:02:01,346 --> 00:02:02,616
by tracing with your finger.


54
00:02:03,856 --> 00:02:05,796
In a right-hand drive vehicle,


55
00:02:06,336 --> 00:02:08,455
the CarPlay status bar and app


56
00:02:08,526 --> 00:02:09,966
content will automatically


57
00:02:09,966 --> 00:02:11,846
switch sides to be closest to


58
00:02:11,846 --> 00:02:12,376
the driver.


59
00:02:13,846 --> 00:02:16,546
Some cars, also, inform iOS when


60
00:02:16,546 --> 00:02:19,096
to transition to a dark


61
00:02:19,096 --> 00:02:19,916
interface mode.


62
00:02:19,976 --> 00:02:21,486
Usually, when it's nighttime or


63
00:02:21,486 --> 00:02:22,656
when the vehicle's headlights


64
00:02:22,656 --> 00:02:23,296
are turned on.


65
00:02:24,716 --> 00:02:25,966
Your app can use this as a


66
00:02:25,966 --> 00:02:27,966
signal to, for example, update


67
00:02:27,966 --> 00:02:29,536
your map tile display style.


68
00:02:29,946 --> 00:02:33,136
CarPlay vehicles, also, support


69
00:02:33,136 --> 00:02:35,156
a wide variety of screen sizes


70
00:02:35,156 --> 00:02:36,446
and aspect ratios.


71
00:02:37,166 --> 00:02:38,986
iOS handles all of these input


72
00:02:38,986 --> 00:02:40,646
methods for you, so you can


73
00:02:40,646 --> 00:02:41,986
write your app just once for


74
00:02:41,986 --> 00:02:43,716
CarPlay and rest assured it'll


75
00:02:43,716 --> 00:02:45,116
be supported on all of these


76
00:02:45,116 --> 00:02:46,006
configurations.


77
00:02:46,506 --> 00:02:47,776
So, what kind of apps can you


78
00:02:47,776 --> 00:02:48,606
build in CarPlay?


79
00:02:49,106 --> 00:02:51,026
These are the five categories of


80
00:02:51,026 --> 00:02:51,906
CarPlay apps.


81
00:02:52,406 --> 00:02:54,566
The car is a special place and


82
00:02:54,566 --> 00:02:55,896
if you have an app in one of


83
00:02:55,896 --> 00:02:57,366
these five categories you'll


84
00:02:57,366 --> 00:02:59,046
need to apply for an entitlement


85
00:02:59,046 --> 00:03:00,546
for your app to work in CarPlay.


86
00:03:02,176 --> 00:03:03,526
If you're unsure whether your


87
00:03:03,526 --> 00:03:05,086
app fits into these categories


88
00:03:05,086 --> 00:03:05,736
and you're here at the


89
00:03:05,736 --> 00:03:07,516
conference, please come talk to


90
00:03:07,516 --> 00:03:08,866
us in our lab, later today.


91
00:03:09,286 --> 00:03:10,456
More details on that, soon.


92
00:03:11,066 --> 00:03:12,916
You can, also, go to this URL to


93
00:03:12,916 --> 00:03:14,326
request an entitlement for your


94
00:03:15,146 --> 00:03:15,256
app.


95
00:03:15,476 --> 00:03:16,606
Let's quickly review these


96
00:03:16,606 --> 00:03:17,966
categories of CarPlay apps.


97
00:03:19,936 --> 00:03:21,596
Auto maker apps are a special


98
00:03:21,596 --> 00:03:22,966
category of CarPlay app.


99
00:03:23,296 --> 00:03:24,856
These apps are built by the auto


100
00:03:24,856 --> 00:03:26,876
maker and work only in vehicles


101
00:03:26,916 --> 00:03:28,146
from that manufacturer.


102
00:03:28,766 --> 00:03:30,186
They can display fully


103
00:03:30,186 --> 00:03:32,406
customized UIs for scenarios


104
00:03:32,406 --> 00:03:34,076
like heating and cooling, seat


105
00:03:34,106 --> 00:03:35,836
controls, and other direct


106
00:03:35,836 --> 00:03:37,056
integrations with the vehicle.


107
00:03:37,826 --> 00:03:39,376
SiriKit integration into these


108
00:03:39,376 --> 00:03:41,006
apps allows you to change all of


109
00:03:41,006 --> 00:03:43,436
these settings with just your


110
00:03:43,916 --> 00:03:44,000
voice.


111
00:03:45,266 --> 00:03:47,076
Last year, we introduced


112
00:03:47,076 --> 00:03:48,546
messaging and VoIP apps to


113
00:03:48,546 --> 00:03:49,036
CarPlay.


114
00:03:49,586 --> 00:03:51,216
Your messaging and VoIP app can


115
00:03:51,216 --> 00:03:52,406
tap into SiriKit.


116
00:03:52,616 --> 00:03:54,416
So, your users can perform many


117
00:03:54,416 --> 00:03:56,456
common messaging tasks while


118
00:03:56,456 --> 00:03:58,266
connected to CarPlay, again,


119
00:03:58,266 --> 00:03:59,346
while staying focused on the


120
00:03:59,346 --> 00:03:59,656
road.


121
00:04:00,476 --> 00:04:01,656
Check out SiriKit for more


122
00:04:01,656 --> 00:04:03,296
details and see our session from


123
00:04:03,296 --> 00:04:05,196
last year, Enabling Your App for


124
00:04:05,196 --> 00:04:05,646
CarPlay.


125
00:04:06,226 --> 00:04:10,106
In a prior release of iOS, we


126
00:04:10,106 --> 00:04:11,826
introduced third party audio


127
00:04:11,826 --> 00:04:12,796
apps to CarPlay.


128
00:04:13,376 --> 00:04:14,706
Audio apps use a template


129
00:04:14,706 --> 00:04:16,486
interface optimized for the car,


130
00:04:16,646 --> 00:04:18,386
where your app provides data and


131
00:04:18,386 --> 00:04:19,866
metadata for the car's screen.


132
00:04:20,536 --> 00:04:21,636
We have some exciting new


133
00:04:21,636 --> 00:04:23,186
performance improvements and


134
00:04:23,186 --> 00:04:24,616
optimizations to share with you


135
00:04:24,616 --> 00:04:26,086
today for audio apps.


136
00:04:26,616 --> 00:04:29,436
And last but not least, today


137
00:04:29,436 --> 00:04:30,936
we're introducing the CarPlay


138
00:04:30,936 --> 00:04:33,066
framework, a brand new iOS


139
00:04:33,066 --> 00:04:34,446
framework for your navigation


140
00:04:34,446 --> 00:04:35,546
apps in CarPlay.


141
00:04:37,516 --> 00:04:41,500
[ Applause ]


142
00:04:42,566 --> 00:04:44,276
Just like with audio apps, iOS


143
00:04:44,306 --> 00:04:45,846
displays your app on the car's


144
00:04:45,846 --> 00:04:47,356
screen and handles the interface


145
00:04:47,356 --> 00:04:47,926
with the car.


146
00:04:48,446 --> 00:04:50,096
Your app doesn't need to worry


147
00:04:50,126 --> 00:04:51,996
about input hardware or many


148
00:04:51,996 --> 00:04:53,806
vehicle specific considerations.


149
00:04:54,246 --> 00:04:55,746
You only need to update your map


150
00:04:55,796 --> 00:04:57,016
tile experience to be


151
00:04:57,016 --> 00:04:59,106
appropriate for the car.


152
00:04:59,386 --> 00:05:00,866
The CarPlay framework provides a


153
00:05:00,866 --> 00:05:03,406
fixed set of UI templates that


154
00:05:03,406 --> 00:05:04,916
iOS renders on the car screen.


155
00:05:05,736 --> 00:05:07,476
Your app decides how to create


156
00:05:07,476 --> 00:05:08,766
and configure these templates


157
00:05:08,996 --> 00:05:10,406
and what actions to take in


158
00:05:10,406 --> 00:05:12,186
response to the user interacting


159
00:05:12,186 --> 00:05:13,366
with your app's templates.


160
00:05:13,786 --> 00:05:15,186
We'll hear much more about the


161
00:05:15,186 --> 00:05:16,256
CarPlay framework, soon.


162
00:05:16,806 --> 00:05:19,336
Back to our CarPlay app


163
00:05:19,336 --> 00:05:20,886
categories, today we'll be


164
00:05:20,886 --> 00:05:22,156
focusing on two of these


165
00:05:22,156 --> 00:05:23,896
categories; audio and


166
00:05:23,896 --> 00:05:24,626
navigation.


167
00:05:24,986 --> 00:05:26,246
Let's start with audio apps.


168
00:05:26,416 --> 00:05:26,806
Albert.


169
00:05:28,516 --> 00:05:32,500
[ Applause ]


170
00:05:33,506 --> 00:05:34,076
>> Thanks, Jonathan.


171
00:05:35,256 --> 00:05:36,936
I'm super stoked to talk to you


172
00:05:36,936 --> 00:05:38,666
all today about CarPlay audio


173
00:05:38,666 --> 00:05:38,996
apps.


174
00:05:39,176 --> 00:05:40,466
We're going to go through a


175
00:05:40,466 --> 00:05:41,856
brief overview of how to get


176
00:05:41,856 --> 00:05:43,006
your audio app set up for


177
00:05:43,006 --> 00:05:43,496
CarPlay.


178
00:05:44,136 --> 00:05:45,506
Some performance improvements


179
00:05:45,506 --> 00:05:47,166
and optimizations we've made for


180
00:05:47,166 --> 00:05:49,716
iOS 12, and some best practices


181
00:05:49,716 --> 00:05:50,136
to make.


182
00:05:50,136 --> 00:05:51,456
And some common scenarios to


183
00:05:51,456 --> 00:05:53,066
account for when developing your


184
00:05:53,066 --> 00:05:55,676
audio app for CarPlay.


185
00:05:55,776 --> 00:05:58,206
Now, driving and audio go hand


186
00:05:58,206 --> 00:05:58,696
in hand.


187
00:05:58,856 --> 00:06:00,486
It's very clear that when you're


188
00:06:00,486 --> 00:06:01,976
driving you want to listen to


189
00:06:01,976 --> 00:06:03,576
your favorite hits, your


190
00:06:03,576 --> 00:06:05,566
classics, or even stream some


191
00:06:05,566 --> 00:06:08,076
podcast episodes, or listen to


192
00:06:08,076 --> 00:06:09,676
the latest news on radio.


193
00:06:10,646 --> 00:06:11,936
We want to make sure that if


194
00:06:11,936 --> 00:06:13,046
you're developing an audio app


195
00:06:13,396 --> 00:06:14,396
that you want to provide the


196
00:06:14,466 --> 00:06:16,306
best experience to your drivers.


197
00:06:17,226 --> 00:06:18,756
Now, to illustrate this, I want


198
00:06:18,756 --> 00:06:20,026
to let you guys in on a little


199
00:06:20,026 --> 00:06:20,976
side project that I've been


200
00:06:20,976 --> 00:06:21,506
working on.


201
00:06:21,586 --> 00:06:23,246
It's a little app that I think


202
00:06:23,246 --> 00:06:24,476
will be a great hit.


203
00:06:25,936 --> 00:06:27,186
My app is called Srirocka.


204
00:06:28,706 --> 00:06:30,726
It combines two of my most


205
00:06:30,726 --> 00:06:33,206
favorite things; hot sauce and


206
00:06:33,206 --> 00:06:33,966
hot tracks.


207
00:06:34,476 --> 00:06:36,586
And with these synergies I think


208
00:06:36,586 --> 00:06:38,166
it'll be one of the top audio


209
00:06:38,166 --> 00:06:39,416
apps on the App Store when it


210
00:06:39,416 --> 00:06:39,976
launches.


211
00:06:41,296 --> 00:06:43,006
Now, Srirocka is already a fully


212
00:06:43,006 --> 00:06:45,186
functioning audio app and we'll


213
00:06:45,186 --> 00:06:46,536
need to add CarPlay support to


214
00:06:46,536 --> 00:06:46,696
it.


215
00:06:46,696 --> 00:06:47,836
So, let me illustrate how


216
00:06:47,836 --> 00:06:50,566
this'll be done.


217
00:06:50,766 --> 00:06:52,476
Like Jonathan mentioned, CarPlay


218
00:06:52,516 --> 00:06:53,946
uses templates that will


219
00:06:53,946 --> 00:06:55,196
abstract away many of the


220
00:06:55,196 --> 00:06:56,566
different complexities CarPlay


221
00:06:56,566 --> 00:06:58,826
has, such as input methods and


222
00:06:58,826 --> 00:07:00,196
screen sizes, and so on.


223
00:07:00,566 --> 00:07:02,426
So, your audio app just needs to


224
00:07:02,426 --> 00:07:04,036
be able to display information


225
00:07:04,416 --> 00:07:05,766
onto the CarPlay display and


226
00:07:05,766 --> 00:07:06,916
provide the best content.


227
00:07:07,546 --> 00:07:09,076
This is, usually, done by using


228
00:07:09,076 --> 00:07:10,956
a table view or tabs, depending


229
00:07:10,956 --> 00:07:12,216
on how you want to present your


230
00:07:12,216 --> 00:07:12,566
data.


231
00:07:13,826 --> 00:07:14,676
You'll need to focus on


232
00:07:14,676 --> 00:07:15,546
delivering the appropriate


233
00:07:15,546 --> 00:07:16,916
content to a CarPlay user.


234
00:07:17,226 --> 00:07:18,636
And if you're already developing


235
00:07:18,636 --> 00:07:20,516
an audio app, it uses existing


236
00:07:20,516 --> 00:07:21,906
APIs you may be already familiar


237
00:07:21,906 --> 00:07:22,136
with.


238
00:07:22,836 --> 00:07:24,916
So, let's take a look at this in


239
00:07:26,036 --> 00:07:26,226
detail.


240
00:07:26,356 --> 00:07:27,726
So, these are the three APIs


241
00:07:27,726 --> 00:07:28,966
that you'll need to know to


242
00:07:28,966 --> 00:07:30,606
launch your app in CarPlay.


243
00:07:31,576 --> 00:07:32,626
If you want to learn more about


244
00:07:32,626 --> 00:07:34,366
this in detail, we had a session


245
00:07:34,366 --> 00:07:35,476
last year that goes through the


246
00:07:35,476 --> 00:07:36,956
details of each single API.


247
00:07:36,956 --> 00:07:38,146
But I'll go through a brief


248
00:07:38,146 --> 00:07:39,346
summary of every single one of


249
00:07:39,346 --> 00:07:39,636
these.


250
00:07:40,736 --> 00:07:42,036
To browse your content on the


251
00:07:42,036 --> 00:07:43,496
CarPlay display, you'll need to


252
00:07:43,496 --> 00:07:44,936
use MPPlayableContent.


253
00:07:45,456 --> 00:07:47,366
MPPlayableContent has a data


254
00:07:47,366 --> 00:07:48,946
source and a delegate, so that


255
00:07:48,946 --> 00:07:50,226
you or your audio app can


256
00:07:50,226 --> 00:07:51,826
populate your app's information


257
00:07:51,826 --> 00:07:53,056
onto the CarPlay display.


258
00:07:53,486 --> 00:07:55,086
As well as a delegate to receive


259
00:07:55,086 --> 00:07:56,426
callbacks whenever the user


260
00:07:56,426 --> 00:07:57,586
selects something on the CarPlay


261
00:07:57,586 --> 00:07:58,046
display.


262
00:07:59,436 --> 00:08:00,996
Now, if you already set Now


263
00:08:00,996 --> 00:08:02,446
Playing metadata to Control


264
00:08:02,446 --> 00:08:03,976
Center or Lock Screen, or you're


265
00:08:03,976 --> 00:08:05,196
already working on this on your


266
00:08:05,196 --> 00:08:06,696
existing audio app, you're


267
00:08:06,696 --> 00:08:08,016
already familiar with these two


268
00:08:08,096 --> 00:08:08,576
APIs.


269
00:08:09,816 --> 00:08:12,706
MPNowPlayingInfo Center allows


270
00:08:12,706 --> 00:08:14,006
you to populate your now playing


271
00:08:14,006 --> 00:08:16,016
metadata and things such as


272
00:08:16,016 --> 00:08:17,586
title and album artwork and


273
00:08:17,586 --> 00:08:19,556
etcetera onto the CarPlay's now


274
00:08:19,556 --> 00:08:20,276
playing screen.


275
00:08:20,436 --> 00:08:21,676
As well as Control Center and


276
00:08:21,676 --> 00:08:22,566
Lock Screen if you've already


277
00:08:22,566 --> 00:08:23,176
been doing so.


278
00:08:24,426 --> 00:08:26,006
MPRemoteCommandCenter allows


279
00:08:26,006 --> 00:08:27,436
your app to respond to remote


280
00:08:27,436 --> 00:08:29,246
command events, such as the Play


281
00:08:29,246 --> 00:08:31,046
command, Next Track, and so on.


282
00:08:32,116 --> 00:08:33,346
We want to allow your CarPlay


283
00:08:33,346 --> 00:08:34,966
app for a seamless Now Playing


284
00:08:34,966 --> 00:08:35,655
experience.


285
00:08:35,796 --> 00:08:36,716
Now, let's take a look at how


286
00:08:36,716 --> 00:08:38,885
this is done in code.


287
00:08:39,076 --> 00:08:40,566
So, when Srirocka is launched,


288
00:08:40,566 --> 00:08:41,506
I'm going to use Srirocka as an


289
00:08:41,506 --> 00:08:42,166
example, here.


290
00:08:42,546 --> 00:08:43,606
This is what is needed at a


291
00:08:43,606 --> 00:08:45,226
minimum to support CarPlay audio


292
00:08:45,226 --> 00:08:45,526
apps.


293
00:08:46,036 --> 00:08:47,436
Srirocka will provide a data


294
00:08:47,436 --> 00:08:49,366
source and a delegate to


295
00:08:49,396 --> 00:08:51,086
MPPlayableContentManager, so


296
00:08:51,086 --> 00:08:52,306
that Srirocka can provide


297
00:08:52,406 --> 00:08:53,446
information to the CarPlay


298
00:08:53,446 --> 00:08:55,076
display and respond when


299
00:08:55,076 --> 00:08:55,986
absolutely necessary.


300
00:08:57,436 --> 00:08:59,506
Next, I've set


301
00:08:59,506 --> 00:09:00,916
NowPlayingInfoCenter to let


302
00:09:01,186 --> 00:09:02,756
MPNowPlayingInfoCenter know that


303
00:09:02,756 --> 00:09:03,886
my app will be providing


304
00:09:03,886 --> 00:09:05,386
NowPlaying metadata when it


305
00:09:05,386 --> 00:09:06,386
becomes a Now Playing app.


306
00:09:07,826 --> 00:09:09,506
And finally, I've responded to


307
00:09:09,596 --> 00:09:10,916
MPRemoteCommandCenter events.


308
00:09:10,956 --> 00:09:12,046
Specifically, just a Play


309
00:09:12,046 --> 00:09:13,716
command in this case, so that


310
00:09:14,096 --> 00:09:15,576
when Srirocka becomes the Now


311
00:09:15,576 --> 00:09:16,856
Playing app it can respond to


312
00:09:16,856 --> 00:09:17,476
these events.


313
00:09:18,656 --> 00:09:21,216
So, we can see here that the one


314
00:09:21,216 --> 00:09:23,256
API that was needed for CarPlay


315
00:09:23,256 --> 00:09:24,426
is MPPlayableContent.


316
00:09:24,906 --> 00:09:27,006
And for iOS 12, we took a good


317
00:09:27,006 --> 00:09:28,316
look at how to better optimize


318
00:09:28,316 --> 00:09:30,116
this and we can safely say, for


319
00:09:30,116 --> 00:09:32,006
iOS 12, we've remastered


320
00:09:32,006 --> 00:09:32,826
MPPlayableContent.


321
00:09:34,516 --> 00:09:38,500
[ Applause ]


322
00:09:39,156 --> 00:09:40,836
We took a deep dive into


323
00:09:40,866 --> 00:09:42,566
MPPlayableContent and we pushed


324
00:09:42,566 --> 00:09:43,866
for performance improvements in


325
00:09:43,866 --> 00:09:45,396
how the data source and delegate


326
00:09:45,396 --> 00:09:46,206
calls are made.


327
00:09:47,066 --> 00:09:48,516
Without changing your current


328
00:09:48,516 --> 00:09:49,726
audio app's implementation in


329
00:09:49,726 --> 00:09:51,686
CarPlay, we sped up the startup


330
00:09:51,686 --> 00:09:53,006
sequence and provided much


331
00:09:53,006 --> 00:09:54,336
smoother animations whenever


332
00:09:54,336 --> 00:09:55,546
content is changed on the


333
00:09:55,546 --> 00:09:56,246
CarPlay display.


334
00:09:57,326 --> 00:09:58,746
We've also provided much better


335
00:09:58,746 --> 00:10:00,606
communication to your app to


336
00:10:00,606 --> 00:10:02,046
anticipate whatever the user may


337
00:10:02,046 --> 00:10:03,736
want to play or to browse on the


338
00:10:03,736 --> 00:10:04,506
CarPlay display.


339
00:10:05,726 --> 00:10:06,876
Now, there's lots of room to


340
00:10:06,876 --> 00:10:08,076
improve on your audio app.


341
00:10:08,216 --> 00:10:09,226
And let's see how we can do


342
00:10:09,226 --> 00:10:09,566
this.


343
00:10:09,756 --> 00:10:11,006
The first of which, is that we


344
00:10:11,006 --> 00:10:12,306
looked into the implementation


345
00:10:12,306 --> 00:10:13,206
of reloadData.


346
00:10:13,356 --> 00:10:14,186
Which, is a call in


347
00:10:14,316 --> 00:10:15,656
MPPlayableContent, and figured


348
00:10:15,656 --> 00:10:17,246
out how to better optimize this


349
00:10:17,246 --> 00:10:18,286
for your audio app.


350
00:10:19,076 --> 00:10:21,276
What we found is that you should


351
00:10:21,276 --> 00:10:22,876
really only call reloadData when


352
00:10:22,916 --> 00:10:23,956
absolutely needed.


353
00:10:24,756 --> 00:10:26,236
What it does is that it


354
00:10:26,236 --> 00:10:27,976
deconstructs the entire apps'


355
00:10:27,976 --> 00:10:29,556
hierarchy on the CarPlay display


356
00:10:29,836 --> 00:10:31,306
and asks your audio app to


357
00:10:31,306 --> 00:10:32,636
reconstruct everything again.


358
00:10:32,816 --> 00:10:34,056
And this can be a very expensive


359
00:10:34,056 --> 00:10:35,706
operation, leaving your app not


360
00:10:35,706 --> 00:10:36,486
very responsive.


361
00:10:37,806 --> 00:10:38,996
Instead, if you just have


362
00:10:38,996 --> 00:10:40,216
content that just needs to be


363
00:10:40,216 --> 00:10:41,436
updated, you should wrap them


364
00:10:41,436 --> 00:10:42,366
together inside of a


365
00:10:42,366 --> 00:10:44,216
beginUpdates and an endUpdates


366
00:10:44,216 --> 00:10:45,866
call, so then that content can


367
00:10:45,866 --> 00:10:47,006
be updated, appropriately.


368
00:10:48,356 --> 00:10:50,596
Now, these calls that


369
00:10:50,596 --> 00:10:52,036
MPPlayableContent has are


370
00:10:52,096 --> 00:10:53,636
asynchronous operations when we


371
00:10:53,636 --> 00:10:55,006
ask you app for your data.


372
00:10:55,436 --> 00:10:56,976
So, keep an internal


373
00:10:56,976 --> 00:10:58,746
representation or a cache of


374
00:10:58,746 --> 00:11:00,876
your information on somewhere in


375
00:11:00,876 --> 00:11:01,196
your app.


376
00:11:01,426 --> 00:11:02,536
So, then that when we ask for


377
00:11:02,536 --> 00:11:03,766
your content information you're


378
00:11:03,766 --> 00:11:05,206
able to provide us information


379
00:11:05,456 --> 00:11:06,826
quickly and makes your app


380
00:11:06,826 --> 00:11:07,406
responsive.


381
00:11:08,886 --> 00:11:10,416
Next, let's discuss some ways to


382
00:11:10,416 --> 00:11:12,036
further optimize your audio


383
00:11:12,036 --> 00:11:13,136
app's performance in CarPlay.


384
00:11:14,426 --> 00:11:16,456
So, Srirocka, already, has a bit


385
00:11:16,456 --> 00:11:17,626
of an implementation and is


386
00:11:17,626 --> 00:11:18,556
partially implemented.


387
00:11:18,556 --> 00:11:19,986
And the user has decided to make


388
00:11:19,986 --> 00:11:21,386
a selection on the Heating


389
00:11:21,386 --> 00:11:22,486
Habaneros playlist.


390
00:11:22,686 --> 00:11:24,666
It is one of the top playlists


391
00:11:24,666 --> 00:11:25,426
that's super-hot.


392
00:11:26,276 --> 00:11:28,246
But it seems to be stuck


393
00:11:28,246 --> 00:11:28,616
loading.


394
00:11:28,616 --> 00:11:29,676
We're not entirely sure what's


395
00:11:29,676 --> 00:11:30,346
going on, here.


396
00:11:30,716 --> 00:11:32,046
And CarPlay, actually, will


397
00:11:32,046 --> 00:11:33,486
timeout if the app doesn't


398
00:11:33,486 --> 00:11:34,646
provide content in time.


399
00:11:34,916 --> 00:11:35,796
Because it doesn't call


400
00:11:35,796 --> 00:11:36,856
completion handlers or just


401
00:11:36,856 --> 00:11:37,906
simply isn't returning its


402
00:11:37,906 --> 00:11:38,496
information.


403
00:11:38,716 --> 00:11:40,486
But what's going on, on the


404
00:11:40,486 --> 00:11:41,016
phone, here?


405
00:11:42,266 --> 00:11:44,166
So, CarPlay users are, usually,


406
00:11:44,166 --> 00:11:46,066
driving in areas where there's


407
00:11:46,066 --> 00:11:47,986
not a speedy connection or their


408
00:11:47,986 --> 00:11:48,716
screen is locked.


409
00:11:49,096 --> 00:11:50,666
A vast majority of CarPlay users


410
00:11:50,666 --> 00:11:51,716
are driving with the screen


411
00:11:51,716 --> 00:11:52,776
locked and with a passcode.


412
00:11:52,926 --> 00:11:53,986
After all, they're driving.


413
00:11:55,456 --> 00:11:57,016
If your app has data protection


414
00:11:57,016 --> 00:11:58,466
policies that are dependent on


415
00:11:58,466 --> 00:12:00,256
the phone being unlocked, you


416
00:12:00,256 --> 00:12:01,336
won't be able to access your


417
00:12:01,336 --> 00:12:02,496
app's information and,


418
00:12:02,606 --> 00:12:03,726
ultimately, CarPlay will


419
00:12:03,726 --> 00:12:04,226
timeout.


420
00:12:04,676 --> 00:12:06,196
So, if your data needs to be


421
00:12:06,196 --> 00:12:07,106
accessed while the phone is


422
00:12:07,106 --> 00:12:08,536
unlocked, you'll need to audit


423
00:12:08,536 --> 00:12:10,066
your app's data intergradation


424
00:12:10,066 --> 00:12:10,616
policies.


425
00:12:12,466 --> 00:12:16,526
The other issue is that you may


426
00:12:16,526 --> 00:12:18,246
be driving in areas, or CarPlay


427
00:12:18,246 --> 00:12:19,686
users are driving in areas with


428
00:12:19,686 --> 00:12:20,756
little to no cellular


429
00:12:20,756 --> 00:12:21,406
network-tivity [phonetic].


430
00:12:22,436 --> 00:12:23,776
Drivers are driving everywhere,


431
00:12:23,776 --> 00:12:25,806
from the country roads and rural


432
00:12:25,806 --> 00:12:27,146
areas, to big cities.


433
00:12:27,396 --> 00:12:30,876
And these are very varied areas


434
00:12:30,876 --> 00:12:31,976
with different CarPlay,


435
00:12:32,236 --> 00:12:33,666
different data service.


436
00:12:33,726 --> 00:12:35,286
And you need to test for


437
00:12:35,286 --> 00:12:36,476
situations that are not just the


438
00:12:36,476 --> 00:12:37,476
constant WIFI network


439
00:12:37,476 --> 00:12:37,926
connection.


440
00:12:39,086 --> 00:12:40,656
Now, Srirocka does account for


441
00:12:40,656 --> 00:12:41,546
all of this, as well.


442
00:12:41,546 --> 00:12:43,566
But it uses some very advanced


443
00:12:43,566 --> 00:12:45,816
machine learning to see what are


444
00:12:45,816 --> 00:12:46,686
the hottest tracks.


445
00:12:46,686 --> 00:12:48,006
And after all, all of this


446
00:12:48,006 --> 00:12:49,586
happens on device, since privacy


447
00:12:49,586 --> 00:12:50,666
is a very important issue.


448
00:12:50,936 --> 00:12:52,056
And this just takes some time to


449
00:12:52,056 --> 00:12:52,656
process.


450
00:12:53,286 --> 00:12:54,516
Well, what happens in this case?


451
00:12:55,046 --> 00:12:57,186
We have an API called


452
00:12:57,266 --> 00:12:58,676
beginLoadingChildItems at


453
00:12:58,676 --> 00:13:00,546
indexPath to initiate fetching


454
00:13:00,546 --> 00:13:01,046
content.


455
00:13:01,906 --> 00:13:04,006
This API will be called whenever


456
00:13:04,006 --> 00:13:05,316
any of your index paths are


457
00:13:05,316 --> 00:13:06,856
visible on the CarPlay display.


458
00:13:07,036 --> 00:13:08,406
So, when the user is scrolling


459
00:13:08,406 --> 00:13:10,106
through table cells or selecting


460
00:13:10,106 --> 00:13:10,906
different tabs,


461
00:13:11,596 --> 00:13:12,946
beginLoadingChildItems will be


462
00:13:12,946 --> 00:13:14,366
called for every single index


463
00:13:14,366 --> 00:13:15,666
path that shows on the display.


464
00:13:17,126 --> 00:13:18,626
This gives your app a chance to


465
00:13:18,626 --> 00:13:20,136
start loading before the user,


466
00:13:20,136 --> 00:13:21,536
actually, selects the content.


467
00:13:22,436 --> 00:13:23,896
And here's a code example inside


468
00:13:23,896 --> 00:13:26,036
of Srirocka, where when the user


469
00:13:26,346 --> 00:13:28,116
sees that the Heating Habaneros


470
00:13:28,116 --> 00:13:29,396
playlist is visible on the


471
00:13:29,396 --> 00:13:31,086
CarPlay display, we start


472
00:13:31,086 --> 00:13:32,726
processing that playlist.


473
00:13:32,726 --> 00:13:33,876
And when the user makes a


474
00:13:33,876 --> 00:13:35,426
selection, will have either been


475
00:13:35,426 --> 00:13:36,496
midway through the network


476
00:13:36,496 --> 00:13:39,036
request or ready to go and able


477
00:13:39,036 --> 00:13:39,946
to provide content.


478
00:13:41,176 --> 00:13:42,906
So, let's take a look at some


479
00:13:42,906 --> 00:13:45,446
app scenarios that may occur


480
00:13:45,766 --> 00:13:47,106
when developing your app for


481
00:13:47,106 --> 00:13:47,516
CarPlay.


482
00:13:48,776 --> 00:13:50,226
Now, Srirocka provides a very


483
00:13:50,346 --> 00:13:52,926
rich user experience when logged


484
00:13:52,926 --> 00:13:53,176
out.


485
00:13:53,426 --> 00:13:54,646
It's very clear here, with


486
00:13:54,816 --> 00:13:56,436
beautiful typography and great


487
00:13:56,436 --> 00:13:58,826
graphic design, that the user is


488
00:13:58,826 --> 00:14:00,246
logged out and will need to log


489
00:14:00,246 --> 00:14:00,496
in.


490
00:14:01,526 --> 00:14:02,356
But how does this look on


491
00:14:02,356 --> 00:14:02,836
CarPlay?


492
00:14:04,136 --> 00:14:05,376
Well, Srirocka, actually,


493
00:14:05,376 --> 00:14:06,716
doesn't provide data when logged


494
00:14:06,716 --> 00:14:07,066
out.


495
00:14:07,066 --> 00:14:08,986
And this leads to a very poor


496
00:14:08,986 --> 00:14:10,026
user experience.


497
00:14:10,266 --> 00:14:11,286
The user doesn't really know


498
00:14:11,286 --> 00:14:13,226
what's going on here and isn't


499
00:14:13,296 --> 00:14:15,716
able to interact with your app.


500
00:14:16,666 --> 00:14:17,726
You should make sure that you


501
00:14:17,726 --> 00:14:19,036
should provide some type of


502
00:14:19,116 --> 00:14:20,966
experience, so that the user can


503
00:14:21,126 --> 00:14:22,346
at least interact with your app,


504
00:14:22,496 --> 00:14:23,826
even if your app is logged out.


505
00:14:24,206 --> 00:14:25,456
So, this leads to a very good


506
00:14:25,456 --> 00:14:26,936
user experience for your audio


507
00:14:28,206 --> 00:14:28,286
app.


508
00:14:28,556 --> 00:14:30,366
So, wrapping all this up, we can


509
00:14:30,366 --> 00:14:31,696
say that CarPlay audio apps have


510
00:14:31,696 --> 00:14:32,596
its greatest hits.


511
00:14:33,676 --> 00:14:35,766
MPPlayableContent allows your


512
00:14:35,766 --> 00:14:37,086
app to provide templates to the


513
00:14:37,086 --> 00:14:38,686
CarPlay display so that your app


514
00:14:38,686 --> 00:14:40,586
can provide users a good user


515
00:14:40,586 --> 00:14:41,516
experience to the CarPlay


516
00:14:41,516 --> 00:14:41,946
display.


517
00:14:42,966 --> 00:14:43,916
You should account for real


518
00:14:43,916 --> 00:14:45,096
world scenarios, such as when


519
00:14:45,096 --> 00:14:46,556
your app is logged out or your


520
00:14:46,556 --> 00:14:48,326
screen is locked, so then that


521
00:14:48,326 --> 00:14:49,506
your app can still function


522
00:14:49,506 --> 00:14:50,476
beautifully in CarPlay.


523
00:14:51,756 --> 00:14:53,626
And with iOS 12, we made some


524
00:14:53,626 --> 00:14:54,836
great optimizations and


525
00:14:54,836 --> 00:14:56,366
performance improvements to make


526
00:14:56,366 --> 00:14:57,826
your app even better in CarPlay.


527
00:14:58,146 --> 00:14:59,126
So, you should run your app


528
00:14:59,126 --> 00:15:00,516
again and see if there's any


529
00:15:00,516 --> 00:15:01,636
performance improvements you can


530
00:15:01,636 --> 00:15:02,706
make to your app, to make it


531
00:15:02,706 --> 00:15:03,196
even better.


532
00:15:04,386 --> 00:15:05,626
Now, to make us sure that we're


533
00:15:05,626 --> 00:15:06,916
steering in the right direction,


534
00:15:07,046 --> 00:15:08,226
I'd like to invite my colleague,


535
00:15:08,226 --> 00:15:09,866
Mike, to talk about navigating


536
00:15:09,866 --> 00:15:10,656
with the CarPlay framework.


537
00:15:10,886 --> 00:15:11,366
Thank you.


538
00:15:12,516 --> 00:15:16,500
[ Applause ]


539
00:15:17,096 --> 00:15:17,466
>> All right.


540
00:15:17,676 --> 00:15:18,356
Thank you, Albert.


541
00:15:19,356 --> 00:15:20,796
I am thrilled to share with you,


542
00:15:20,796 --> 00:15:22,246
today, how to add CarPlay


543
00:15:22,246 --> 00:15:24,406
support to your navigation apps.


544
00:15:24,966 --> 00:15:27,686
Navigation is such a huge part


545
00:15:27,686 --> 00:15:29,466
of the CarPlay experience and


546
00:15:29,466 --> 00:15:31,556
your users will be so happy to


547
00:15:31,556 --> 00:15:33,176
see their favorite apps on the


548
00:15:33,176 --> 00:15:33,726
car screen.


549
00:15:34,926 --> 00:15:36,016
As Jonathan and Albert have


550
00:15:36,016 --> 00:15:37,456
previously mentioned, we've


551
00:15:37,456 --> 00:15:39,056
employed a template based


552
00:15:39,056 --> 00:15:40,206
approach for previous app


553
00:15:40,206 --> 00:15:40,896
categories.


554
00:15:40,896 --> 00:15:42,946
Your apps have been able to


555
00:15:42,946 --> 00:15:45,036
provide data and metadata that


556
00:15:45,036 --> 00:15:46,386
iOS will display on the car


557
00:15:46,386 --> 00:15:47,626
screen and manage these


558
00:15:47,626 --> 00:15:48,826
interactions on your app's


559
00:15:48,826 --> 00:15:49,246
behalf.


560
00:15:49,486 --> 00:15:51,456
And this has worked extremely


561
00:15:51,456 --> 00:15:51,836
well.


562
00:15:52,546 --> 00:15:54,416
But, we realize that navigation


563
00:15:54,416 --> 00:15:56,136
apps are a little bit different.


564
00:15:56,816 --> 00:15:59,716
Your apps have beautiful maps.


565
00:16:00,156 --> 00:16:01,376
And such incredible and


566
00:16:01,376 --> 00:16:02,276
immersive navigation


567
00:16:02,276 --> 00:16:02,916
experiences.


568
00:16:03,376 --> 00:16:04,646
And your users will expect to


569
00:16:04,646 --> 00:16:06,306
see that on the car screen.


570
00:16:07,206 --> 00:16:09,356
So, new in iOS 12, we're


571
00:16:09,356 --> 00:16:10,576
introducing the CarPlay


572
00:16:10,576 --> 00:16:11,096
framework.


573
00:16:11,716 --> 00:16:13,436
The CarPlay framework is your


574
00:16:13,436 --> 00:16:15,196
toolkit for building great


575
00:16:15,426 --> 00:16:17,216
interactive experiences on the


576
00:16:17,216 --> 00:16:17,916
car screen.


577
00:16:18,096 --> 00:16:20,246
It uses a fixed set of template


578
00:16:20,246 --> 00:16:21,926
objects that your apps can build


579
00:16:21,926 --> 00:16:23,726
and use, and that iOS will


580
00:16:23,726 --> 00:16:25,766
translate into a UI presented on


581
00:16:25,766 --> 00:16:26,556
top of your app.


582
00:16:27,686 --> 00:16:28,916
With this and a little bit of


583
00:16:28,916 --> 00:16:30,916
effort on your part, your apps


584
00:16:30,916 --> 00:16:32,686
will support all CarPlay


585
00:16:32,686 --> 00:16:33,236
systems.


586
00:16:34,106 --> 00:16:35,606
So, let's take a look at an app


587
00:16:35,606 --> 00:16:36,156
in CarPlay.


588
00:16:36,906 --> 00:16:37,776
We've been building our own


589
00:16:37,776 --> 00:16:39,226
navigation app that we call


590
00:16:39,226 --> 00:16:40,166
Country Roads.


591
00:16:40,506 --> 00:16:41,636
It takes us to our favorite


592
00:16:41,636 --> 00:16:43,276
destinations using the scenic


593
00:16:43,276 --> 00:16:43,496
route.


594
00:16:44,056 --> 00:16:45,216
And let's see what it looks like


595
00:16:45,216 --> 00:16:45,816
on CarPlay.


596
00:16:47,216 --> 00:16:48,436
We're looking at the CarPlay


597
00:16:48,436 --> 00:16:49,626
home screen and you can see our


598
00:16:49,626 --> 00:16:51,266
Country Roads app icon right


599
00:16:51,266 --> 00:16:52,486
there with the rest of the apps


600
00:16:52,486 --> 00:16:53,096
on iOS.


601
00:16:53,976 --> 00:16:55,566
As we launch it, the first thing


602
00:16:55,566 --> 00:16:57,186
you'll be greeted with is our


603
00:16:57,186 --> 00:16:58,356
beautiful map tiles.


604
00:16:59,226 --> 00:17:00,496
When connected to CarPlay, a


605
00:17:00,496 --> 00:17:01,826
navigation app will be given a


606
00:17:01,826 --> 00:17:03,276
window to draw content on the


607
00:17:03,276 --> 00:17:03,846
car screen.


608
00:17:04,406 --> 00:17:06,576
This window is your canvas for


609
00:17:06,576 --> 00:17:08,156
displaying all that beautiful


610
00:17:08,215 --> 00:17:09,955
noninteractive mapping and


611
00:17:09,955 --> 00:17:11,316
navigation related content.


612
00:17:12,286 --> 00:17:14,086
Then, as the app used templates


613
00:17:14,396 --> 00:17:16,136
iOS will take those templates


614
00:17:16,136 --> 00:17:17,626
and translate it into a UI


615
00:17:17,626 --> 00:17:19,606
presented on top of your app.


616
00:17:20,326 --> 00:17:21,116
So, let's take a look at the


617
00:17:21,116 --> 00:17:23,296
code on what happens when your


618
00:17:23,296 --> 00:17:24,316
app is connected to CarPlay.


619
00:17:25,746 --> 00:17:26,496
The first thing you'll need to


620
00:17:26,496 --> 00:17:28,195
note is that your application


621
00:17:28,195 --> 00:17:30,086
delegate will need to conform to


622
00:17:30,086 --> 00:17:31,756
the CarPlay application delegate


623
00:17:31,756 --> 00:17:33,466
protocol, CP Application


624
00:17:33,466 --> 00:17:33,846
Delegate.


625
00:17:35,106 --> 00:17:36,736
One function in that protocol is


626
00:17:36,736 --> 00:17:38,496
application didConnectCar


627
00:17:38,496 --> 00:17:40,106
InterfaceController to window.


628
00:17:41,136 --> 00:17:42,426
This function will provide two


629
00:17:42,426 --> 00:17:43,806
very important objects to your


630
00:17:43,806 --> 00:17:44,216
apps.


631
00:17:44,756 --> 00:17:46,396
The first is an instance of


632
00:17:46,496 --> 00:17:47,846
CPInterfaceController.


633
00:17:48,776 --> 00:17:50,416
CPInterfaceController is your


634
00:17:50,416 --> 00:17:51,876
connection to the template world


635
00:17:52,186 --> 00:17:53,276
and what your apps will use to


636
00:17:53,276 --> 00:17:54,656
manage what is displaying on the


637
00:17:54,656 --> 00:17:55,176
car screen.


638
00:17:56,066 --> 00:17:57,096
Additionally, you're given the


639
00:17:57,096 --> 00:17:58,426
window I just mentioned, which


640
00:17:58,426 --> 00:17:59,686
is where you can draw all your


641
00:17:59,686 --> 00:18:00,486
mapping content.


642
00:18:01,376 --> 00:18:02,836
You want to be sure to keep a


643
00:18:02,836 --> 00:18:03,776
reference to both of these


644
00:18:03,776 --> 00:18:05,106
objects throughout the duration


645
00:18:05,106 --> 00:18:05,986
of the CarPlay session.


646
00:18:07,286 --> 00:18:08,786
Next, you can create a new view


647
00:18:08,786 --> 00:18:10,236
controller to populate that


648
00:18:10,236 --> 00:18:11,746
window with content and assign


649
00:18:11,746 --> 00:18:12,906
it to windows review controller.


650
00:18:13,296 --> 00:18:14,736
And then, create a root


651
00:18:14,736 --> 00:18:15,166
template.


652
00:18:15,416 --> 00:18:16,456
And using that interface


653
00:18:16,456 --> 00:18:17,406
controller object, you can


654
00:18:17,406 --> 00:18:18,696
setRootTemplate on the car


655
00:18:18,696 --> 00:18:19,036
screen.


656
00:18:19,806 --> 00:18:21,376
So, let's talk about some of


657
00:18:21,376 --> 00:18:22,136
these templates that are


658
00:18:22,136 --> 00:18:23,336
available in the CarPlay


659
00:18:23,336 --> 00:18:23,826
framework.


660
00:18:24,146 --> 00:18:26,156
And we'll start with one you've


661
00:18:26,156 --> 00:18:27,816
already seen and where your


662
00:18:27,816 --> 00:18:29,276
users will spend a majority of


663
00:18:29,276 --> 00:18:29,856
their time.


664
00:18:30,186 --> 00:18:31,956
And that is on the map template.


665
00:18:33,016 --> 00:18:34,476
The map template is unique from


666
00:18:34,476 --> 00:18:35,626
all the other templates in that


667
00:18:35,626 --> 00:18:37,426
it is transparent to your app


668
00:18:37,476 --> 00:18:37,916
window.


669
00:18:38,566 --> 00:18:40,356
So, the content that you draw on


670
00:18:40,356 --> 00:18:42,136
that window will be displayed


671
00:18:42,206 --> 00:18:43,526
underneath the content provided


672
00:18:43,526 --> 00:18:44,396
by the map template.


673
00:18:45,186 --> 00:18:46,256
The map template can be


674
00:18:46,256 --> 00:18:47,676
configured in a few different


675
00:18:47,676 --> 00:18:48,176
places.


676
00:18:48,616 --> 00:18:49,646
You can place buttons in the


677
00:18:49,646 --> 00:18:50,446
navigation bar.


678
00:18:51,076 --> 00:18:52,946
You can place up to four; two on


679
00:18:52,946 --> 00:18:54,966
the leading side and two on the


680
00:18:54,966 --> 00:18:55,606
trailing side.


681
00:18:56,246 --> 00:18:57,836
These are instances of


682
00:18:58,006 --> 00:19:00,216
CPBarButton and are created


683
00:19:00,216 --> 00:19:02,526
either with text or images and


684
00:19:02,526 --> 00:19:04,046
are automatically sized and


685
00:19:04,046 --> 00:19:05,296
styled by the system.


686
00:19:06,086 --> 00:19:08,186
There's no notion of predefined


687
00:19:08,186 --> 00:19:09,536
button actions in the CarPlay


688
00:19:09,536 --> 00:19:10,006
framework.


689
00:19:10,366 --> 00:19:11,696
But when you create a button,


690
00:19:11,696 --> 00:19:13,046
you provide a custom action


691
00:19:13,046 --> 00:19:13,506
handler.


692
00:19:13,836 --> 00:19:15,176
And when the user interacts with


693
00:19:15,176 --> 00:19:16,716
your button on the car screen


694
00:19:17,286 --> 00:19:18,566
your custom action handler will


695
00:19:18,566 --> 00:19:20,386
be called in your app.


696
00:19:20,806 --> 00:19:22,166
You may also place up to four


697
00:19:22,166 --> 00:19:23,936
buttons that appear above your


698
00:19:23,936 --> 00:19:24,626
map window.


699
00:19:25,126 --> 00:19:26,476
And these are map buttons.


700
00:19:26,856 --> 00:19:27,786
You can create them with an


701
00:19:27,786 --> 00:19:29,526
image, and unlike the bar


702
00:19:29,526 --> 00:19:31,366
buttons, these are not styled by


703
00:19:31,366 --> 00:19:31,756
the system.


704
00:19:32,656 --> 00:19:34,646
The map template is also home to


705
00:19:34,646 --> 00:19:36,546
a lot of other mapping and


706
00:19:36,546 --> 00:19:37,416
navigational related


707
00:19:37,416 --> 00:19:38,056
functionality.


708
00:19:38,496 --> 00:19:40,096
Such as panning the map,


709
00:19:41,166 --> 00:19:42,666
providing important contextual


710
00:19:42,666 --> 00:19:44,096
information to your users using


711
00:19:44,096 --> 00:19:45,226
navigation alerts.


712
00:19:45,716 --> 00:19:47,296
And of course, turn by turn


713
00:19:47,386 --> 00:19:47,946
guidance.


714
00:19:48,736 --> 00:19:49,426
We're going to talk about


715
00:19:49,426 --> 00:19:50,416
guidance in a little bit.


716
00:19:50,826 --> 00:19:51,826
So, let's get started by going


717
00:19:51,826 --> 00:19:53,796
over panning and navigation


718
00:19:53,796 --> 00:19:54,246
alerts.


719
00:19:54,936 --> 00:19:56,596
If your app supports panning the


720
00:19:56,596 --> 00:19:58,866
map, we require that you present


721
00:19:58,866 --> 00:20:00,386
a button on the map template,


722
00:20:00,806 --> 00:20:02,636
either in the navigation bar or


723
00:20:02,636 --> 00:20:05,336
as a map button that enters pan


724
00:20:05,336 --> 00:20:05,596
mode.


725
00:20:06,406 --> 00:20:07,766
When a map template enters pan


726
00:20:07,766 --> 00:20:09,146
mode it will display four


727
00:20:09,146 --> 00:20:10,376
directional buttons that your


728
00:20:10,376 --> 00:20:12,066
users can interact with and are


729
00:20:12,066 --> 00:20:13,906
translated into an API, where


730
00:20:13,906 --> 00:20:15,346
your app only needs to know


731
00:20:15,346 --> 00:20:16,596
which direction to pan the map.


732
00:20:17,526 --> 00:20:18,596
This is an example of how the


733
00:20:18,596 --> 00:20:20,186
CarPlay framework has abstracted


734
00:20:20,186 --> 00:20:21,366
away a lot of the complexities


735
00:20:21,646 --> 00:20:22,746
of all the various CarPlay


736
00:20:22,746 --> 00:20:23,266
systems.


737
00:20:23,966 --> 00:20:25,056
These buttons can be interacted


738
00:20:25,056 --> 00:20:27,056
with using touch, both high


739
00:20:27,056 --> 00:20:28,506
latency and low latency


740
00:20:28,506 --> 00:20:29,066
touchscreens.


741
00:20:29,746 --> 00:20:31,686
Using a rotary knob or touchpad


742
00:20:31,686 --> 00:20:33,126
to select one of these buttons.


743
00:20:33,786 --> 00:20:35,016
And additionally, for CarPlay


744
00:20:35,016 --> 00:20:36,876
systems that have a rotary knob


745
00:20:37,246 --> 00:20:38,876
that also supports joystick of


746
00:20:38,876 --> 00:20:40,736
directional movement, those same


747
00:20:40,736 --> 00:20:41,926
movements will be translated


748
00:20:41,926 --> 00:20:42,556
into this API.


749
00:20:42,916 --> 00:20:44,216
Your app does not need to worry


750
00:20:44,216 --> 00:20:45,596
about where it came from.


751
00:20:46,116 --> 00:20:48,396
While your users are driving,


752
00:20:48,756 --> 00:20:49,616
you may want to present


753
00:20:49,616 --> 00:20:51,766
information to them, such as a


754
00:20:51,766 --> 00:20:53,616
road closure ahead or maybe, a


755
00:20:53,616 --> 00:20:54,866
better route is available.


756
00:20:55,306 --> 00:20:56,966
For this, you can use navigation


757
00:20:56,966 --> 00:20:57,586
alerts.


758
00:20:58,206 --> 00:21:00,016
Navigation alerts present on the


759
00:21:00,016 --> 00:21:01,326
map template and can be


760
00:21:01,326 --> 00:21:02,676
configured with a title,


761
00:21:02,906 --> 00:21:05,916
subtitle, image, primary and


762
00:21:05,916 --> 00:21:07,426
secondary action, and if it


763
00:21:07,426 --> 00:21:08,466
makes sense, you can use a


764
00:21:08,466 --> 00:21:10,106
dismiss interval after which the


765
00:21:10,106 --> 00:21:11,596
alert will self-dismiss.


766
00:21:12,106 --> 00:21:14,736
Let's take a look at some code


767
00:21:14,736 --> 00:21:16,046
on how we built our root


768
00:21:16,046 --> 00:21:16,366
template.


769
00:21:16,606 --> 00:21:18,916
And let's add a new button for a


770
00:21:18,916 --> 00:21:20,036
missing feature on our Country


771
00:21:20,036 --> 00:21:22,266
Roads app.


772
00:21:22,516 --> 00:21:23,666
Since this was our function that


773
00:21:23,666 --> 00:21:24,706
created out root template, the


774
00:21:24,706 --> 00:21:26,106
first thing we're going to do is


775
00:21:26,106 --> 00:21:27,296
create an instance of


776
00:21:27,296 --> 00:21:28,396
CPMapTemplate.


777
00:21:28,976 --> 00:21:31,416
We will then create a new button


778
00:21:31,526 --> 00:21:32,256
for a missing feature.


779
00:21:33,606 --> 00:21:34,536
One of the great things about


780
00:21:34,536 --> 00:21:36,096
Country Roads is that our users


781
00:21:36,096 --> 00:21:37,256
can search for their favorite


782
00:21:37,256 --> 00:21:37,836
categories.


783
00:21:38,616 --> 00:21:39,826
And we'll add a new button for


784
00:21:39,826 --> 00:21:40,036
that.


785
00:21:40,226 --> 00:21:41,546
So, let's create a CPBarButton


786
00:21:41,546 --> 00:21:42,406
of type Image.


787
00:21:42,896 --> 00:21:44,396
And in its custom action handler


788
00:21:44,536 --> 00:21:45,696
we will call a function of our


789
00:21:45,696 --> 00:21:47,406
own that is display our favorite


790
00:21:47,406 --> 00:21:47,936
categories.


791
00:21:48,756 --> 00:21:50,306
We'll then retrieve an image and


792
00:21:50,306 --> 00:21:51,336
assign it to the button.


793
00:21:51,576 --> 00:21:52,936
And we want this button to


794
00:21:52,936 --> 00:21:54,126
appear in the trailing space


795
00:21:54,126 --> 00:21:55,576
alongside our traffic button.


796
00:21:55,926 --> 00:21:57,116
So, we'll assign those two


797
00:21:57,116 --> 00:21:58,136
buttons to the trailing


798
00:21:58,136 --> 00:21:59,356
navigation bar buttons on our


799
00:21:59,356 --> 00:21:59,916
map template.


800
00:22:00,206 --> 00:22:01,476
And then, return our map


801
00:22:01,476 --> 00:22:01,856
template.


802
00:22:02,606 --> 00:22:03,786
Great. Now, that we have a


803
00:22:03,786 --> 00:22:05,746
button on our map template, we


804
00:22:05,746 --> 00:22:07,106
want a way to display those


805
00:22:07,106 --> 00:22:08,006
favorite categories to our


806
00:22:08,006 --> 00:22:08,466
users.


807
00:22:09,036 --> 00:22:10,206
The CarPlay framework has a


808
00:22:10,206 --> 00:22:11,416
great template for this.


809
00:22:11,556 --> 00:22:12,896
And that is the grid template.


810
00:22:13,556 --> 00:22:15,176
The grid template will display


811
00:22:15,176 --> 00:22:17,276
an array of up to eight buttons


812
00:22:17,566 --> 00:22:18,456
in a grid format.


813
00:22:19,616 --> 00:22:22,036
These buttons appear here and


814
00:22:22,036 --> 00:22:23,526
can be configured with an image


815
00:22:23,636 --> 00:22:24,506
and a title.


816
00:22:25,296 --> 00:22:27,246
The grid template also has a


817
00:22:27,246 --> 00:22:28,586
navigation bar, where you can


818
00:22:28,586 --> 00:22:29,906
place the same leading and


819
00:22:29,906 --> 00:22:30,716
trailing buttons.


820
00:22:31,186 --> 00:22:32,256
But you can also create a grid


821
00:22:32,256 --> 00:22:34,126
template with a title that will


822
00:22:34,126 --> 00:22:35,346
appear in the navigation bar.


823
00:22:36,556 --> 00:22:37,756
Let's jump over the code and


824
00:22:37,756 --> 00:22:39,366
let's create a grid template.


825
00:22:41,476 --> 00:22:43,006
We'll start by retrieving an


826
00:22:43,006 --> 00:22:44,656
image for our grid button.


827
00:22:45,506 --> 00:22:47,266
We're going to add a Parks


828
00:22:48,356 --> 00:22:48,526
button.


829
00:22:48,676 --> 00:22:49,756
We'll then create an instance of


830
00:22:49,816 --> 00:22:51,536
CPGridButton with a title of


831
00:22:51,536 --> 00:22:53,286
Parks and the image we just


832
00:22:53,286 --> 00:22:53,706
retrieved.


833
00:22:55,276 --> 00:22:56,706
That, with the other buttons,


834
00:22:56,706 --> 00:22:58,166
we'll assign to an array.


835
00:22:58,376 --> 00:22:59,556
And then, create an instance of


836
00:22:59,656 --> 00:23:01,926
CPGridTemplate with a title of


837
00:23:01,926 --> 00:23:03,016
Favorites, since these are our


838
00:23:03,016 --> 00:23:04,976
favorite categories, and the


839
00:23:04,976 --> 00:23:06,116
array of grid buttons we've


840
00:23:06,116 --> 00:23:06,966
created in code.


841
00:23:07,186 --> 00:23:09,126
And this is where we jump back


842
00:23:09,276 --> 00:23:10,266
to that interface controller


843
00:23:10,266 --> 00:23:11,436
object I mentioned earlier.


844
00:23:12,116 --> 00:23:13,176
That is how we manage what is


845
00:23:13,176 --> 00:23:14,656
presenting on the car screen.


846
00:23:15,296 --> 00:23:16,526
So, we would use that interface


847
00:23:16,526 --> 00:23:18,426
controller to push this new grid


848
00:23:18,426 --> 00:23:20,226
template onto the car screen.


849
00:23:20,696 --> 00:23:23,376
Now, that we have a way to


850
00:23:23,406 --> 00:23:24,236
search for our favorite


851
00:23:24,676 --> 00:23:25,796
categories and our favorite


852
00:23:25,796 --> 00:23:27,536
items, we need a way to display


853
00:23:27,536 --> 00:23:28,846
the search results to our users.


854
00:23:29,156 --> 00:23:30,866
For that, we can use a list


855
00:23:30,906 --> 00:23:31,286
template.


856
00:23:32,616 --> 00:23:33,786
The list template will display a


857
00:23:33,786 --> 00:23:35,346
list of CPList items.


858
00:23:35,856 --> 00:23:37,006
They can be configured with


859
00:23:37,196 --> 00:23:39,306
text, detailed text, an image,


860
00:23:39,616 --> 00:23:40,726
and a disclosure indicator.


861
00:23:41,036 --> 00:23:42,226
You can provide multiple


862
00:23:42,226 --> 00:23:42,766
sections.


863
00:23:42,936 --> 00:23:44,276
And you also, have a navigation


864
00:23:44,276 --> 00:23:45,256
bar where you can provide a


865
00:23:45,256 --> 00:23:46,736
title and those same leading and


866
00:23:46,736 --> 00:23:47,426
trailing buttons.


867
00:23:47,806 --> 00:23:49,016
One of the nice things about the


868
00:23:49,016 --> 00:23:50,366
CarPlay framework is that, when


869
00:23:50,366 --> 00:23:51,726
appropriate, it will also


870
00:23:51,726 --> 00:23:53,346
display a nice scroll bar on the


871
00:23:53,346 --> 00:23:55,286
side that helps your users page


872
00:23:55,286 --> 00:23:56,156
through their search results


873
00:23:56,156 --> 00:23:56,666
while driving.


874
00:23:58,006 --> 00:23:59,396
Let's build a list template.


875
00:23:59,916 --> 00:24:01,776
The first thing we're going to


876
00:24:01,776 --> 00:24:04,096
need to do is take that array of


877
00:24:04,096 --> 00:24:05,686
our own search results and


878
00:24:05,736 --> 00:24:07,126
translate them into an array of


879
00:24:07,266 --> 00:24:08,806
CPListItems.


880
00:24:09,356 --> 00:24:10,576
So, we'll do that by using some


881
00:24:10,576 --> 00:24:11,986
of the properties on our search


882
00:24:11,986 --> 00:24:13,156
result class.


883
00:24:14,276 --> 00:24:16,116
We will then initialize a new


884
00:24:16,266 --> 00:24:19,396
CPListTemplate with one section


885
00:24:19,396 --> 00:24:21,676
of those items, assign a title


886
00:24:21,676 --> 00:24:23,406
of Parks, and also, assign a


887
00:24:23,406 --> 00:24:24,806
delegate to manage interaction


888
00:24:24,806 --> 00:24:25,336
from the user.


889
00:24:26,236 --> 00:24:27,376
We, again, use the interface


890
00:24:27,376 --> 00:24:28,906
controller to push our new


891
00:24:28,906 --> 00:24:30,246
template onto the car screen.


892
00:24:31,496 --> 00:24:32,816
When the user interacts with an


893
00:24:32,816 --> 00:24:36,256
item on the screen listTemplate


894
00:24:36,256 --> 00:24:37,826
didSelect item completion


895
00:24:37,826 --> 00:24:39,186
handler will be called on your


896
00:24:39,186 --> 00:24:40,126
list template delegate.


897
00:24:41,566 --> 00:24:43,136
There are a few other items


898
00:24:43,136 --> 00:24:44,086
available in the CarPlay


899
00:24:44,086 --> 00:24:45,096
framework that I'd like to go


900
00:24:45,096 --> 00:24:45,706
over, briefly.


901
00:24:47,156 --> 00:24:49,326
The first is a great example of


902
00:24:49,326 --> 00:24:51,646
how complex CarPlay can be and


903
00:24:51,646 --> 00:24:52,826
how the CarPlay framework helps


904
00:24:52,826 --> 00:24:54,446
you not have to worry about


905
00:24:54,476 --> 00:24:54,686
that.


906
00:24:55,036 --> 00:24:56,516
What we're looking at, right


907
00:24:56,516 --> 00:24:58,456
now, is the search template


908
00:24:58,456 --> 00:24:59,246
available in the CarPlay


909
00:24:59,246 --> 00:25:00,596
framework presenting a


910
00:25:00,596 --> 00:25:01,806
touchscreen keyboard.


911
00:25:02,156 --> 00:25:03,546
But one thing we've learned is


912
00:25:03,546 --> 00:25:05,156
that not all CarPlay systems


913
00:25:05,236 --> 00:25:06,016
have a touchscreen.


914
00:25:06,706 --> 00:25:08,596
Many only have a rotary knob or


915
00:25:08,596 --> 00:25:10,126
touchpad for user interaction.


916
00:25:10,966 --> 00:25:11,956
On those systems, when


917
00:25:11,956 --> 00:25:13,436
appropriate, the CarPlay


918
00:25:13,436 --> 00:25:14,886
framework will display a linear


919
00:25:14,886 --> 00:25:15,666
style keyboard.


920
00:25:16,636 --> 00:25:17,616
And of course, for those


921
00:25:17,616 --> 00:25:18,716
touchpads that do support


922
00:25:18,716 --> 00:25:20,366
character recognition, through


923
00:25:20,366 --> 00:25:21,776
the same search template API


924
00:25:22,366 --> 00:25:23,856
your app will receive those


925
00:25:23,856 --> 00:25:25,746
characters as entered for free.


926
00:25:26,956 --> 00:25:28,246
You may, also, want to present


927
00:25:28,246 --> 00:25:29,396
information to your users in a


928
00:25:29,396 --> 00:25:30,856
way that demands a little bit


929
00:25:30,856 --> 00:25:31,776
more of their attention.


930
00:25:32,446 --> 00:25:33,666
For that, you can present a


931
00:25:33,666 --> 00:25:36,656
CPAlert in ActionSheetStyle or


932
00:25:36,656 --> 00:25:38,076
for information that truly


933
00:25:38,076 --> 00:25:39,166
commands their attention, you


934
00:25:39,166 --> 00:25:41,086
can use a full screen template.


935
00:25:42,296 --> 00:25:44,646
And lastly, since voice is such


936
00:25:44,646 --> 00:25:47,436
a huge part of your apps, we'll


937
00:25:47,436 --> 00:25:48,996
be providing a template that


938
00:25:48,996 --> 00:25:50,166
will help you manage voice


939
00:25:50,166 --> 00:25:50,566
control.


940
00:25:50,976 --> 00:25:52,416
And with that, I'd like to


941
00:25:52,416 --> 00:25:53,646
invite Jonathan back up to give


942
00:25:53,646 --> 00:25:55,056
you a demo of our Country Roads


943
00:25:55,056 --> 00:25:55,226
app.


944
00:25:55,656 --> 00:25:55,976
Jonathan.


945
00:25:56,516 --> 00:26:00,500
[ Applause ]


946
00:26:01,906 --> 00:26:03,116
>> Thanks, Mike.


947
00:26:03,306 --> 00:26:04,866
Let's take a quick look at


948
00:26:04,866 --> 00:26:05,566
Country Roads.


949
00:26:11,076 --> 00:26:13,316
This is the CarPlay simulator.


950
00:26:13,316 --> 00:26:14,546
It's included with Xcode.


951
00:26:15,496 --> 00:26:17,136
Let's start on the CarPlay home


952
00:26:17,136 --> 00:26:18,616
screen, where we can see our


953
00:26:18,616 --> 00:26:20,096
custom navigation app enabled


954
00:26:20,096 --> 00:26:20,706
for CarPlay.


955
00:26:21,226 --> 00:26:22,766
Let's tap the icon to launch our


956
00:26:23,466 --> 00:26:23,546
app.


957
00:26:24,436 --> 00:26:26,596
When our app launches, we start


958
00:26:26,596 --> 00:26:27,516
on the map template.


959
00:26:27,706 --> 00:26:29,576
Here, the app overlay that Mike


960
00:26:29,576 --> 00:26:31,416
mentioned is fully transparent


961
00:26:31,416 --> 00:26:32,596
and it allows our app's


962
00:26:32,596 --> 00:26:34,226
beautiful map tiles to show


963
00:26:34,226 --> 00:26:34,656
through.


964
00:26:35,146 --> 00:26:36,536
This map is really out of this


965
00:26:36,536 --> 00:26:36,886
world.


966
00:26:37,486 --> 00:26:39,526
I have some basic controls on


967
00:26:39,526 --> 00:26:41,596
this map, like zooming in and


968
00:26:41,596 --> 00:26:43,626
out with ECP Map buttons.


969
00:26:44,166 --> 00:26:47,326
I can, also, switch in and out


970
00:26:47,326 --> 00:26:49,276
of pan mode using this pan


971
00:26:49,796 --> 00:26:50,000
button.


972
00:26:52,656 --> 00:26:54,316
All of these buttons are simple


973
00:26:54,316 --> 00:26:56,236
configurable template objects.


974
00:26:56,506 --> 00:26:58,426
CarPlay tells my app when the


975
00:26:58,426 --> 00:26:59,586
user has interacted with a


976
00:26:59,586 --> 00:27:01,606
button and my app can zoom in or


977
00:27:01,606 --> 00:27:03,026
out or take any other


978
00:27:03,026 --> 00:27:04,586
appropriate action in response.


979
00:27:05,756 --> 00:27:07,146
That new Favorites button that


980
00:27:07,146 --> 00:27:08,656
Mike just added shows up in the


981
00:27:08,656 --> 00:27:10,376
navigation bar on the trailing


982
00:27:10,376 --> 00:27:10,726
side.


983
00:27:11,476 --> 00:27:13,266
When we tap it our app has


984
00:27:13,266 --> 00:27:15,496
created, configured, and pushed


985
00:27:15,496 --> 00:27:17,316
a grid template that lets us


986
00:27:17,316 --> 00:27:18,466
navigate to certain very


987
00:27:18,466 --> 00:27:19,736
important destinations.


988
00:27:20,516 --> 00:27:22,976
If we select Parks our app


989
00:27:22,976 --> 00:27:24,826
creates, configures, and pushes


990
00:27:24,826 --> 00:27:26,706
a list template where we can


991
00:27:26,706 --> 00:27:27,966
visualize search results for


992
00:27:27,966 --> 00:27:29,336
interesting nearby parks.


993
00:27:29,916 --> 00:27:31,076
We'll revisit Country Roads,


994
00:27:31,076 --> 00:27:31,536
shortly.


995
00:27:31,836 --> 00:27:32,976
But for now, back to Mike.


996
00:27:35,516 --> 00:27:39,500
[ Applause ]


997
00:27:40,786 --> 00:27:41,126
>> All right.


998
00:27:41,126 --> 00:27:41,716
Thanks, Jonathan.


999
00:27:43,576 --> 00:27:44,886
So, let's talk about one of the


1000
00:27:44,886 --> 00:27:46,106
most important functions that


1001
00:27:46,106 --> 00:27:47,646
your apps will provide to your


1002
00:27:47,646 --> 00:27:48,586
users while driving.


1003
00:27:48,966 --> 00:27:50,236
And that, of course, is


1004
00:27:50,236 --> 00:27:51,346
turn-by-turn guidance.


1005
00:27:52,116 --> 00:27:53,516
Let's start by walking through a


1006
00:27:53,516 --> 00:27:56,016
typical flow your users may see


1007
00:27:56,436 --> 00:27:57,766
while beginning a navigation


1008
00:27:57,766 --> 00:27:58,166
session.


1009
00:27:58,926 --> 00:28:01,016
The first thing they need is a


1010
00:28:01,016 --> 00:28:01,766
destination.


1011
00:28:02,486 --> 00:28:03,516
This could be something that is


1012
00:28:03,656 --> 00:28:05,146
surfaced by your app through a


1013
00:28:05,146 --> 00:28:05,986
navigation alert.


1014
00:28:06,786 --> 00:28:07,626
Or perhaps, they've done a


1015
00:28:07,626 --> 00:28:09,096
search and found a destination


1016
00:28:09,096 --> 00:28:09,876
they want to travel to.


1017
00:28:11,136 --> 00:28:12,606
They may want to, then, preview


1018
00:28:12,606 --> 00:28:13,686
the route and see important


1019
00:28:13,686 --> 00:28:14,926
information about it, such as


1020
00:28:15,136 --> 00:28:16,416
how long it might take to get


1021
00:28:16,416 --> 00:28:17,806
there and what their estimated


1022
00:28:17,806 --> 00:28:18,556
arrival time is.


1023
00:28:19,636 --> 00:28:20,806
If there are multiple route


1024
00:28:20,806 --> 00:28:21,866
choices for the trip they're


1025
00:28:21,866 --> 00:28:23,436
about to take they'll probably


1026
00:28:23,436 --> 00:28:24,566
want to preview each of those


1027
00:28:24,566 --> 00:28:26,116
routes and make a choice that


1028
00:28:26,116 --> 00:28:26,826
suits them best.


1029
00:28:28,176 --> 00:28:29,746
They'll then select a route and


1030
00:28:29,746 --> 00:28:30,796
begin navigation.


1031
00:28:31,376 --> 00:28:33,176
This is when your app will begin


1032
00:28:33,176 --> 00:28:35,066
providing turn by turn updates


1033
00:28:35,106 --> 00:28:35,606
to the user.


1034
00:28:36,706 --> 00:28:38,096
Eventually, they'll arrive at


1035
00:28:38,096 --> 00:28:39,686
their destination or cancel


1036
00:28:39,686 --> 00:28:40,246
navigation.


1037
00:28:41,356 --> 00:28:42,496
And let's take a look at how you


1038
00:28:42,496 --> 00:28:44,206
can accomplish this same flow


1039
00:28:44,206 --> 00:28:45,686
using the CarPlay framework.


1040
00:28:46,146 --> 00:28:48,316
Let's start by talking about


1041
00:28:48,316 --> 00:28:49,096
Route Preview.


1042
00:28:49,976 --> 00:28:51,666
Your app can provide data that


1043
00:28:52,226 --> 00:28:53,656
will appear in a way that the


1044
00:28:53,656 --> 00:28:56,776
user can see and visualize all


1045
00:28:56,776 --> 00:28:57,746
the important details about


1046
00:28:57,746 --> 00:28:58,556
their upcoming trip.


1047
00:28:59,166 --> 00:29:01,596
You can provide destination


1048
00:29:01,596 --> 00:29:03,136
names, information that is


1049
00:29:03,136 --> 00:29:04,236
pertinent to the route, such as


1050
00:29:04,236 --> 00:29:05,206
advisory notices.


1051
00:29:05,976 --> 00:29:07,156
You can, also, provide estimates


1052
00:29:07,156 --> 00:29:08,336
to let them know when they'll


1053
00:29:08,336 --> 00:29:08,606
arrive.


1054
00:29:09,676 --> 00:29:11,136
And if the trip has multiple


1055
00:29:11,136 --> 00:29:12,546
routes the CarPlay framework


1056
00:29:12,546 --> 00:29:13,856
will automatically display a


1057
00:29:13,856 --> 00:29:14,846
more routes button.


1058
00:29:15,756 --> 00:29:17,076
This will allow your users to


1059
00:29:17,076 --> 00:29:19,096
toggle between individual routes


1060
00:29:19,636 --> 00:29:20,436
and select the one that they


1061
00:29:20,436 --> 00:29:22,306
want to take.


1062
00:29:22,506 --> 00:29:23,816
Let's look at the classes and


1063
00:29:23,816 --> 00:29:24,976
methods you'll want to be


1064
00:29:24,976 --> 00:29:26,256
familiar with to build an


1065
00:29:26,256 --> 00:29:27,406
experience in the CarPlay


1066
00:29:27,406 --> 00:29:28,356
framework route preview.


1067
00:29:29,876 --> 00:29:31,586
The first is CPTrip.


1068
00:29:32,126 --> 00:29:33,876
This is a representation of the


1069
00:29:33,876 --> 00:29:35,616
upcoming trip for your users.


1070
00:29:36,236 --> 00:29:37,426
It includes items such as the


1071
00:29:37,426 --> 00:29:39,416
origin and destination, as well


1072
00:29:39,416 --> 00:29:41,626
as multiple CPRouteChoices for


1073
00:29:41,626 --> 00:29:42,866
each route that they may take.


1074
00:29:44,166 --> 00:29:46,116
CPTravelEstimates describes how


1075
00:29:46,116 --> 00:29:47,746
long it will take for an entire


1076
00:29:47,746 --> 00:29:49,176
trip, as well as for individual


1077
00:29:49,176 --> 00:29:49,646
maneuvers.


1078
00:29:50,076 --> 00:29:51,916
On your map template, when you


1079
00:29:51,916 --> 00:29:53,706
are ready to show a route


1080
00:29:53,706 --> 00:29:55,696
preview to your users, you call


1081
00:29:55,696 --> 00:29:57,666
ShowTripPreviews on your map


1082
00:29:57,666 --> 00:29:59,116
template with the CPTrip object


1083
00:29:59,116 --> 00:29:59,726
you've created.


1084
00:30:00,126 --> 00:30:01,886
As the user toggles through


1085
00:30:01,886 --> 00:30:03,576
individual routes you have an


1086
00:30:03,576 --> 00:30:04,736
opportunity to update the


1087
00:30:04,736 --> 00:30:06,066
content that is being displayed


1088
00:30:06,066 --> 00:30:06,746
in your window.


1089
00:30:07,636 --> 00:30:09,396
MapTemplate selectedPreviewFor


1090
00:30:09,396 --> 00:30:11,056
trip using routeChoice will be


1091
00:30:11,056 --> 00:30:12,236
called and you can change what


1092
00:30:12,236 --> 00:30:12,916
is being displayed.


1093
00:30:13,776 --> 00:30:15,406
This is a great opportunity to


1094
00:30:15,406 --> 00:30:17,366
mention how the map template is


1095
00:30:17,396 --> 00:30:19,606
drawing content that covers up


1096
00:30:19,606 --> 00:30:20,286
your window.


1097
00:30:21,366 --> 00:30:22,276
And you'll want to make sure


1098
00:30:22,276 --> 00:30:23,556
that the content you're drawing


1099
00:30:23,556 --> 00:30:25,166
is visible to your users.


1100
00:30:26,096 --> 00:30:27,516
For this, we've leveraged the


1101
00:30:27,516 --> 00:30:29,436
existing safeArea API you may


1102
00:30:29,436 --> 00:30:30,466
already be familiar with.


1103
00:30:31,336 --> 00:30:33,226
As the content changes from the


1104
00:30:33,226 --> 00:30:35,146
map template it will update the


1105
00:30:35,146 --> 00:30:37,446
safeArea insets on your window


1106
00:30:37,666 --> 00:30:38,626
to let you know where it is safe


1107
00:30:38,626 --> 00:30:39,016
to draw.


1108
00:30:39,226 --> 00:30:40,496
You'll just want to implement


1109
00:30:40,496 --> 00:30:42,666
safeAreaInsetsDidChange and pay


1110
00:30:42,666 --> 00:30:44,036
close attention to those insets


1111
00:30:44,036 --> 00:30:45,456
and make sure your content is


1112
00:30:45,456 --> 00:30:47,546
drawn within them.


1113
00:30:47,756 --> 00:30:48,696
Now, let's talk about turn by


1114
00:30:48,696 --> 00:30:49,406
turn guidance.


1115
00:30:50,486 --> 00:30:52,226
Similar to our preview, your app


1116
00:30:52,256 --> 00:30:54,156
can provide data to the CarPlay


1117
00:30:54,156 --> 00:30:55,656
framework that will cause it to


1118
00:30:55,656 --> 00:30:58,256
draw a guidance card populated


1119
00:30:58,256 --> 00:30:59,366
with information, such as an


1120
00:30:59,396 --> 00:31:00,716
image representing the maneuver.


1121
00:31:01,226 --> 00:31:02,676
How much farther it is until you


1122
00:31:02,676 --> 00:31:03,136
arrive there.


1123
00:31:04,286 --> 00:31:05,936
And of course, instructions on


1124
00:31:05,936 --> 00:31:06,806
what to do when you get there,


1125
00:31:06,806 --> 00:31:08,366
such as turn left or continue


1126
00:31:08,366 --> 00:31:08,706
straight.


1127
00:31:09,186 --> 00:31:12,616
Let's take a look at what you'll


1128
00:31:12,616 --> 00:31:15,026
need to learn to use turn by


1129
00:31:15,026 --> 00:31:16,046
turn guidance in the CarPlay


1130
00:31:16,046 --> 00:31:16,416
framework.


1131
00:31:16,916 --> 00:31:20,826
The CPMapTemplateDelegate and


1132
00:31:20,826 --> 00:31:22,436
the mapTemplate are two places


1133
00:31:22,436 --> 00:31:23,126
you'll need to start.


1134
00:31:23,486 --> 00:31:24,716
First, when the user hits that


1135
00:31:24,716 --> 00:31:25,926
go button from Route Preview


1136
00:31:26,686 --> 00:31:28,426
mapTemplate startedTrip using


1137
00:31:28,426 --> 00:31:29,656
routeChoice will be called on


1138
00:31:29,656 --> 00:31:30,636
your template delegate.


1139
00:31:31,226 --> 00:31:33,166
This is your indication to begin


1140
00:31:33,166 --> 00:31:34,966
navigation to that destination


1141
00:31:34,966 --> 00:31:36,436
using the route choice the user


1142
00:31:36,436 --> 00:31:36,996
has selected.


1143
00:31:37,656 --> 00:31:39,276
This is when you would begin


1144
00:31:39,386 --> 00:31:41,276
navigation in your app, and


1145
00:31:41,276 --> 00:31:42,686
also, begin providing turn by


1146
00:31:42,686 --> 00:31:43,796
turn updates to the CarPlay


1147
00:31:43,796 --> 00:31:44,186
framework.


1148
00:31:44,686 --> 00:31:46,066
You'll want to call


1149
00:31:46,066 --> 00:31:48,126
startNavigationSession for trip


1150
00:31:48,356 --> 00:31:49,226
on your map template.


1151
00:31:49,456 --> 00:31:50,536
And this will provide you with


1152
00:31:50,536 --> 00:31:51,456
an instance of


1153
00:31:51,516 --> 00:31:52,886
CPNavigationSession.


1154
00:31:52,886 --> 00:31:54,636
And this is where you manage


1155
00:31:54,636 --> 00:31:55,966
those upcoming maneuvers.


1156
00:31:56,406 --> 00:31:59,836
Using CPNavigationSession and


1157
00:31:59,836 --> 00:32:01,896
CPManeuver you will set upcoming


1158
00:32:01,896 --> 00:32:03,726
maneuvers and the system will


1159
00:32:03,726 --> 00:32:05,076
automatically display a primary


1160
00:32:05,076 --> 00:32:05,526
maneuver.


1161
00:32:05,866 --> 00:32:07,306
And if you provide a second


1162
00:32:07,306 --> 00:32:08,476
maneuver it can display a


1163
00:32:08,476 --> 00:32:09,596
secondary maneuver on that


1164
00:32:09,596 --> 00:32:10,126
guidance card.


1165
00:32:11,096 --> 00:32:12,856
You will then use update


1166
00:32:12,856 --> 00:32:14,276
estimates for maneuver to


1167
00:32:14,276 --> 00:32:15,926
continually update what is being


1168
00:32:16,156 --> 00:32:17,436
shown in that guidance card.


1169
00:32:17,436 --> 00:32:19,286
And let your users know when


1170
00:32:19,386 --> 00:32:20,446
their maneuver is approaching.


1171
00:32:21,276 --> 00:32:22,786
And most likely, your app will


1172
00:32:22,786 --> 00:32:24,306
be playing back audio prompts to


1173
00:32:24,306 --> 00:32:25,186
let them know, as well.


1174
00:32:25,986 --> 00:32:27,246
For this, you'll want to make


1175
00:32:27,246 --> 00:32:28,496
sure that your audio session is


1176
00:32:28,496 --> 00:32:29,856
configured appropriately for


1177
00:32:29,856 --> 00:32:30,326
CarPlay.


1178
00:32:31,156 --> 00:32:32,966
We have to remember that when in


1179
00:32:32,966 --> 00:32:34,676
the car your users may be


1180
00:32:34,676 --> 00:32:35,686
listening to an audio source


1181
00:32:35,686 --> 00:32:37,596
from iOS or they may be


1182
00:32:37,596 --> 00:32:38,606
listening to an audio source


1183
00:32:38,606 --> 00:32:40,156
from the car, such as FM radio.


1184
00:32:41,036 --> 00:32:42,246
You want to configure your audio


1185
00:32:42,246 --> 00:32:43,066
session with


1186
00:32:43,066 --> 00:32:45,436
AVAudioSessionModeVoicePrompt as


1187
00:32:45,436 --> 00:32:47,366
this will let the CarPlay system


1188
00:32:47,766 --> 00:32:49,326
know when to appropriately duck


1189
00:32:49,376 --> 00:32:50,766
the audio source, regardless of


1190
00:32:50,766 --> 00:32:51,446
where it's coming from.


1191
00:32:51,776 --> 00:32:52,676
You can, also, configure your


1192
00:32:52,676 --> 00:32:54,496
session with the category


1193
00:32:54,496 --> 00:32:56,186
options duckOthers and


1194
00:32:56,186 --> 00:32:57,436
interruptSpokenAudio


1195
00:32:57,436 --> 00:32:58,126
AndMixWithOthers.


1196
00:32:58,186 --> 00:32:59,216
And this will help ensure that


1197
00:32:59,216 --> 00:33:01,136
your audio plays well with other


1198
00:33:01,136 --> 00:33:02,146
iOS audio sources.


1199
00:33:03,346 --> 00:33:04,526
So, what happens next?


1200
00:33:04,996 --> 00:33:06,586
Well, your users will continue


1201
00:33:06,586 --> 00:33:07,106
to drive.


1202
00:33:08,066 --> 00:33:08,956
You'll want to continue to


1203
00:33:08,956 --> 00:33:10,746
provide updated maneuvers and


1204
00:33:10,746 --> 00:33:12,276
estimates and help them make


1205
00:33:12,276 --> 00:33:15,656
those turns when they need to.


1206
00:33:15,886 --> 00:33:16,916
What happens if they veer off


1207
00:33:16,916 --> 00:33:17,176
route?


1208
00:33:17,496 --> 00:33:18,976
Well, you might want to


1209
00:33:19,456 --> 00:33:20,596
calculate a new route.


1210
00:33:21,056 --> 00:33:22,496
You can set a pause reason which


1211
00:33:22,496 --> 00:33:23,946
will display a rerouting status


1212
00:33:23,946 --> 00:33:24,396
to the user.


1213
00:33:25,556 --> 00:33:26,646
Perhaps, a new route is


1214
00:33:26,646 --> 00:33:28,316
available or something has


1215
00:33:28,316 --> 00:33:29,346
occurred along the route.


1216
00:33:29,346 --> 00:33:30,326
And you can use a navigation


1217
00:33:30,326 --> 00:33:31,406
alert to present that


1218
00:33:31,406 --> 00:33:32,946
information to them, right there


1219
00:33:32,946 --> 00:33:33,706
on the map template.


1220
00:33:34,636 --> 00:33:36,716
And ultimately, they'll arrive


1221
00:33:36,716 --> 00:33:38,026
at their destination, thanks to


1222
00:33:38,026 --> 00:33:38,466
your app.


1223
00:33:39,696 --> 00:33:40,836
So, we've talked a lot about


1224
00:33:40,836 --> 00:33:42,146
what your apps can look like


1225
00:33:42,146 --> 00:33:43,496
while frontmost on the car


1226
00:33:43,496 --> 00:33:43,886
screen.


1227
00:33:43,996 --> 00:33:45,946
But we know that our users in


1228
00:33:45,946 --> 00:33:47,716
CarPlay often switch between


1229
00:33:47,716 --> 00:33:49,546
their mapping app and an audio


1230
00:33:49,546 --> 00:33:50,916
app, like our favorite audio app


1231
00:33:50,916 --> 00:33:51,406
Srirocka.


1232
00:33:52,566 --> 00:33:53,506
What happens when your app is


1233
00:33:53,506 --> 00:33:54,646
backgrounded and you need to


1234
00:33:54,646 --> 00:33:55,996
present important information to


1235
00:33:55,996 --> 00:33:56,626
your users?


1236
00:33:57,576 --> 00:33:58,866
You will have an opportunity to


1237
00:33:58,866 --> 00:34:00,356
provide banner notifications


1238
00:34:00,446 --> 00:34:02,276
that will display when the user


1239
00:34:02,276 --> 00:34:03,166
is away from your app.


1240
00:34:03,986 --> 00:34:06,036
And this will work for maneuver


1241
00:34:06,036 --> 00:34:07,966
updates, as well as navigation


1242
00:34:07,966 --> 00:34:08,426
alerts.


1243
00:34:09,656 --> 00:34:11,156
On your map template delegate


1244
00:34:11,156 --> 00:34:12,706
there are three methods you'll


1245
00:34:12,706 --> 00:34:13,366
want to implement.


1246
00:34:14,085 --> 00:34:15,386
The first is mapTemplate,


1247
00:34:15,386 --> 00:34:16,585
ShouldShowNotificationFor


1248
00:34:16,585 --> 00:34:16,996
maneuver.


1249
00:34:17,565 --> 00:34:19,696
When you set a new maneuver and


1250
00:34:19,696 --> 00:34:21,565
your app is backgrounded this


1251
00:34:21,565 --> 00:34:22,456
method will be called.


1252
00:34:22,686 --> 00:34:24,295
And if you return true, the


1253
00:34:24,295 --> 00:34:26,266
system will take that maneuver


1254
00:34:26,266 --> 00:34:27,576
and translate it into a banner


1255
00:34:27,576 --> 00:34:28,176
notification.


1256
00:34:29,366 --> 00:34:30,636
If you're already presenting a


1257
00:34:30,636 --> 00:34:31,666
banner notification for a


1258
00:34:31,666 --> 00:34:32,585
maneuver, and simply are


1259
00:34:32,585 --> 00:34:33,835
updating the travel estimates,


1260
00:34:34,306 --> 00:34:34,985
mapTemplate


1261
00:34:34,985 --> 00:34:36,556
shouldUpdateNotificationFor


1262
00:34:36,556 --> 00:34:38,106
maneuver with travelEstimates


1263
00:34:38,106 --> 00:34:38,636
will be called.


1264
00:34:38,896 --> 00:34:40,025
Allowing you to update the


1265
00:34:40,025 --> 00:34:41,206
content that appears in that


1266
00:34:41,206 --> 00:34:41,576
banner.


1267
00:34:41,996 --> 00:34:43,085
So, instead of rolling a new


1268
00:34:43,085 --> 00:34:45,016
notification, you can simply


1269
00:34:45,016 --> 00:34:46,206
update the contents that are


1270
00:34:46,206 --> 00:34:46,746
already there.


1271
00:34:47,545 --> 00:34:49,946
And for navigation alerts, you


1272
00:34:49,946 --> 00:34:51,025
will have an opportunity to


1273
00:34:51,025 --> 00:34:52,485
display those, as well, using


1274
00:34:52,485 --> 00:34:53,156
mapTemplate


1275
00:34:53,156 --> 00:34:54,696
shouldShowNotificationFor


1276
00:34:54,696 --> 00:34:55,505
navigationAlert.


1277
00:34:56,466 --> 00:34:57,846
With that, I'd like to invite


1278
00:34:57,846 --> 00:34:59,086
Jonathan up one more time to


1279
00:34:59,086 --> 00:35:00,566
give you a demo of how we've


1280
00:35:00,566 --> 00:35:01,886
integrated our Country Roads app


1281
00:35:01,886 --> 00:35:03,296
with the CarPlay framework to do


1282
00:35:03,296 --> 00:35:04,726
route preview and turn-by-turn


1283
00:35:04,726 --> 00:35:05,216
guidance.


1284
00:35:05,536 --> 00:35:05,906
Jonathan.


1285
00:35:06,516 --> 00:35:09,500
[ Applause ]


1286
00:35:10,866 --> 00:35:11,296
>> Thanks, Mike.


1287
00:35:12,066 --> 00:35:13,586
Let's take a quick look at some


1288
00:35:13,586 --> 00:35:15,326
code for how your navigation


1289
00:35:15,326 --> 00:35:16,676
apps can provide guidance in


1290
00:35:16,676 --> 00:35:18,596
CarPlay using our sample Country


1291
00:35:18,596 --> 00:35:19,116
Roads app.


1292
00:35:20,306 --> 00:35:21,766
When the user selects a


1293
00:35:21,766 --> 00:35:23,436
destination, we're going to grab


1294
00:35:23,436 --> 00:35:25,116
that placemark and hand the


1295
00:35:25,116 --> 00:35:27,156
current location and destination


1296
00:35:27,356 --> 00:35:28,826
to our navigation engine to


1297
00:35:28,826 --> 00:35:30,246
calculate some route choices.


1298
00:35:30,616 --> 00:35:32,546
For our purposes here, we have


1299
00:35:32,546 --> 00:35:34,256
only a single route choice, but


1300
00:35:34,256 --> 00:35:35,726
your navigation engine can


1301
00:35:35,726 --> 00:35:37,566
provide multiple alternative


1302
00:35:37,566 --> 00:35:38,986
routing options when available.


1303
00:35:39,346 --> 00:35:40,696
Plus, we can include some extra


1304
00:35:40,696 --> 00:35:42,476
details to help the user make an


1305
00:35:42,476 --> 00:35:44,706
informed decision about a route.


1306
00:35:44,786 --> 00:35:46,886
We'll create a CPTrip and call


1307
00:35:46,886 --> 00:35:49,116
showTripPreviews to inform


1308
00:35:49,116 --> 00:35:50,146
CarPlay that we're starting


1309
00:35:50,146 --> 00:35:51,256
navigation guidance.


1310
00:35:51,886 --> 00:35:53,376
Lastly, we'll update the


1311
00:35:53,376 --> 00:35:55,326
estimates to provide our user an


1312
00:35:55,326 --> 00:35:56,496
ETA for this trip.


1313
00:35:57,036 --> 00:35:58,166
Let's take a quick look at how


1314
00:35:58,166 --> 00:35:59,416
we can provide the maneuvers


1315
00:35:59,416 --> 00:36:00,356
that CarPlay needs for


1316
00:36:00,356 --> 00:36:01,006
navigation.


1317
00:36:01,486 --> 00:36:05,516
When our user has selected a


1318
00:36:05,516 --> 00:36:07,146
route and started navigation,


1319
00:36:07,316 --> 00:36:08,646
first we can hide the route


1320
00:36:08,696 --> 00:36:09,796
previews that our user was


1321
00:36:09,796 --> 00:36:10,266
browsing.


1322
00:36:10,956 --> 00:36:12,736
We'll tell our map template to


1323
00:36:12,736 --> 00:36:14,086
start a navigation session.


1324
00:36:14,446 --> 00:36:15,716
And we can move the session to


1325
00:36:15,716 --> 00:36:16,826
the loading state while we're


1326
00:36:16,826 --> 00:36:17,986
calculating maneuvers.


1327
00:36:18,576 --> 00:36:20,096
We'll build a list of CP


1328
00:36:20,096 --> 00:36:21,876
maneuver objects from our


1329
00:36:21,876 --> 00:36:22,856
navigation engine.


1330
00:36:23,206 --> 00:36:24,786
And last but not least, we'll


1331
00:36:24,786 --> 00:36:26,606
provide the first instruction to


1332
00:36:26,606 --> 00:36:27,736
our navigation session.


1333
00:36:27,876 --> 00:36:29,306
And now, we're ready to drive.


1334
00:36:29,576 --> 00:36:30,606
Let's see it in action.


1335
00:36:38,526 --> 00:36:38,986
All right.


1336
00:36:39,176 --> 00:36:40,546
Let's browse to our Favorites


1337
00:36:40,546 --> 00:36:42,826
list and choose Parks.


1338
00:36:43,326 --> 00:36:45,726
When we tap one of these


1339
00:36:45,726 --> 00:36:47,676
locations we'll see our app pops


1340
00:36:47,676 --> 00:36:49,346
back to the map template and


1341
00:36:49,346 --> 00:36:50,786
presents a route guidance card.


1342
00:36:51,616 --> 00:36:53,316
If we choose to start guidance


1343
00:36:53,316 --> 00:36:54,536
by tapping on the Go button


1344
00:36:54,536 --> 00:36:56,376
here, we'll see the app enter


1345
00:36:56,376 --> 00:36:57,296
navigation mode.


1346
00:36:58,076 --> 00:36:59,886
Your app can also update the Nav


1347
00:36:59,886 --> 00:37:01,826
bar if needed to show custom


1348
00:37:01,826 --> 00:37:03,136
buttons for navigation mode,


1349
00:37:03,326 --> 00:37:05,056
like a Cancel button or a toggle


1350
00:37:05,056 --> 00:37:05,896
for voice prompts.


1351
00:37:06,396 --> 00:37:07,326
Looks like we're making pretty


1352
00:37:07,326 --> 00:37:07,906
good time, here.


1353
00:37:09,156 --> 00:37:10,096
When we arrive at our


1354
00:37:10,096 --> 00:37:11,876
destination our app transitions


1355
00:37:11,876 --> 00:37:13,886
back out of navigation mode.


1356
00:37:14,956 --> 00:37:16,846
That's it for maps with the


1357
00:37:16,846 --> 00:37:17,686
CarPlay framework.


1358
00:37:18,316 --> 00:37:19,716
Let's review the roads that


1359
00:37:19,716 --> 00:37:21,176
we've driven together today.


1360
00:37:22,236 --> 00:37:24,056
We've shown you some big CarPlay


1361
00:37:24,056 --> 00:37:25,586
audio performance improvements


1362
00:37:25,616 --> 00:37:27,206
and optimizations for a better


1363
00:37:27,206 --> 00:37:28,576
experience for your users.


1364
00:37:29,266 --> 00:37:31,156
We introduced the brand new


1365
00:37:31,156 --> 00:37:33,326
CarPlay framework for navigation


1366
00:37:33,326 --> 00:37:34,816
and guidance apps in CarPlay.


1367
00:37:35,526 --> 00:37:37,406
Your app can work seamlessly on


1368
00:37:37,406 --> 00:37:38,646
different strings and input


1369
00:37:38,646 --> 00:37:39,266
devices.


1370
00:37:39,516 --> 00:37:41,056
You're the navigation experts


1371
00:37:41,136 --> 00:37:42,426
and you only have to do what you


1372
00:37:42,426 --> 00:37:44,686
do best; draw beautiful maps in


1373
00:37:44,686 --> 00:37:45,756
your beautiful apps.


1374
00:37:45,876 --> 00:37:47,546
And we'll take care of the rest.


1375
00:37:48,396 --> 00:37:49,836
You can draw your map template,


1376
00:37:50,066 --> 00:37:51,576
use CPMapTemplate and


1377
00:37:51,576 --> 00:37:53,366
CPNavigationSession to manage


1378
00:37:53,366 --> 00:37:54,076
navigation.


1379
00:37:54,366 --> 00:37:55,746
And show other templates as


1380
00:37:55,746 --> 00:37:57,506
needed to present information


1381
00:37:57,636 --> 00:37:59,036
and handle user interactions.


1382
00:38:00,246 --> 00:38:01,726
If you have any questions for


1383
00:38:01,726 --> 00:38:04,026
us, please come meet our team at


1384
00:38:04,026 --> 00:38:05,806
the CarPlay lab, later today, in


1385
00:38:05,806 --> 00:38:07,556
Lab 11 at 2 p.m.


1386
00:38:07,946 --> 00:38:08,896
You can, also, check out


1387
00:38:08,896 --> 00:38:11,226
developer.apple.com/carplay for


1388
00:38:11,226 --> 00:38:11,976
more details.


1389
00:38:12,496 --> 00:38:14,106
Otherwise, you have everything


1390
00:38:14,106 --> 00:38:15,476
you need to build a great


1391
00:38:15,476 --> 00:38:16,126
CarPlay app.


1392
00:38:16,356 --> 00:38:17,976
And we are so excited to see


1393
00:38:17,976 --> 00:38:18,656
what you create.


1394
00:38:19,216 --> 00:38:19,936
Thank you so much.


1395
00:38:20,516 --> 00:38:26,506
[ Applause ]

